var rs=Object.defineProperty;var ns=(e,t,r)=>t in e?rs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var pe=(e,t,r)=>ns(e,typeof t!="symbol"?t+"":t,r);import{r as is,a as os,b as _r}from"./vendor-EU4-jwXF.js";function Rc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}class ss extends Error{constructor(t){super("Programming error"+(t?`: ${t}`:""))}}const as=(e,t)=>{if(!e)throw new ss(t?.())};class ot{constructor(t){pe(this,"_m");this._m=new Map(t)}clear(){this._m.clear()}delete(t){return this._m.delete(t)}forEach(t){for(const[r,n]of this._m)t(n,r,this)}get(t){return this._m.get(t)}has(t){return this._m.has(t)}set(t,r){return this._m.set(t,r),this}get size(){return this._m.size}static groupedBy(t,r){const n=new ot;for(const i of t)n.update(r(i),o=>o?(o.push(i),o):[i]);return n}static mappedBy(t,r){const n=new ot;for(const i of t)n.set(r(i),i);return n}getOrCreate(t,r,n){let i=this.get(t);return i==null?this.set(t,i=r(t)):n&&n(i,t),i}update(t,r){return this.set(t,r(this.get(t),t))}mapEntries(t){return new ot([...this.entries()].map(([r,n])=>[r,t(n,r)]))}toArray(t){return[...this.entries()].map(([r,n])=>t(n,r))}valuesToArray(t){return[...this.values()].map(r=>t(r))}deleteKeys(t){for(const r of t)this.delete(r);return this}assign(t){for(const[r,n]of t)this.set(r,n);return this}backup(t){const r=t?t(this):new ot(this);return()=>{this.clear(),this.assign(r)}}filter(t){return new ot([...this.entries()].filter(([r,n])=>t(n,r)))}freeze(){const t={value(){throw new Error("Can not mutate frozen ExMap")},configurable:!1,enumerable:!1};for(const r of["set","delete","clear"])Object.defineProperty(this,r,t);return Object.freeze(this),this}[Symbol.iterator](){return this._m[Symbol.iterator]()}entries(){return this._m.entries()}keys(){return this._m.keys()}values(){return this._m.values()}get[Symbol.toStringTag](){return"ExMap"}}const oe=(e,t)=>Object.assign(e,{type:t}),qr=Symbol("gettrTag:cachedTypeSymbol"),Ei=(e,t,r=!0)=>(Object.defineProperty(e,"type",{get:r?()=>e[qr]??(e[qr]=t()):t,set:void 0,enumerable:!0,configurable:!0}),e),Pi=e=>e.type??"[unknown]",us=(e,t=[])=>{const r=t.filter(n=>n!=null&&n!==!1);return r.length===0?e:`${e}(${r.join(", ")})`};oe(e=>e!=null,"[defined]");oe(e=>e!==void 0,"!undefined");oe(e=>e!==null,"!null");const jc=oe(e=>!!e,"[truthy]"),Lc=oe(e=>e===void 0,"undefined");oe(e=>e===null,"null");oe(e=>e==null,"(null|undefined)");oe(e=>typeof e=="symbol","symbol");oe(e=>e instanceof Error,"error");oe(e=>e instanceof RegExp,"regexp");oe(e=>e instanceof Map,"map");oe(e=>e instanceof Set,"set");const fs=oe(e=>Array.isArray(e),"readonly-array");function Cc(e,t,r){if(!t(e)){const n=r(e);throw typeof n=="string"?new Error(n):n}return e}const cs=(e,t)=>r=>e(r)&&t(r),ls=e=>({push(t){this.run=cs(this.run,t)},run:e}),Mc=(e={})=>{const t=(()=>{const n=ls(a=>!0),{minLength:i,maxLength:o,check:s}=e;return i!=null&&n.push(a=>a.length>=i),o!=null&&n.push(a=>a.length<=o),s!=null&&n.push(s),n.run})(),{item:r}=e;return Ei(n=>{if(!Array.isArray(n)||!t(n))return!1;if(r==null)return!0;for(const i of n)if(!r(i))return!1;return!0},()=>us(`${r?Pi(r):"unknown"}[]`,[e.minLength!=null&&`len>=${e.minLength}`,e.maxLength!=null&&`len<=${e.maxLength}`,e.check&&(e.checkName??"custom")]))},$c=oe(e=>typeof e=="boolean","boolean"),Tc=oe(e=>typeof e=="object"&&e!=null&&!Array.isArray(e),"some-object"),Nc=(...e)=>Ei(t=>{for(const r of e)if(r(t))return!0;return!1},()=>`(${e.map(t=>Pi(t)).join(" | ")})`),Bc=oe(e=>typeof e=="string","string");class Tn extends Error{}const hs=(e,t="arg is null")=>{if(e==null){if(typeof t=="string")throw new Tn(t);const r=t();throw typeof r=="string"?new Tn(r):r}return e},Ic=(e,t)=>Array.from({length:e},(r,n)=>t(n)),Nn=(e,t,r)=>(Object.defineProperty(e,t,{value:r,writable:!1,enumerable:!0,configurable:!0}),r);function At(e,t,r,n){if(r===!0)return Nn(e,t,n);const{get:i,set:o}=r;if(!i||o)throw new Error("decorator must be called on getters only");return{get(){return Nn(this,t,i.call(this))},enumerable:!0,configurable:!0}}const ds=globalThis.crypto?.getRandomValues?(()=>{const e=t=>{const r=new Uint8Array(t);return globalThis.crypto.getRandomValues(r),r};return Object.assign(e,{hex:t=>Array.from(e(t)).map(r=>r.toString(16).padStart(2,"0")).join("")})})():(e=>Object.assign(t=>e.randomBytes(t),{hex:t=>e.randomBytes(t).toString("hex")}))(typeof require=="function"?require("crypto"):{randomBytes:Object.assign(()=>{throw new Error("Secure random generation not supported")},{hex:()=>{throw new Error("Secure random generation not supported")}})});function Ft(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}class _s{constructor(t,r=20){pe(this,"base");pe(this,"powers",[1n]);if(this.base=t,t<2n)throw new Error("mapping length must be > 1");this.get(Math.max(1,r)-1)}get(t){let r=this.powers.length-1;for(;t>r++;)this.powers.push(this.base*this.powers[this.powers.length-1]);return this.powers[t]}}class St{constructor(t){pe(this,"parts");pe(this,"from10",t=>{if(typeof t=="number"&&Math.floor(t)!==t)throw new Error(`n is floating ${t}`);let r=BigInt(t);if(r<0n)throw new Error(`n is negative: ${r}`);const{base:n,digits:i}=this;if(n===10n)throw new Error("mapping length must be != 10");const o=[];do o.push(i[Number(r%n)]),r/=n;while(r>0n);return String.fromCharCode(...o.reverse())});pe(this,"to10",t=>{const{byChar:r,powers:n}=this;let i=0n;for(let o=t.length-1;o>=0;--o){const s=r.get(t.charCodeAt(o));if(s===void 0)throw new Error(`invalid char '${t[o]}' in '${t}'`);i+=s*n.get(t.length-1-o)}return i});pe(this,"mask",t=>{const r=this.digits[this.digits.length-1];return String.fromCharCode(...Array.from({length:t},()=>r))});pe(this,"random",t=>{if(t<1||Math.floor(t)!==t)throw new Error(`random length must be integer > 0, got ${t}`);return String.fromCharCode(...Array.from({length:t},()=>this.digits[Math.random()*this.digits.length|0]))});pe(this,"fixedWidthRandomGenerator",t=>{const r=c=>{const d=Number(this.to10(this.mask(c)));if(d<=0||!Number.isFinite(d))throw new Error(`invalid mask: ${d}`);const _=BigInt(d),E=Math.ceil(Math.log2(d)),y=Math.max(1,Math.ceil(E/8)),M=1n<<BigInt(8*y),w=M-M%_;return()=>{for(;;){const O=ds(y);let b=0n;for(let p=0;p<y;p++)b=b<<8n|BigInt(O[p]);if(b<w)return Number(b%_)}}};if(t<1||Math.floor(t)!==t)throw new Error(`length must be integer < 1, got ${t}`);const n=String.fromCharCode(this.digits[0]),i=this.maxSafeExponent,o=t%i,s=Math.floor(t/i),a=(c,d)=>this.from10(c()).padStart(d,n),u=c=>{const d=[];for(let _=0;_<s;++_)d.push(a(c,i));return d.join("")};if(o>0){const c=r(o);if(s>0){const d=r(i);return()=>u(d)+a(c,o)}return()=>a(c,t)}as(s>0);const f=r(i);return()=>u(f)});this.parts=t}get base(){return BigInt(this.digits.length)}get digits(){return[...this.digitsSet].sort((r,n)=>r-n)}get digitsSet(){const t=new Set;for(const[r,n]of this.parts.entries())if(fs(n)){if(n.length!==2||n[0].length!==1||n[1].length!==1)throw new Error(`parts[${r}] must be ['a','z'] (to add a range) or 'abc0xyz' (to add by char)`);const[i,o]=Array.from(n).map(s=>s.codePointAt(0));if(i>o)throw new Error(`parts[${r}] 'from' must be <= 'to', got '${i}' > '${o}'`);for(let s=0;s<o-i+1;++s)t.add(i+s)}else for(let i=0;i<n.length;++i)t.add(n.codePointAt(i));if(t.size<2)throw new Error("empty digits set");return t}get powers(){return new _s(this.base)}get byChar(){return new Map([...this.digits].map((t,r)=>[t,BigInt(r)]))}get maxSafeInteger(){return this.from10(BigInt(Number.MAX_SAFE_INTEGER))}get maxSafeExponent(){return this.maxSafeInteger.length-1}}Ft([At],St.prototype,"digits",null);Ft([At],St.prototype,"digitsSet",null);Ft([At],St.prototype,"powers",null);Ft([At],St.prototype,"byChar",null);Ft([At],St.prototype,"maxSafeInteger",null);const bs=e=>{const t={};for(const[r,n]of Object.entries(e))t[r]=t[`b${r}`]=new St(n);return t},ps={...bs({2:[["0","1"]],3:[["0","2"]],4:[["0","3"]],6:[["0","5"]],8:[["0","7"]],10:[["0","9"]],16:[["0","9"],["a","f"]],62:[["0","9"],["a","z"],["A","Z"]],70:[["0","9"],["a","z"],["A","Z"],"!@$&%+_="],88:[["0","9"],["a","z"],["A","Z"],`_+-=~!?@#:*&^%$.,{}[]<>'"/`]})},{b62:{from10:gs,to10:vs,mask:ms,fixedWidthRandomGenerator:Ri}}=ps,ys=Ri(16);Ri(12);const ji=e=>{const t=Number(vs(ms(e)));return()=>gs(Date.now()%t).padStart(e,"0")},xs=ji(4);ji(2);const Vc=()=>`${xs()}${ys()}`;var Ur={},Ct={},rt={},Bn;function Li(){return Bn||(Bn=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.ROARR_LOG_FORMAT_VERSION=rt.ROARR_VERSION=void 0,rt.ROARR_VERSION="5.0.0",rt.ROARR_LOG_FORMAT_VERSION="2.0.0"),rt}var Mt={},In;function _n(){return In||(In=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.logLevels=void 0,Mt.logLevels={debug:20,error:50,fatal:60,info:30,trace:10,warn:40}),Mt}var $t={},Vn;function Os(){if(Vn)return $t;Vn=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.hasOwnProperty=void 0;const e=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);return $t.hasOwnProperty=e,$t}var Tt={},zn;function ws(){if(zn)return Tt;zn=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.isBrowser=void 0;const e=()=>typeof window<"u";return Tt.isBrowser=e,Tt}var Nt={},Dn;function As(){if(Dn)return Nt;Dn=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.isTruthy=void 0;const e=t=>["true","t","yes","y","on","1"].includes(t.trim().toLowerCase());return Nt.isTruthy=e,Nt}var Fr={},kn;function Ss(){return kn||(kn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMockLogger=void 0;const t=_n(),r=(i,o)=>(s,a,u,f,c,d,_,E,y,M)=>{i.child({logLevel:o})(s,a,u,f,c,d,_,E,y,M)},n=(i,o)=>{const s=()=>{};return s.adopt=async a=>a(),s.child=()=>(0,e.createMockLogger)(i,o),s.getContext=()=>({}),s.debug=r(s,t.logLevels.debug),s.debugOnce=r(s,t.logLevels.debug),s.error=r(s,t.logLevels.error),s.errorOnce=r(s,t.logLevels.error),s.fatal=r(s,t.logLevels.fatal),s.fatalOnce=r(s,t.logLevels.fatal),s.info=r(s,t.logLevels.info),s.infoOnce=r(s,t.logLevels.info),s.trace=r(s,t.logLevels.trace),s.traceOnce=r(s,t.logLevels.trace),s.warn=r(s,t.logLevels.warn),s.warnOnce=r(s,t.logLevels.warn),s};e.createMockLogger=n})(Fr)),Fr}var er={exports:{}},Gn;function Ci(){return Gn||(Gn=1,(function(e,t){const{hasOwnProperty:r}=Object.prototype,n=O();n.configure=O,n.stringify=n,n.default=n,t.stringify=n,t.configure=O,e.exports=n;const i=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function o(b){return b.length<5e3&&!i.test(b)?`"${b}"`:JSON.stringify(b)}function s(b,p){if(b.length>200||p)return b.sort(p);for(let x=1;x<b.length;x++){const A=b[x];let L=x;for(;L!==0&&b[L-1]>A;)b[L]=b[L-1],L--;b[L]=A}return b}const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function u(b){return a.call(b)!==void 0&&b.length!==0}function f(b,p,x){b.length<x&&(x=b.length);const A=p===","?"":" ";let L=`"0":${A}${b[0]}`;for(let W=1;W<x;W++)L+=`${p}"${W}":${A}${b[W]}`;return L}function c(b){if(r.call(b,"circularValue")){const p=b.circularValue;if(typeof p=="string")return`"${p}"`;if(p==null)return p;if(p===Error||p===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function d(b){let p;if(r.call(b,"deterministic")&&(p=b.deterministic,typeof p!="boolean"&&typeof p!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return p===void 0?!0:p}function _(b,p){let x;if(r.call(b,p)&&(x=b[p],typeof x!="boolean"))throw new TypeError(`The "${p}" argument must be of type boolean`);return x===void 0?!0:x}function E(b,p){let x;if(r.call(b,p)){if(x=b[p],typeof x!="number")throw new TypeError(`The "${p}" argument must be of type number`);if(!Number.isInteger(x))throw new TypeError(`The "${p}" argument must be an integer`);if(x<1)throw new RangeError(`The "${p}" argument must be >= 1`)}return x===void 0?1/0:x}function y(b){return b===1?"1 item":`${b} items`}function M(b){const p=new Set;for(const x of b)(typeof x=="string"||typeof x=="number")&&p.add(String(x));return p}function w(b){if(r.call(b,"strict")){const p=b.strict;if(typeof p!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(p)return x=>{let A=`Object can not safely be stringified. Received type ${typeof x}`;throw typeof x!="function"&&(A+=` (${x.toString()})`),new Error(A)}}}function O(b){b={...b};const p=w(b);p&&(b.bigint===void 0&&(b.bigint=!1),"circularValue"in b||(b.circularValue=Error));const x=c(b),A=_(b,"bigint"),L=d(b),W=typeof L=="function"?L:void 0,ie=E(b,"maximumDepth"),v=E(b,"maximumBreadth");function I(V,l,m,R,C,$){let S=l[V];switch(typeof S=="object"&&S!==null&&typeof S.toJSON=="function"&&(S=S.toJSON(V)),S=R.call(l,V,S),typeof S){case"string":return o(S);case"object":{if(S===null)return"null";if(m.indexOf(S)!==-1)return x;let j="",G=",";const k=$;if(Array.isArray(S)){if(S.length===0)return"[]";if(ie<m.length+1)return'"[Array]"';m.push(S),C!==""&&($+=C,j+=`
${$}`,G=`,
${$}`);const ue=Math.min(S.length,v);let Re=0;for(;Re<ue-1;Re++){const Qt=I(String(Re),S,m,R,C,$);j+=Qt!==void 0?Qt:"null",j+=G}const je=I(String(Re),S,m,R,C,$);if(j+=je!==void 0?je:"null",S.length-1>v){const Qt=S.length-v-1;j+=`${G}"... ${y(Qt)} not stringified"`}return C!==""&&(j+=`
${k}`),m.pop(),`[${j}]`}let T=Object.keys(S);const q=T.length;if(q===0)return"{}";if(ie<m.length+1)return'"[Object]"';let B="",se="";C!==""&&($+=C,G=`,
${$}`,B=" ");const xe=Math.min(q,v);L&&!u(S)&&(T=s(T,W)),m.push(S);for(let ue=0;ue<xe;ue++){const Re=T[ue],je=I(Re,S,m,R,C,$);je!==void 0&&(j+=`${se}${o(Re)}:${B}${je}`,se=G)}if(q>v){const ue=q-v;j+=`${se}"...":${B}"${y(ue)} not stringified"`,se=G}return C!==""&&se.length>1&&(j=`
${$}${j}
${k}`),m.pop(),`{${j}}`}case"number":return isFinite(S)?String(S):p?p(S):"null";case"boolean":return S===!0?"true":"false";case"undefined":return;case"bigint":if(A)return String(S);default:return p?p(S):void 0}}function D(V,l,m,R,C,$){switch(typeof l=="object"&&l!==null&&typeof l.toJSON=="function"&&(l=l.toJSON(V)),typeof l){case"string":return o(l);case"object":{if(l===null)return"null";if(m.indexOf(l)!==-1)return x;const S=$;let j="",G=",";if(Array.isArray(l)){if(l.length===0)return"[]";if(ie<m.length+1)return'"[Array]"';m.push(l),C!==""&&($+=C,j+=`
${$}`,G=`,
${$}`);const q=Math.min(l.length,v);let B=0;for(;B<q-1;B++){const xe=D(String(B),l[B],m,R,C,$);j+=xe!==void 0?xe:"null",j+=G}const se=D(String(B),l[B],m,R,C,$);if(j+=se!==void 0?se:"null",l.length-1>v){const xe=l.length-v-1;j+=`${G}"... ${y(xe)} not stringified"`}return C!==""&&(j+=`
${S}`),m.pop(),`[${j}]`}m.push(l);let k="";C!==""&&($+=C,G=`,
${$}`,k=" ");let T="";for(const q of R){const B=D(q,l[q],m,R,C,$);B!==void 0&&(j+=`${T}${o(q)}:${k}${B}`,T=G)}return C!==""&&T.length>1&&(j=`
${$}${j}
${S}`),m.pop(),`{${j}}`}case"number":return isFinite(l)?String(l):p?p(l):"null";case"boolean":return l===!0?"true":"false";case"undefined":return;case"bigint":if(A)return String(l);default:return p?p(l):void 0}}function Z(V,l,m,R,C){switch(typeof l){case"string":return o(l);case"object":{if(l===null)return"null";if(typeof l.toJSON=="function"){if(l=l.toJSON(V),typeof l!="object")return Z(V,l,m,R,C);if(l===null)return"null"}if(m.indexOf(l)!==-1)return x;const $=C;if(Array.isArray(l)){if(l.length===0)return"[]";if(ie<m.length+1)return'"[Array]"';m.push(l),C+=R;let B=`
${C}`;const se=`,
${C}`,xe=Math.min(l.length,v);let ue=0;for(;ue<xe-1;ue++){const je=Z(String(ue),l[ue],m,R,C);B+=je!==void 0?je:"null",B+=se}const Re=Z(String(ue),l[ue],m,R,C);if(B+=Re!==void 0?Re:"null",l.length-1>v){const je=l.length-v-1;B+=`${se}"... ${y(je)} not stringified"`}return B+=`
${$}`,m.pop(),`[${B}]`}let S=Object.keys(l);const j=S.length;if(j===0)return"{}";if(ie<m.length+1)return'"[Object]"';C+=R;const G=`,
${C}`;let k="",T="",q=Math.min(j,v);u(l)&&(k+=f(l,G,v),S=S.slice(l.length),q-=l.length,T=G),L&&(S=s(S,W)),m.push(l);for(let B=0;B<q;B++){const se=S[B],xe=Z(se,l[se],m,R,C);xe!==void 0&&(k+=`${T}${o(se)}: ${xe}`,T=G)}if(j>v){const B=j-v;k+=`${T}"...": "${y(B)} not stringified"`,T=G}return T!==""&&(k=`
${C}${k}
${$}`),m.pop(),`{${k}}`}case"number":return isFinite(l)?String(l):p?p(l):"null";case"boolean":return l===!0?"true":"false";case"undefined":return;case"bigint":if(A)return String(l);default:return p?p(l):void 0}}function te(V,l,m){switch(typeof l){case"string":return o(l);case"object":{if(l===null)return"null";if(typeof l.toJSON=="function"){if(l=l.toJSON(V),typeof l!="object")return te(V,l,m);if(l===null)return"null"}if(m.indexOf(l)!==-1)return x;let R="";const C=l.length!==void 0;if(C&&Array.isArray(l)){if(l.length===0)return"[]";if(ie<m.length+1)return'"[Array]"';m.push(l);const k=Math.min(l.length,v);let T=0;for(;T<k-1;T++){const B=te(String(T),l[T],m);R+=B!==void 0?B:"null",R+=","}const q=te(String(T),l[T],m);if(R+=q!==void 0?q:"null",l.length-1>v){const B=l.length-v-1;R+=`,"... ${y(B)} not stringified"`}return m.pop(),`[${R}]`}let $=Object.keys(l);const S=$.length;if(S===0)return"{}";if(ie<m.length+1)return'"[Object]"';let j="",G=Math.min(S,v);C&&u(l)&&(R+=f(l,",",v),$=$.slice(l.length),G-=l.length,j=","),L&&($=s($,W)),m.push(l);for(let k=0;k<G;k++){const T=$[k],q=te(T,l[T],m);q!==void 0&&(R+=`${j}${o(T)}:${q}`,j=",")}if(S>v){const k=S-v;R+=`${j}"...":"${y(k)} not stringified"`}return m.pop(),`{${R}}`}case"number":return isFinite(l)?String(l):p?p(l):"null";case"boolean":return l===!0?"true":"false";case"undefined":return;case"bigint":if(A)return String(l);default:return p?p(l):void 0}}function le(V,l,m){if(arguments.length>1){let R="";if(typeof m=="number"?R=" ".repeat(Math.min(m,10)):typeof m=="string"&&(R=m.slice(0,10)),l!=null){if(typeof l=="function")return I("",{"":V},[],l,R,"");if(Array.isArray(l))return D("",V,[],M(l),R,"")}if(R.length!==0)return Z("",V,[],R,"")}return te("",V,[])}return le}})(er,er.exports)),er.exports}var qn;function Es(){return qn||(qn=1,(function(e){var t={},r=Ct&&Ct.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(e,"__esModule",{value:!0}),e.createLogger=void 0;const n=Li(),i=_n(),o=Os(),s=ws(),a=As(),u=Ss(),f=is(),c=r(Ci());let d=!1;const _=()=>globalThis.ROARR,E=()=>({messageContext:{},transforms:[]}),y=()=>{const A=_().asyncLocalStorage;if(!A)throw new Error("AsyncLocalContext is unavailable.");const L=A.getStore();return L||E()},M=()=>!!_().asyncLocalStorage,w=()=>{if(M()){const A=y();return(0,o.hasOwnProperty)(A,"sequenceRoot")&&(0,o.hasOwnProperty)(A,"sequence")&&typeof A.sequence=="number"?String(A.sequenceRoot)+"."+String(A.sequence++):String(_().sequence++)}return String(_().sequence++)},O=(A,L)=>(W,ie,v,I,D,Z,te,le,V,l)=>{A.child({logLevel:L})(W,ie,v,I,D,Z,te,le,V,l)},b=1e3,p=(A,L)=>(W,ie,v,I,D,Z,te,le,V,l)=>{const m=(0,c.default)({a:W,b:ie,c:v,d:I,e:D,f:Z,g:te,h:le,i:V,j:l,logLevel:L});if(!m)throw new Error("Expected key to be a string");const R=_().onceLog;R.has(m)||(R.add(m),R.size>b&&R.clear(),A.child({logLevel:L})(W,ie,v,I,D,Z,te,le,V,l))},x=(A,L={},W=[])=>{var ie;if(!(0,s.isBrowser)()&&typeof process<"u"&&!(0,a.isTruthy)((ie=t.ROARR_LOG)!==null&&ie!==void 0?ie:""))return(0,u.createMockLogger)(A,L);const v=(I,D,Z,te,le,V,l,m,R,C)=>{const $=Date.now(),S=w();let j;M()?j=y():j=E();let G,k;if(typeof I=="string"?G={...j.messageContext,...L}:G={...j.messageContext,...L,...I},typeof I=="string"&&D===void 0)k=I;else if(typeof I=="string"){if(!I.includes("%"))throw new Error("When a string parameter is followed by other arguments, then it is assumed that you are attempting to format a message using printf syntax. You either forgot to add printf bindings or if you meant to add context to the log message, pass them in an object as the first parameter.");k=(0,f.printf)(I,D,Z,te,le,V,l,m,R,C)}else{let q=D;if(typeof D!="string")if(D===void 0)q="";else throw new TypeError("Message must be a string. Received "+typeof D+".");k=(0,f.printf)(q,Z,te,le,V,l,m,R,C)}let T={context:G,message:k,sequence:S,time:$,version:n.ROARR_LOG_FORMAT_VERSION};for(const q of[...j.transforms,...W])if(T=q(T),typeof T!="object"||T===null)throw new Error("Message transform function must return a message object.");A(T)};return v.child=I=>{let D;return M()?D=y():D=E(),typeof I=="function"?(0,e.createLogger)(A,{...D.messageContext,...L,...I},[I,...W]):(0,e.createLogger)(A,{...D.messageContext,...L,...I},W)},v.getContext=()=>{let I;return M()?I=y():I=E(),{...I.messageContext,...L}},v.adopt=async(I,D)=>{if(!M())return d===!1&&(d=!0,A({context:{logLevel:i.logLevels.warn,package:"roarr"},message:"async_hooks are unavailable; Roarr.adopt will not function as expected",sequence:w(),time:Date.now(),version:n.ROARR_LOG_FORMAT_VERSION})),I();const Z=y();let te;(0,o.hasOwnProperty)(Z,"sequenceRoot")&&(0,o.hasOwnProperty)(Z,"sequence")&&typeof Z.sequence=="number"?te=Z.sequenceRoot+"."+String(Z.sequence++):te=String(_().sequence++);let le={...Z.messageContext};const V=[...Z.transforms];typeof D=="function"?V.push(D):le={...le,...D};const l=_().asyncLocalStorage;if(!l)throw new Error("Async local context unavailable.");return l.run({messageContext:le,sequence:0,sequenceRoot:te,transforms:V},()=>I())},v.debug=O(v,i.logLevels.debug),v.debugOnce=p(v,i.logLevels.debug),v.error=O(v,i.logLevels.error),v.errorOnce=p(v,i.logLevels.error),v.fatal=O(v,i.logLevels.fatal),v.fatalOnce=p(v,i.logLevels.fatal),v.info=O(v,i.logLevels.info),v.infoOnce=p(v,i.logLevels.info),v.trace=O(v,i.logLevels.trace),v.traceOnce=p(v,i.logLevels.trace),v.warn=O(v,i.logLevels.warn),v.warnOnce=p(v,i.logLevels.warn),v};e.createLogger=x})(Ct)),Ct}var nt={},Un;function Ps(){if(Un)return nt;Un=1;var e=nt&&nt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(nt,"__esModule",{value:!0}),nt.createRoarrInitialGlobalStateBrowser=void 0;const t=Li(),r=e(os()),n=i=>{const o=(i.versions||[]).concat();return o.length>1&&o.sort(r.default),o.includes(t.ROARR_VERSION)||o.push(t.ROARR_VERSION),o.sort(r.default),{sequence:0,...i,versions:o}};return nt.createRoarrInitialGlobalStateBrowser=n,nt}var Bt={},Fn;function Rs(){if(Fn)return Bt;Fn=1,Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.stringify=void 0;const t=(0,Ci().configure)({deterministic:!1,maximumBreadth:20,maximumDepth:10,strict:!1}),r=n=>{var i,o;try{return(i=JSON.stringify(n))!==null&&i!==void 0?i:""}catch{}try{return(o=t(n))!==null&&o!==void 0?o:""}catch(s){throw console.error("[roarr] could not serialize value",n),s}};return Bt.stringify=r,Bt}var It={},Kn;function js(){if(Kn)return It;Kn=1,Object.defineProperty(It,"__esModule",{value:!0}),It.getLogLevelName=void 0;const e=t=>t<=10?"trace":t<=20?"debug":t<=30?"info":t<=40?"warn":t<=50?"error":"fatal";return It.getLogLevelName=e,It}var Zn;function Ls(){return Zn||(Zn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getLogLevelName=e.logLevels=e.Roarr=e.ROARR=void 0;const t=Es(),r=Ps(),n=Rs(),i=(0,r.createRoarrInitialGlobalStateBrowser)(globalThis.ROARR||{});e.ROARR=i,globalThis.ROARR=i;const o=f=>(0,n.stringify)(f),s=(0,t.createLogger)(f=>{var c;i.write&&i.write(((c=i.serializeMessage)!==null&&c!==void 0?c:o)(f))});e.Roarr=s;var a=_n();Object.defineProperty(e,"logLevels",{enumerable:!0,get:function(){return a.logLevels}});var u=js();Object.defineProperty(e,"getLogLevelName",{enumerable:!0,get:function(){return u.getLogLevelName}})})(Ur)),Ur}var zc=Ls();function P(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Cs={};function Pr(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Cs}var Mi=Object.assign,br=Object.getOwnPropertyDescriptor,Me=Object.defineProperty,Kt=Object.prototype,Yr=[];Object.freeze(Yr);var bn={};Object.freeze(bn);var Ms=typeof Proxy<"u",$s=Object.toString();function $i(){Ms||P("Proxy not available")}function Ti(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var pt=function(){};function _e(e){return typeof e=="function"}function st(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Rr(e){return e!==null&&typeof e=="object"}function qe(e){if(!Rr(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r.toString()===$s}function Ni(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Zt(e,t,r){Me(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function Bi(e,t,r){Me(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}function Ye(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(n){return Rr(n)&&n[r]===!0}}function Et(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function Ts(e){var t=Object.getPrototypeOf(e),r=Object.getPrototypeOf(t),n=Object.getPrototypeOf(r);return n===null}function Be(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var Ii=typeof Object.getOwnPropertySymbols<"u";function Ns(e){var t=Object.keys(e);if(!Ii)return t;var r=Object.getOwnPropertySymbols(e);return r.length?[].concat(t,r.filter(function(n){return Kt.propertyIsEnumerable.call(e,n)})):t}var mt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Ii?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Vi(e){return e===null?null:typeof e=="object"?""+e:e}function De(e,t){return Kt.hasOwnProperty.call(e,t)}var Bs=Object.getOwnPropertyDescriptors||function(t){var r={};return mt(t).forEach(function(n){r[n]=br(t,n)}),r};function he(e,t){return!!(e&t)}function de(e,t,r){return r?e|=t:e&=~t,e}function Wn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Is(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zs(n.key),n)}}function Pt(e,t,r){return t&&Is(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Ds(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},He.apply(null,arguments)}function zi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Qr(e,t)}function Qr(e,t){return Qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Qr(e,t)}function Vs(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zs(e){var t=Vs(e,"string");return typeof t=="symbol"?t:t+""}function Ds(e,t){if(e){if(typeof e=="string")return Wn(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wn(e,t):void 0}}var Ce=Symbol("mobx-stored-annotations");function Oe(e){function t(r,n){if(Ht(n))return e.decorate_20223_(r,n);Wt(r,n,e)}return Object.assign(t,e)}function Wt(e,t,r){De(e,Ce)||Zt(e,Ce,He({},e[Ce])),Hs(r)||(e[Ce][t]=r)}function ks(e){return De(e,Ce)||Zt(e,Ce,He({},e[Ce])),e[Ce]}function Ht(e){return typeof e=="object"&&typeof e.kind=="string"}var g=Symbol("mobx administration"),Qe=(function(){function e(r){r===void 0&&(r="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=N.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=r}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},t.reportObserved=function(){return oo(this)},t.reportChanged=function(){fe(),so(this),ce()},t.toString=function(){return this.name_},Pt(e,[{key:"isBeingObserved",get:function(){return he(this.flags_,e.isBeingObservedMask_)},set:function(n){this.flags_=de(this.flags_,e.isBeingObservedMask_,n)}},{key:"isPendingUnobservation",get:function(){return he(this.flags_,e.isPendingUnobservationMask_)},set:function(n){this.flags_=de(this.flags_,e.isPendingUnobservationMask_,n)}},{key:"diffValue",get:function(){return he(this.flags_,e.diffValueMask_)?1:0},set:function(n){this.flags_=de(this.flags_,e.diffValueMask_,n===1)}}])})();Qe.isBeingObservedMask_=1;Qe.isPendingUnobservationMask_=2;Qe.diffValueMask_=4;var pn=Ye("Atom",Qe);function gn(e,t,r){t===void 0&&(t=pt),r===void 0&&(r=pt);var n=new Qe(e);return t!==pt&&po(n,t),r!==pt&&Tr(n,r),n}function Gs(e,t){return e===t}function qs(e,t){return En(e,t)}function Us(e,t){return En(e,t,1)}function Fs(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var at={identity:Gs,structural:qs,default:Fs,shallow:Us};function ut(e,t,r){return Ir(e)?e:Array.isArray(e)?F.array(e,{name:r}):qe(e)?F.object(e,void 0,{name:r}):Et(e)?F.map(e,{name:r}):Be(e)?F.set(e,{name:r}):typeof e=="function"&&!Xe(e)&&!xt(e)?Ni(e)?ct(e):yt(r,e):e}function Ks(e,t,r){if(e==null||Q(e)||ae(e)||ee(e)||X(e))return e;if(Array.isArray(e))return F.array(e,{name:r,deep:!1});if(qe(e))return F.object(e,void 0,{name:r,deep:!1});if(Et(e))return F.map(e,{name:r,deep:!1});if(Be(e))return F.set(e,{name:r,deep:!1})}function jr(e){return e}function Zs(e,t){return En(e,t)?t:e}var Di="override",Ws=Oe({annotationType_:Di,make_:Js,extend_:Xs,decorate_20223_:Ys});function Hs(e){return e.annotationType_===Di}function Js(e,t){return 0}function Xs(e,t,r,n){P("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function Ys(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function Jt(e,t){return{annotationType_:e,options_:t,make_:Qs,extend_:ea,decorate_20223_:ta}}function Qs(e,t,r,n){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,r,!1)===null?0:1;if(n===e.target_)return this.extend_(e,t,r,!1)===null?0:2;if(Xe(r.value))return 1;var o=ki(e,this,t,r,!1);return Me(n,t,o),2}function ea(e,t,r,n){var i=ki(e,this,t,r);return e.defineProperty_(t,i,n)}function ta(e,t){var r=t.kind,n=t.name,i=t.addInitializer,o=this,s=function(f){var c,d,_,E;return Je((c=(d=o.options_)==null?void 0:d.name)!=null?c:n.toString(),f,(_=(E=o.options_)==null?void 0:E.autoAction)!=null?_:!1)};if(r=="field")return function(u){var f,c=u;return Xe(c)||(c=s(c)),(f=o.options_)!=null&&f.bound&&(c=c.bind(this),c.isMobxAction=!0),c};if(r=="method"){var a;return Xe(e)||(e=s(e)),(a=this.options_)!=null&&a.bound&&i(function(){var u=this,f=u[n].bind(u);f.isMobxAction=!0,u[n]=f}),e}P("Cannot apply '"+o.annotationType_+"' to '"+String(n)+"' (kind: "+r+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function ki(e,t,r,n,i){var o,s,a,u,f,c,d;i===void 0&&(i=h.safeDescriptors);var _=n.value;if((o=t.options_)!=null&&o.bound){var E;_=_.bind((E=e.proxy_)!=null?E:e.target_)}return{value:Je((s=(a=t.options_)==null?void 0:a.name)!=null?s:r.toString(),_,(u=(f=t.options_)==null?void 0:f.autoAction)!=null?u:!1,(c=t.options_)!=null&&c.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function Gi(e,t){return{annotationType_:e,options_:t,make_:ra,extend_:na,decorate_20223_:ia}}function ra(e,t,r,n){var i;if(n===e.target_)return this.extend_(e,t,r,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!De(e.target_,t)||!xt(e.target_[t]))&&this.extend_(e,t,r,!1)===null)return 0;if(xt(r.value))return 1;var o=qi(e,this,t,r,!1,!1);return Me(n,t,o),2}function na(e,t,r,n){var i,o=qi(e,this,t,r,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,o,n)}function ia(e,t){var r,n=t.name,i=t.addInitializer;return xt(e)||(e=ct(e)),(r=this.options_)!=null&&r.bound&&i(function(){var o=this,s=o[n].bind(o);s.isMobXFlow=!0,o[n]=s}),e}function qi(e,t,r,n,i,o){o===void 0&&(o=h.safeDescriptors);var s=n.value;if(xt(s)||(s=ct(s)),i){var a;s=s.bind((a=e.proxy_)!=null?a:e.target_),s.isMobXFlow=!0}return{value:s,configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function vn(e,t){return{annotationType_:e,options_:t,make_:oa,extend_:sa,decorate_20223_:aa}}function oa(e,t,r){return this.extend_(e,t,r,!1)===null?0:1}function sa(e,t,r,n){return e.defineComputedProperty_(t,He({},this.options_,{get:r.get,set:r.set}),n)}function aa(e,t){var r=this,n=t.name,i=t.addInitializer;return i(function(){var o=ht(this)[g],s=He({},r.options_,{get:e,context:this});s.name||(s.name="ObservableObject."+n.toString()),o.values_.set(n,new Se(s))}),function(){return this[g].getObservablePropValue_(n)}}function Lr(e,t){return{annotationType_:e,options_:t,make_:ua,extend_:fa,decorate_20223_:ca}}function ua(e,t,r){return this.extend_(e,t,r,!1)===null?0:1}function fa(e,t,r,n){var i,o;return e.defineObservableProperty_(t,r.value,(i=(o=this.options_)==null?void 0:o.enhancer)!=null?i:ut,n)}function ca(e,t){var r=this,n=t.kind,i=t.name,o=new WeakSet;function s(a,u){var f,c,d=ht(a)[g],_=new Ze(u,(f=(c=r.options_)==null?void 0:c.enhancer)!=null?f:ut,"ObservableObject."+i.toString(),!1);d.values_.set(i,_),o.add(a)}if(n=="accessor")return{get:function(){return o.has(this)||s(this,e.get.call(this)),this[g].getObservablePropValue_(i)},set:function(u){return o.has(this)||s(this,u),this[g].setObservablePropValue_(i,u)},init:function(u){return o.has(this)||s(this,u),u}}}var la="true",ha=Ui();function Ui(e){return{annotationType_:la,options_:e,make_:da,extend_:_a,decorate_20223_:ba}}function da(e,t,r,n){var i,o;if(r.get)return ke.make_(e,t,r,n);if(r.set){var s=Xe(r.set)?r.set:Je(t.toString(),r.set);return n===e.target_?e.defineProperty_(t,{configurable:h.safeDescriptors?e.isPlainObject_:!0,set:s})===null?0:2:(Me(n,t,{configurable:!0,set:s}),2)}if(n!==e.target_&&typeof r.value=="function"){var a;if(Ni(r.value)){var u,f=(u=this.options_)!=null&&u.autoBind?ct.bound:ct;return f.make_(e,t,r,n)}var c=(a=this.options_)!=null&&a.autoBind?yt.bound:yt;return c.make_(e,t,r,n)}var d=((i=this.options_)==null?void 0:i.deep)===!1?F.ref:F;if(typeof r.value=="function"&&(o=this.options_)!=null&&o.autoBind){var _;r.value=r.value.bind((_=e.proxy_)!=null?_:e.target_)}return d.make_(e,t,r,n)}function _a(e,t,r,n){var i,o;if(r.get)return ke.extend_(e,t,r,n);if(r.set)return e.defineProperty_(t,{configurable:h.safeDescriptors?e.isPlainObject_:!0,set:Je(t.toString(),r.set)},n);if(typeof r.value=="function"&&(i=this.options_)!=null&&i.autoBind){var s;r.value=r.value.bind((s=e.proxy_)!=null?s:e.target_)}var a=((o=this.options_)==null?void 0:o.deep)===!1?F.ref:F;return a.extend_(e,t,r,n)}function ba(e,t){P("'"+this.annotationType_+"' cannot be used as a decorator")}var pa="observable",ga="observable.ref",va="observable.shallow",ma="observable.struct",Fi={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Fi);function tr(e){return e||Fi}var en=Lr(pa),ya=Lr(ga,{enhancer:jr}),xa=Lr(va,{enhancer:Ks}),Oa=Lr(ma,{enhancer:Zs}),Ki=Oe(en);function rr(e){return e.deep===!0?ut:e.deep===!1?jr:Aa(e.defaultDecorator)}function wa(e){var t;return e?(t=e.defaultDecorator)!=null?t:Ui(e):void 0}function Aa(e){var t,r;return e&&(t=(r=e.options_)==null?void 0:r.enhancer)!=null?t:ut}function Zi(e,t,r){if(Ht(t))return en.decorate_20223_(e,t);if(st(t)){Wt(e,t,en);return}return Ir(e)?e:qe(e)?F.object(e,t,r):Array.isArray(e)?F.array(e,t):Et(e)?F.map(e,t):Be(e)?F.set(e,t):typeof e=="object"&&e!==null?e:F.box(e,t)}Mi(Zi,Ki);var Sa={box:function(t,r){var n=tr(r);return new Ze(t,rr(n),n.name,!0,n.equals)},array:function(t,r){var n=tr(r);return(h.useProxies===!1||n.proxy===!1?Iu:Ru)(t,rr(n),n.name)},map:function(t,r){var n=tr(r);return new zr(t,rr(n),n.name)},set:function(t,r){var n=tr(r);return new An(t,rr(n),n.name)},object:function(t,r,n){return et(function(){return Nr(h.useProxies===!1||n?.proxy===!1?ht({},n):Au({},n),t,r)})},ref:Oe(ya),shallow:Oe(xa),deep:Ki,struct:Oe(Oa)},F=Mi(Zi,Sa),Wi="computed",Ea="computed.struct",tn=vn(Wi),Pa=vn(Ea,{equals:at.structural}),ke=function(t,r){if(Ht(r))return tn.decorate_20223_(t,r);if(st(r))return Wt(t,r,tn);if(qe(t))return Oe(vn(Wi,t));var n=qe(r)?r:{};return n.get=t,n.name||(n.name=t.name||""),new Se(n)};Object.assign(ke,tn);ke.struct=Oe(Pa);var Hn,Jn,pr=0,Ra=1,ja=(Hn=(Jn=br(function(){},"name"))==null?void 0:Jn.configurable)!=null?Hn:!1,Xn={value:"action",configurable:!0,writable:!1,enumerable:!1};function Je(e,t,r,n){r===void 0&&(r=!1);function i(){return Hi(e,r,t,n||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return t.toString()},ja&&(Xn.value=e,Me(i,"name",Xn)),i}function Hi(e,t,r,n,i){var o=Ji(e,t);try{return r.apply(n,i)}catch(s){throw o.error_=s,s}finally{Xi(o)}}function Ji(e,t,r,n){var i=!1,o=0,s=h.trackingDerivation,a=!t||!s;fe();var u=h.allowStateChanges;a&&(lt(),u=Cr(!0));var f=$r(!0),c={runAsAction_:a,prevDerivation_:s,prevAllowStateChanges_:u,prevAllowStateReads_:f,notifySpy_:i,startTime_:o,actionId_:Ra++,parentActionId_:pr};return pr=c.actionId_,c}function Xi(e){pr!==e.actionId_&&P(30),pr=e.parentActionId_,e.error_!==void 0&&(h.suppressReactionErrors=!0),Mr(e.prevAllowStateChanges_),vt(e.prevAllowStateReads_),ce(),e.runAsAction_&&Ge(e.prevDerivation_),h.suppressReactionErrors=!1}function mn(e,t){var r=Cr(e);try{return t()}finally{Mr(r)}}function Cr(e){var t=h.allowStateChanges;return h.allowStateChanges=e,t}function Mr(e){h.allowStateChanges=e}var Ze=(function(e){function t(n,i,o,s,a){var u;return o===void 0&&(o="ObservableValue"),a===void 0&&(a=at.default),u=e.call(this,o)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=i,u.name_=o,u.equals=a,u.value_=i(n,void 0,o),u}zi(t,e);var r=t.prototype;return r.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},r.set=function(i){i=this.prepareNewValue_(i),i!==h.UNCHANGED&&this.setNewValue_(i)},r.prepareNewValue_=function(i){if(ve(this)){var o=me(this,{object:this,type:$e,newValue:i});if(!o)return h.UNCHANGED;i=o.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?h.UNCHANGED:i},r.setNewValue_=function(i){var o=this.value_;this.value_=i,this.reportChanged(),we(this)&&Ae(this,{type:$e,object:this,newValue:i,oldValue:o})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(i){return Xt(this,i)},r.observe_=function(i,o){return o&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:$e,newValue:this.value_,oldValue:void 0}),Yt(this,i)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return Vi(this.get())},r[Symbol.toPrimitive]=function(){return this.valueOf()},t})(Qe),yn=Ye("ObservableValue",Ze),Se=(function(){function e(r){this.dependenciesState_=N.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=N.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new vr(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=gr.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,r.get||P(31),this.derivation=r.get,this.name_=r.name||"ComputedValue",r.set&&(this.setter_=Je("ComputedValue-setter",r.set)),this.equals_=r.equals||(r.compareStructural||r.struct?at.structural:at.default),this.scope_=r.context,this.requiresReaction_=r.requiresReaction,this.keepAlive_=!!r.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Va(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},t.get=function(){if(this.isComputing&&P(32,this.name_,this.derivation),h.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)rn(this)&&(this.warnAboutUntrackedRead_(),fe(),this.value_=this.computeValue_(!1),ce());else if(oo(this),rn(this)){var n=h.trackingContext;this.keepAlive_&&!n&&(h.trackingContext=this),this.trackAndCompute()&&Ia(this),h.trackingContext=n}var i=this.value_;if(ur(i))throw i.cause;return i},t.set=function(n){if(this.setter_){this.isRunningSetter&&P(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,n)}finally{this.isRunningSetter=!1}}else P(34,this.name_)},t.trackAndCompute=function(){var n=this.value_,i=this.dependenciesState_===N.NOT_TRACKING_,o=this.computeValue_(!0),s=i||ur(n)||ur(o)||!this.equals_(n,o);return s&&(this.value_=o),s},t.computeValue_=function(n){this.isComputing=!0;var i=Cr(!1),o;if(n)o=Qi(this,this.derivation,this.scope_);else if(h.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(s){o=new vr(s)}return Mr(i),this.isComputing=!1,o},t.suspend_=function(){this.keepAlive_||(nn(this),this.value_=void 0)},t.observe_=function(n,i){var o=this,s=!0,a=void 0;return On(function(){var u=o.get();if(!s||i){var f=lt();n({observableKind:"computed",debugObjectName:o.name_,type:$e,object:o,newValue:u,oldValue:a}),Ge(f)}s=!1,a=u})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Vi(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Pt(e,[{key:"isComputing",get:function(){return he(this.flags_,e.isComputingMask_)},set:function(n){this.flags_=de(this.flags_,e.isComputingMask_,n)}},{key:"isRunningSetter",get:function(){return he(this.flags_,e.isRunningSetterMask_)},set:function(n){this.flags_=de(this.flags_,e.isRunningSetterMask_,n)}},{key:"isBeingObserved",get:function(){return he(this.flags_,e.isBeingObservedMask_)},set:function(n){this.flags_=de(this.flags_,e.isBeingObservedMask_,n)}},{key:"isPendingUnobservation",get:function(){return he(this.flags_,e.isPendingUnobservationMask_)},set:function(n){this.flags_=de(this.flags_,e.isPendingUnobservationMask_,n)}},{key:"diffValue",get:function(){return he(this.flags_,e.diffValueMask_)?1:0},set:function(n){this.flags_=de(this.flags_,e.diffValueMask_,n===1)}}])})();Se.isComputingMask_=1;Se.isRunningSetterMask_=2;Se.isBeingObservedMask_=4;Se.isPendingUnobservationMask_=8;Se.diffValueMask_=16;var ft=Ye("ComputedValue",Se),N;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(N||(N={}));var gr;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(gr||(gr={}));var vr=function(t){this.cause=void 0,this.cause=t};function ur(e){return e instanceof vr}function rn(e){switch(e.dependenciesState_){case N.UP_TO_DATE_:return!1;case N.NOT_TRACKING_:case N.STALE_:return!0;case N.POSSIBLY_STALE_:{for(var t=$r(!0),r=lt(),n=e.observing_,i=n.length,o=0;o<i;o++){var s=n[o];if(ft(s)){if(h.disableErrorBoundaries)s.get();else try{s.get()}catch{return Ge(r),vt(t),!0}if(e.dependenciesState_===N.STALE_)return Ge(r),vt(t),!0}}return eo(e),Ge(r),vt(t),!1}}}function Yi(){return h.trackingDerivation!==null}function Qi(e,t,r){var n=$r(!0);eo(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++h.runId;var i=h.trackingDerivation;h.trackingDerivation=e,h.inBatch++;var o;if(h.disableErrorBoundaries===!0)o=t.call(r);else try{o=t.call(r)}catch(s){o=new vr(s)}return h.inBatch--,h.trackingDerivation=i,La(e),vt(n),o}function La(e){for(var t=e.observing_,r=e.observing_=e.newObserving_,n=N.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,s=0;s<o;s++){var a=r[s];a.diffValue===0&&(a.diffValue=1,i!==s&&(r[i]=a),i++),a.dependenciesState_>n&&(n=a.dependenciesState_)}for(r.length=i,e.newObserving_=null,o=t.length;o--;){var u=t[o];u.diffValue===0&&no(u,e),u.diffValue=0}for(;i--;){var f=r[i];f.diffValue===1&&(f.diffValue=0,Ba(f,e))}n!==N.UP_TO_DATE_&&(e.dependenciesState_=n,e.onBecomeStale_())}function nn(e){var t=e.observing_;e.observing_=[];for(var r=t.length;r--;)no(t[r],e);e.dependenciesState_=N.NOT_TRACKING_}function xn(e){var t=lt();try{return e()}finally{Ge(t)}}function lt(){var e=h.trackingDerivation;return h.trackingDerivation=null,e}function Ge(e){h.trackingDerivation=e}function $r(e){var t=h.allowStateReads;return h.allowStateReads=e,t}function vt(e){h.allowStateReads=e}function eo(e){if(e.dependenciesState_!==N.UP_TO_DATE_){e.dependenciesState_=N.UP_TO_DATE_;for(var t=e.observing_,r=t.length;r--;)t[r].lowestObserverState_=N.UP_TO_DATE_}}var Ca=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],kt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},fr=!0,to=!1,h=(function(){var e=Pr();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(fr=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new kt().version&&(fr=!1),fr?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new kt):(setTimeout(function(){to||P(35)},1),new kt)})();function Ma(){if((h.pendingReactions.length||h.inBatch||h.isRunningReactions)&&P(36),to=!0,fr){var e=Pr();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),h=new kt}}function ro(){return h}function $a(){var e=new kt;for(var t in e)Ca.indexOf(t)===-1&&(h[t]=e[t]);h.allowStateChanges=!h.enforceActions}function Ta(e){return e.observers_&&e.observers_.size>0}function Na(e){return e.observers_}function Ba(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function no(e,t){e.observers_.delete(t),e.observers_.size===0&&io(e)}function io(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,h.pendingUnobservations.push(e))}function fe(){h.inBatch++}function ce(){if(--h.inBatch===0){ao();for(var e=h.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation=!1,r.observers_.size===0&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBUO()),r instanceof Se&&r.suspend_())}h.pendingUnobservations=[]}}function oo(e){var t=h.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&h.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&h.inBatch>0&&io(e),!1)}function so(e){e.lowestObserverState_!==N.STALE_&&(e.lowestObserverState_=N.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===N.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=N.STALE_}))}function Ia(e){e.lowestObserverState_!==N.STALE_&&(e.lowestObserverState_=N.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===N.POSSIBLY_STALE_?t.dependenciesState_=N.STALE_:t.dependenciesState_===N.UP_TO_DATE_&&(e.lowestObserverState_=N.UP_TO_DATE_)}))}function Va(e){e.lowestObserverState_===N.UP_TO_DATE_&&(e.lowestObserverState_=N.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===N.UP_TO_DATE_&&(t.dependenciesState_=N.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Te=(function(){function e(r,n,i,o){r===void 0&&(r="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=N.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=gr.NONE,this.name_=r,this.onInvalidate_=n,this.errorHandler_=i,this.requiresObservable_=o}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,h.pendingReactions.push(this),ao())},t.runReaction_=function(){if(!this.isDisposed){fe(),this.isScheduled=!1;var n=h.trackingContext;if(h.trackingContext=this,rn(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}h.trackingContext=n,ce()}},t.track=function(n){if(!this.isDisposed){fe(),this.isRunning=!0;var i=h.trackingContext;h.trackingContext=this;var o=Qi(this,n,void 0);h.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&nn(this),ur(o)&&this.reportExceptionInDerivation_(o.cause),ce()}},t.reportExceptionInDerivation_=function(n){var i=this;if(this.errorHandler_){this.errorHandler_(n,this);return}if(h.disableErrorBoundaries)throw n;var o="[mobx] uncaught error in '"+this+"'";h.suppressReactionErrors||console.error(o,n),h.globalReactionErrorHandlers.forEach(function(s){return s(n,i)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(fe(),nn(this),ce()))},t.getDisposer_=function(n){var i=this,o=function s(){i.dispose(),n==null||n.removeEventListener==null||n.removeEventListener("abort",s)};return n==null||n.addEventListener==null||n.addEventListener("abort",o),o[g]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(o[Symbol.dispose]=o),o},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(n){},Pt(e,[{key:"isDisposed",get:function(){return he(this.flags_,e.isDisposedMask_)},set:function(n){this.flags_=de(this.flags_,e.isDisposedMask_,n)}},{key:"isScheduled",get:function(){return he(this.flags_,e.isScheduledMask_)},set:function(n){this.flags_=de(this.flags_,e.isScheduledMask_,n)}},{key:"isTrackPending",get:function(){return he(this.flags_,e.isTrackPendingMask_)},set:function(n){this.flags_=de(this.flags_,e.isTrackPendingMask_,n)}},{key:"isRunning",get:function(){return he(this.flags_,e.isRunningMask_)},set:function(n){this.flags_=de(this.flags_,e.isRunningMask_,n)}},{key:"diffValue",get:function(){return he(this.flags_,e.diffValueMask_)?1:0},set:function(n){this.flags_=de(this.flags_,e.diffValueMask_,n===1)}}])})();Te.isDisposedMask_=1;Te.isScheduledMask_=2;Te.isTrackPendingMask_=4;Te.isRunningMask_=8;Te.diffValueMask_=16;function za(e){return h.globalReactionErrorHandlers.push(e),function(){var t=h.globalReactionErrorHandlers.indexOf(e);t>=0&&h.globalReactionErrorHandlers.splice(t,1)}}var Da=100,on=function(t){return t()};function ao(){h.inBatch>0||h.isRunningReactions||on(ka)}function ka(){h.isRunningReactions=!0;for(var e=h.pendingReactions,t=0;e.length>0;){++t===Da&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction_()}h.isRunningReactions=!1}var mr=Ye("Reaction",Te);function Ga(e){var t=on;on=function(n){return e(function(){return t(n)})}}function Gt(){return!1}function uo(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var fo="action",qa="action.bound",co="autoAction",Ua="autoAction.bound",lo="<unnamed action>",sn=Jt(fo),Fa=Jt(qa,{bound:!0}),an=Jt(co,{autoAction:!0}),Ka=Jt(Ua,{autoAction:!0,bound:!0});function ho(e){var t=function(n,i){if(_e(n))return Je(n.name||lo,n,e);if(_e(i))return Je(n,i,e);if(Ht(i))return(e?an:sn).decorate_20223_(n,i);if(st(i))return Wt(n,i,e?an:sn);if(st(n))return Oe(Jt(e?co:fo,{name:n,autoAction:e}))};return t}var K=ho(!1);Object.assign(K,sn);var yt=ho(!0);Object.assign(yt,an);K.bound=Oe(Fa);yt.bound=Oe(Ka);function un(e){return Hi(e.name||lo,!1,e,this,void 0)}function Xe(e){return _e(e)&&e.isMobxAction===!0}function On(e,t){var r,n,i,o;t===void 0&&(t=bn);var s=(r=(n=t)==null?void 0:n.name)!=null?r:"Autorun",a=!t.scheduler&&!t.delay,u;if(a)u=new Te(s,function(){this.track(d)},t.onError,t.requiresObservable);else{var f=_o(t),c=!1;u=new Te(s,function(){c||(c=!0,f(function(){c=!1,u.isDisposed||u.track(d)}))},t.onError,t.requiresObservable)}function d(){e(u)}return(i=t)!=null&&(i=i.signal)!=null&&i.aborted||u.schedule_(),u.getDisposer_((o=t)==null?void 0:o.signal)}var Za=function(t){return t()};function _o(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Za}function bo(e,t,r){var n,i,o;r===void 0&&(r=bn);var s=(n=r.name)!=null?n:"Reaction",a=K(s,r.onError?Wa(r.onError,t):t),u=!r.scheduler&&!r.delay,f=_o(r),c=!0,d=!1,_,E=r.compareStructural?at.structural:r.equals||at.default,y=new Te(s,function(){c||u?M():d||(d=!0,f(M))},r.onError,r.requiresObservable);function M(){if(d=!1,!y.isDisposed){var w=!1,O=_;y.track(function(){var b=mn(!1,function(){return e(y)});w=c||!E(_,b),_=b}),(c&&r.fireImmediately||!c&&w)&&a(_,O,y),c=!1}}return(i=r)!=null&&(i=i.signal)!=null&&i.aborted||y.schedule_(),y.getDisposer_((o=r)==null?void 0:o.signal)}function Wa(e,t){return function(){try{return t.apply(this,arguments)}catch(r){e.call(this,r)}}}var Ha="onBO",Ja="onBUO";function po(e,t,r){return go(Ha,e,t,r)}function Tr(e,t,r){return go(Ja,e,t,r)}function go(e,t,r,n){var i=typeof n=="function"?Ue(t,r):Ue(t),o=_e(n)?n:r,s=e+"L";return i[s]?i[s].add(o):i[s]=new Set([o]),function(){var a=i[s];a&&(a.delete(o),a.size===0&&delete i[s])}}var Xa="never",nr="always",Ya="observed";function Qa(e){e.isolateGlobalState===!0&&Ma();var t=e.useProxies,r=e.enforceActions;if(t!==void 0&&(h.useProxies=t===nr?!0:t===Xa?!1:typeof Proxy<"u"),t==="ifavailable"&&(h.verifyProxies=!0),r!==void 0){var n=r===nr?nr:r===Ya;h.enforceActions=n,h.allowStateChanges=!(n===!0||n===nr)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in e&&(h[i]=!!e[i])}),h.allowStateReads=!h.observableRequiresReaction,e.reactionScheduler&&Ga(e.reactionScheduler)}function Nr(e,t,r,n){var i=Bs(t);return et(function(){var o=ht(e,n)[g];mt(i).forEach(function(s){o.extend_(s,i[s],r&&s in r?r[s]:!0)})}),e}function eu(e,t){return vo(Ue(e,t))}function vo(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=ru(e.observing_).map(vo)),t}function tu(e,t){return mo(Ue(e,t))}function mo(e){var t={name:e.name_};return Ta(e)&&(t.observers=Array.from(Na(e)).map(mo)),t}function ru(e){return Array.from(new Set(e))}var nu=0;function Br(){this.message="FLOW_CANCELLED"}Br.prototype=Object.create(Error.prototype);function iu(e){return e instanceof Br}var Kr=Gi("flow"),ou=Gi("flow.bound",{bound:!0}),ct=Object.assign(function(t,r){if(Ht(r))return Kr.decorate_20223_(t,r);if(st(r))return Wt(t,r,Kr);var n=t,i=n.name||"<unnamed flow>",o=function(){var a=this,u=arguments,f=++nu,c=K(i+" - runid: "+f+" - init",n).apply(a,u),d,_=void 0,E=new Promise(function(y,M){var w=0;d=M;function O(x){_=void 0;var A;try{A=K(i+" - runid: "+f+" - yield "+w++,c.next).call(c,x)}catch(L){return M(L)}p(A)}function b(x){_=void 0;var A;try{A=K(i+" - runid: "+f+" - yield "+w++,c.throw).call(c,x)}catch(L){return M(L)}p(A)}function p(x){if(_e(x?.then)){x.then(p,M);return}return x.done?y(x.value):(_=Promise.resolve(x.value),_.then(O,b))}O(void 0)});return E.cancel=K(i+" - runid: "+f+" - cancel",function(){try{_&&Yn(_);var y=c.return(void 0),M=Promise.resolve(y.value);M.then(pt,pt),Yn(M),d(new Br)}catch(w){d(w)}}),E};return o.isMobXFlow=!0,o},Kr);ct.bound=Oe(ou);function Yn(e){_e(e.cancel)&&e.cancel()}function su(e){return e}function xt(e){return e?.isMobXFlow===!0}function au(e,t,r){var n;return ee(e)||ae(e)||yn(e)?n=Ne(e):Q(e)&&(n=Ne(e,t)),n.dehancer=typeof t=="function"?t:r,function(){n.dehancer=void 0}}function uu(e,t,r){return _e(r)?cu(e,t,r):fu(e,t)}function fu(e,t){return Ne(e).intercept_(t)}function cu(e,t,r){return Ne(e,t).intercept_(r)}function yo(e,t){if(t===void 0)return ft(e);if(Q(e)===!1||!e[g].values_.has(t))return!1;var r=Ue(e,t);return ft(r)}function xo(e){return yo(e)}function cr(e,t){return yo(e,t)}function Oo(e,t){return e?t!==void 0?Q(e)?e[g].values_.has(t):!1:Q(e)||!!e[g]||pn(e)||mr(e)||ft(e):!1}function Ir(e){return Oo(e)}function lu(e,t){return Oo(e,t)}function Ot(e){if(Q(e))return e[g].keys_();if(ee(e)||X(e))return Array.from(e.keys());if(ae(e))return e.map(function(t,r){return r});P(5)}function hu(e){if(Q(e))return Ot(e).map(function(t){return e[t]});if(ee(e))return Ot(e).map(function(t){return e.get(t)});if(X(e))return Array.from(e.values());if(ae(e))return e.slice();P(6)}function du(e){if(Q(e))return Ot(e).map(function(t){return[t,e[t]]});if(ee(e))return Ot(e).map(function(t){return[t,e.get(t)]});if(X(e))return Array.from(e.entries());if(ae(e))return e.map(function(t,r){return[r,t]});P(7)}function wo(e,t,r){if(arguments.length===2&&!X(e)){fe();var n=t;try{for(var i in n)wo(e,i,n[i])}finally{ce()}return}Q(e)?e[g].set_(t,r):ee(e)?e.set(t,r):X(e)?e.add(t):ae(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&P("Invalid index: '"+t+"'"),fe(),t>=e.length&&(e.length=t+1),e[t]=r,ce()):P(8)}function _u(e,t){Q(e)?e[g].delete_(t):ee(e)||X(e)?e.delete(t):ae(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):P(9)}function Ao(e,t){if(Q(e))return e[g].has_(t);if(ee(e))return e.has(t);if(X(e))return e.has(t);if(ae(e))return t>=0&&t<e.length;P(10)}function bu(e,t){if(Ao(e,t)){if(Q(e))return e[g].get_(t);if(ee(e))return e.get(t);if(ae(e))return e[t];P(11)}}function pu(e,t,r){if(Q(e))return e[g].defineProperty_(t,r);P(39)}function So(e){if(Q(e))return e[g].ownKeys_();P(38)}function Eo(e,t,r,n){return _e(r)?vu(e,t,r,n):gu(e,t,r)}function gu(e,t,r){return Ne(e).observe_(t,r)}function vu(e,t,r,n){return Ne(e,t).observe_(r,n)}function ir(e,t,r){return e.set(t,r),r}function bt(e,t){if(e==null||typeof e!="object"||e instanceof Date||!Ir(e))return e;if(yn(e)||ft(e))return bt(e.get(),t);if(t.has(e))return t.get(e);if(ae(e)){var r=ir(t,e,new Array(e.length));return e.forEach(function(s,a){r[a]=bt(s,t)}),r}if(X(e)){var n=ir(t,e,new Set);return e.forEach(function(s){n.add(bt(s,t))}),n}if(ee(e)){var i=ir(t,e,new Map);return e.forEach(function(s,a){i.set(a,bt(s,t))}),i}else{var o=ir(t,e,{});return So(e).forEach(function(s){Kt.propertyIsEnumerable.call(e,s)&&(o[s]=bt(e[s],t))}),o}}function mu(e,t){return bt(e,new Map)}function yu(){}function ge(e,t){t===void 0&&(t=void 0),fe();try{return e.apply(t)}finally{ce()}}function xu(e,t,r){return arguments.length===1||t&&typeof t=="object"?Ou(e,t):Po(e,t,r||{})}function Po(e,t,r){var n;if(typeof r.timeout=="number"){var i=new Error("WHEN_TIMEOUT");n=setTimeout(function(){if(!s[g].isDisposed)if(s(),r.onError)r.onError(i);else throw i},r.timeout)}r.name="When";var o=Je("When-effect",t),s=On(function(a){var u=mn(!1,e);u&&(a.dispose(),n&&clearTimeout(n),o())},r);return s}function Ou(e,t){var r;if(t!=null&&(r=t.signal)!=null&&r.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var n,i,o=new Promise(function(s,a){var u,f=Po(e,s,He({},t,{onError:a}));n=function(){f(),a(new Error("WHEN_CANCELLED"))},i=function(){f(),a(new Error("WHEN_ABORTED"))},t==null||(u=t.signal)==null||u.addEventListener==null||u.addEventListener("abort",i)}).finally(function(){var s;return t==null||(s=t.signal)==null||s.removeEventListener==null?void 0:s.removeEventListener("abort",i)});return o.cancel=n,o}function _t(e){return e[g]}var wu={has:function(t,r){return _t(t).has_(r)},get:function(t,r){return _t(t).get_(r)},set:function(t,r,n){var i;return st(r)?(i=_t(t).set_(r,n,!0))!=null?i:!0:!1},deleteProperty:function(t,r){var n;return st(r)?(n=_t(t).delete_(r,!0))!=null?n:!0:!1},defineProperty:function(t,r,n){var i;return(i=_t(t).defineProperty_(r,n))!=null?i:!0},ownKeys:function(t){return _t(t).ownKeys_()},preventExtensions:function(t){P(13)}};function Au(e,t){var r,n;return $i(),e=ht(e,t),(n=(r=e[g]).proxy_)!=null?n:r.proxy_=new Proxy(e,wu)}function ve(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Xt(e,t){var r=e.interceptors_||(e.interceptors_=[]);return r.push(t),Ti(function(){var n=r.indexOf(t);n!==-1&&r.splice(n,1)})}function me(e,t){var r=lt();try{for(var n=[].concat(e.interceptors_||[]),i=0,o=n.length;i<o&&(t=n[i](t),t&&!t.type&&P(14),!!t);i++);return t}finally{Ge(r)}}function we(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Yt(e,t){var r=e.changeListeners_||(e.changeListeners_=[]);return r.push(t),Ti(function(){var n=r.indexOf(t);n!==-1&&r.splice(n,1)})}function Ae(e,t){var r=lt(),n=e.changeListeners_;if(n){n=n.slice();for(var i=0,o=n.length;i<o;i++)n[i](t);Ge(r)}}function Vr(e,t,r){return et(function(){var n,i=ht(e,r)[g];(n=t)!=null||(t=ks(e)),mt(t).forEach(function(o){return i.make_(o,t[o])})}),e}var Zr=Symbol("mobx-keys");function Su(e,t,r){return qe(e)?Nr(e,e,t,r):(et(function(){var n=ht(e,r)[g];if(!e[Zr]){var i=Object.getPrototypeOf(e),o=new Set([].concat(mt(e),mt(i)));o.delete("constructor"),o.delete(g),Zt(i,Zr,o)}e[Zr].forEach(function(s){return n.make_(s,t&&s in t?t[s]:!0)})}),e)}var Qn="splice",$e="update",Eu=1e4,Pu={get:function(t,r){var n=t[g];return r===g?n:r==="length"?n.getArrayLength_():typeof r=="string"&&!isNaN(r)?n.get_(parseInt(r)):De(yr,r)?yr[r]:t[r]},set:function(t,r,n){var i=t[g];return r==="length"&&i.setArrayLength_(n),typeof r=="symbol"||isNaN(r)?t[r]=n:i.set_(parseInt(r),n),!0},preventExtensions:function(){P(15)}},wn=(function(){function e(r,n,i,o){r===void 0&&(r="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=o,this.atom_=new Qe(r),this.enhancer_=function(s,a){return n(s,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},t.dehanceValues_=function(n){return this.dehancer!==void 0&&n.length>0?n.map(this.dehancer):n},t.intercept_=function(n){return Xt(this,n)},t.observe_=function(n,i){return i===void 0&&(i=!1),i&&n({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Yt(this,n)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(n){(typeof n!="number"||isNaN(n)||n<0)&&P("Out of range: "+n);var i=this.values_.length;if(n!==i)if(n>i){for(var o=new Array(n-i),s=0;s<n-i;s++)o[s]=void 0;this.spliceWithArray_(i,0,o)}else this.spliceWithArray_(n,i-n)},t.updateArrayLength_=function(n,i){n!==this.lastKnownLength_&&P(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&Mo(n+i+1)},t.spliceWithArray_=function(n,i,o){var s=this,a=this.values_.length;if(n===void 0?n=0:n>a?n=a:n<0&&(n=Math.max(0,a+n)),arguments.length===1?i=a-n:i==null?i=0:i=Math.max(0,Math.min(i,a-n)),o===void 0&&(o=Yr),ve(this)){var u=me(this,{object:this.proxy_,type:Qn,index:n,removedCount:i,added:o});if(!u)return Yr;i=u.removedCount,o=u.added}if(o=o.length===0?o:o.map(function(d){return s.enhancer_(d,void 0)}),this.legacyMode_){var f=o.length-i;this.updateArrayLength_(a,f)}var c=this.spliceItemsIntoValues_(n,i,o);return(i!==0||o.length!==0)&&this.notifyArraySplice_(n,o,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function(n,i,o){if(o.length<Eu){var s;return(s=this.values_).splice.apply(s,[n,i].concat(o))}else{var a=this.values_.slice(n,n+i),u=this.values_.slice(n+i);this.values_.length+=o.length-i;for(var f=0;f<o.length;f++)this.values_[n+f]=o[f];for(var c=0;c<u.length;c++)this.values_[n+o.length+c]=u[c];return a}},t.notifyArrayChildUpdate_=function(n,i,o){var s=!this.owned_&&Gt(),a=we(this),u=a||s?{observableKind:"array",object:this.proxy_,type:$e,debugObjectName:this.atom_.name_,index:n,newValue:i,oldValue:o}:null;this.atom_.reportChanged(),a&&Ae(this,u)},t.notifyArraySplice_=function(n,i,o){var s=!this.owned_&&Gt(),a=we(this),u=a||s?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Qn,index:n,removed:o,added:i,removedCount:o.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&Ae(this,u)},t.get_=function(n){if(this.legacyMode_&&n>=this.values_.length){console.warn("[mobx] Out of bounds read: "+n);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[n])},t.set_=function(n,i){var o=this.values_;if(this.legacyMode_&&n>o.length&&P(17,n,o.length),n<o.length){var s=o[n];if(ve(this)){var a=me(this,{type:$e,object:this.proxy_,index:n,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,s);var u=i!==s;u&&(o[n]=i,this.notifyArrayChildUpdate_(n,i,s))}else{for(var f=new Array(n+1-o.length),c=0;c<f.length-1;c++)f[c]=void 0;f[f.length-1]=i,this.spliceWithArray_(o.length,0,f)}},e})();function Ru(e,t,r,n){return r===void 0&&(r="ObservableArray"),n===void 0&&(n=!1),$i(),et(function(){var i=new wn(r,t,n,!1);Bi(i.values_,g,i);var o=new Proxy(i.values_,Pu);return i.proxy_=o,e&&e.length&&i.spliceWithArray_(0,0,e),o})}var yr={clear:function(){return this.splice(0)},replace:function(t){var r=this[g];return r.spliceWithArray_(0,r.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var s=this[g];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(t);case 2:return s.spliceWithArray_(t,r)}return s.spliceWithArray_(t,r,i)},spliceWithArray:function(t,r,n){return this[g].spliceWithArray_(t,r,n)},push:function(){for(var t=this[g],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,n),t.values_.length},pop:function(){return this.splice(Math.max(this[g].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[g],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.spliceWithArray_(0,0,n),t.values_.length},reverse:function(){return h.trackingDerivation&&P(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){h.trackingDerivation&&P(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var r=this[g],n=r.dehanceValues_(r.values_).indexOf(t);return n>-1?(this.splice(n,1),!0):!1}};z("at",be);z("concat",be);z("flat",be);z("includes",be);z("indexOf",be);z("join",be);z("lastIndexOf",be);z("slice",be);z("toString",be);z("toLocaleString",be);z("toSorted",be);z("toSpliced",be);z("with",be);z("every",Pe);z("filter",Pe);z("find",Pe);z("findIndex",Pe);z("findLast",Pe);z("findLastIndex",Pe);z("flatMap",Pe);z("forEach",Pe);z("map",Pe);z("some",Pe);z("toReversed",Pe);z("reduce",Ro);z("reduceRight",Ro);function z(e,t){typeof Array.prototype[e]=="function"&&(yr[e]=t(e))}function be(e){return function(){var t=this[g];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_);return r[e].apply(r,arguments)}}function Pe(e){return function(t,r){var n=this,i=this[g];i.atom_.reportObserved();var o=i.dehanceValues_(i.values_);return o[e](function(s,a){return t.call(r,s,a,n)})}}function Ro(e){return function(){var t=this,r=this[g];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),i=arguments[0];return arguments[0]=function(o,s,a){return i(o,s,a,t)},n[e].apply(n,arguments)}}var ju=Ye("ObservableArrayAdministration",wn);function ae(e){return Rr(e)&&ju(e[g])}var Lu={},Ke="add",xr="delete",zr=(function(){function e(r,n,i){var o=this;n===void 0&&(n=ut),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[g]=Lu,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=n,this.name_=i,_e(Map)||P(18),et(function(){o.keysAtom_=gn("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,r&&o.merge(r)})}var t=e.prototype;return t.has_=function(n){return this.data_.has(n)},t.has=function(n){var i=this;if(!h.trackingDerivation)return this.has_(n);var o=this.hasMap_.get(n);if(!o){var s=o=new Ze(this.has_(n),jr,"ObservableMap.key?",!1);this.hasMap_.set(n,s),Tr(s,function(){return i.hasMap_.delete(n)})}return o.get()},t.set=function(n,i){var o=this.has_(n);if(ve(this)){var s=me(this,{type:o?$e:Ke,object:this,newValue:i,name:n});if(!s)return this;i=s.newValue}return o?this.updateValue_(n,i):this.addValue_(n,i),this},t.delete=function(n){var i=this;if(ve(this)){var o=me(this,{type:xr,object:this,name:n});if(!o)return!1}if(this.has_(n)){var s=Gt(),a=we(this),u=a||s?{observableKind:"map",debugObjectName:this.name_,type:xr,object:this,oldValue:this.data_.get(n).value_,name:n}:null;return ge(function(){var f;i.keysAtom_.reportChanged(),(f=i.hasMap_.get(n))==null||f.setNewValue_(!1);var c=i.data_.get(n);c.setNewValue_(void 0),i.data_.delete(n)}),a&&Ae(this,u),!0}return!1},t.updateValue_=function(n,i){var o=this.data_.get(n);if(i=o.prepareNewValue_(i),i!==h.UNCHANGED){var s=Gt(),a=we(this),u=a||s?{observableKind:"map",debugObjectName:this.name_,type:$e,object:this,oldValue:o.value_,name:n,newValue:i}:null;o.setNewValue_(i),a&&Ae(this,u)}},t.addValue_=function(n,i){var o=this;ge(function(){var f,c=new Ze(i,o.enhancer_,"ObservableMap.key",!1);o.data_.set(n,c),i=c.value_,(f=o.hasMap_.get(n))==null||f.setNewValue_(!0),o.keysAtom_.reportChanged()});var s=Gt(),a=we(this),u=a||s?{observableKind:"map",debugObjectName:this.name_,type:Ke,object:this,name:n,newValue:i}:null;a&&Ae(this,u)},t.get=function(n){return this.has(n)?this.dehanceValue_(this.data_.get(n).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var n=this,i=this.keys();return ei({next:function(){var s=i.next(),a=s.done,u=s.value;return{done:a,value:a?void 0:n.get(u)}}})},t.entries=function(){var n=this,i=this.keys();return ei({next:function(){var s=i.next(),a=s.done,u=s.value;return{done:a,value:a?void 0:[u,n.get(u)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(n,i){for(var o=gt(this),s;!(s=o()).done;){var a=s.value,u=a[0],f=a[1];n.call(i,f,u,this)}},t.merge=function(n){var i=this;return ee(n)&&(n=new Map(n)),ge(function(){qe(n)?Ns(n).forEach(function(o){return i.set(o,n[o])}):Array.isArray(n)?n.forEach(function(o){var s=o[0],a=o[1];return i.set(s,a)}):Et(n)?(Ts(n)||P(19,n),n.forEach(function(o,s){return i.set(s,o)})):n!=null&&P(20,n)}),this},t.clear=function(){var n=this;ge(function(){xn(function(){for(var i=gt(n.keys()),o;!(o=i()).done;){var s=o.value;n.delete(s)}})})},t.replace=function(n){var i=this;return ge(function(){for(var o=Cu(n),s=new Map,a=!1,u=gt(i.data_.keys()),f;!(f=u()).done;){var c=f.value;if(!o.has(c)){var d=i.delete(c);if(d)a=!0;else{var _=i.data_.get(c);s.set(c,_)}}}for(var E=gt(o.entries()),y;!(y=E()).done;){var M=y.value,w=M[0],O=M[1],b=i.data_.has(w);if(i.set(w,O),i.data_.has(w)){var p=i.data_.get(w);s.set(w,p),b||(a=!0)}}if(!a)if(i.data_.size!==s.size)i.keysAtom_.reportChanged();else for(var x=i.data_.keys(),A=s.keys(),L=x.next(),W=A.next();!L.done;){if(L.value!==W.value){i.keysAtom_.reportChanged();break}L=x.next(),W=A.next()}i.data_=s}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(n,i){return Yt(this,n)},t.intercept_=function(n){return Xt(this,n)},Pt(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),ee=Ye("ObservableMap",zr);function ei(e){return e[Symbol.toStringTag]="MapIterator",Pn(e)}function Cu(e){if(Et(e)||ee(e))return e;if(Array.isArray(e))return new Map(e);if(qe(e)){var t=new Map;for(var r in e)t.set(r,e[r]);return t}else return P(21,e)}var Mu={},An=(function(){function e(r,n,i){var o=this;n===void 0&&(n=ut),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[g]=Mu,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,_e(Set)||P(22),this.enhancer_=function(s,a){return n(s,a,i)},et(function(){o.atom_=gn(o.name_),r&&o.replace(r)})}var t=e.prototype;return t.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},t.clear=function(){var n=this;ge(function(){xn(function(){for(var i=gt(n.data_.values()),o;!(o=i()).done;){var s=o.value;n.delete(s)}})})},t.forEach=function(n,i){for(var o=gt(this),s;!(s=o()).done;){var a=s.value;n.call(i,a,a,this)}},t.add=function(n){var i=this;if(ve(this)){var o=me(this,{type:Ke,object:this,newValue:n});if(!o)return this;n=o.newValue}if(!this.has(n)){ge(function(){i.data_.add(i.enhancer_(n,void 0)),i.atom_.reportChanged()});var s=!1,a=we(this),u=a||s?{observableKind:"set",debugObjectName:this.name_,type:Ke,object:this,newValue:n}:null;a&&Ae(this,u)}return this},t.delete=function(n){var i=this;if(ve(this)){var o=me(this,{type:xr,object:this,oldValue:n});if(!o)return!1}if(this.has(n)){var s=!1,a=we(this),u=a||s?{observableKind:"set",debugObjectName:this.name_,type:xr,object:this,oldValue:n}:null;return ge(function(){i.atom_.reportChanged(),i.data_.delete(n)}),a&&Ae(this,u),!0}return!1},t.has=function(n){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(n))},t.entries=function(){var n=this.values();return ti({next:function(){var o=n.next(),s=o.value,a=o.done;return a?{value:void 0,done:a}:{value:[s,s],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var n=this,i=this.data_.values();return ti({next:function(){var s=i.next(),a=s.value,u=s.done;return u?{value:void 0,done:u}:{value:n.dehanceValue_(a),done:u}}})},t.intersection=function(n){if(Be(n)&&!X(n))return n.intersection(this);var i=new Set(this);return i.intersection(n)},t.union=function(n){if(Be(n)&&!X(n))return n.union(this);var i=new Set(this);return i.union(n)},t.difference=function(n){return new Set(this).difference(n)},t.symmetricDifference=function(n){if(Be(n)&&!X(n))return n.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(n)},t.isSubsetOf=function(n){return new Set(this).isSubsetOf(n)},t.isSupersetOf=function(n){return new Set(this).isSupersetOf(n)},t.isDisjointFrom=function(n){if(Be(n)&&!X(n))return n.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(n)},t.replace=function(n){var i=this;return X(n)&&(n=new Set(n)),ge(function(){Array.isArray(n)?(i.clear(),n.forEach(function(o){return i.add(o)})):Be(n)?(i.clear(),n.forEach(function(o){return i.add(o)})):n!=null&&P("Cannot initialize set from "+n)}),this},t.observe_=function(n,i){return Yt(this,n)},t.intercept_=function(n){return Xt(this,n)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Pt(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),X=Ye("ObservableSet",An);function ti(e){return e[Symbol.toStringTag]="SetIterator",Pn(e)}var ri=Object.create(null),ni="remove",jo=(function(){function e(r,n,i,o){n===void 0&&(n=new Map),o===void 0&&(o=ha),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=r,this.values_=n,this.name_=i,this.defaultAnnotation_=o,this.keysAtom_=new Qe("ObservableObject.keys"),this.isPlainObject_=qe(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(n){return this.values_.get(n).get()},t.setObservablePropValue_=function(n,i){var o=this.values_.get(n);if(o instanceof Se)return o.set(i),!0;if(ve(this)){var s=me(this,{type:$e,object:this.proxy_||this.target_,name:n,newValue:i});if(!s)return null;i=s.newValue}if(i=o.prepareNewValue_(i),i!==h.UNCHANGED){var a=we(this),u=!1,f=a||u?{type:$e,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:n,newValue:i}:null;o.setNewValue_(i),a&&Ae(this,f)}return!0},t.get_=function(n){return h.trackingDerivation&&!De(this.target_,n)&&this.has_(n),this.target_[n]},t.set_=function(n,i,o){return o===void 0&&(o=!1),De(this.target_,n)?this.values_.has(n)?this.setObservablePropValue_(n,i):o?Reflect.set(this.target_,n,i):(this.target_[n]=i,!0):this.extend_(n,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},t.has_=function(n){if(!h.trackingDerivation)return n in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(n);return i||(i=new Ze(n in this.target_,jr,"ObservableObject.key?",!1),this.pendingKeys_.set(n,i)),i.get()},t.make_=function(n,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(n in this.target_)){var o;if((o=this.target_[Ce])!=null&&o[n])return;P(1,i.annotationType_,this.name_+"."+n.toString())}for(var s=this.target_;s&&s!==Kt;){var a=br(s,n);if(a){var u=i.make_(this,n,a,s);if(u===0)return;if(u===1)break}s=Object.getPrototypeOf(s)}oi(this,i,n)}},t.extend_=function(n,i,o,s){if(s===void 0&&(s=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(n,i,s);var a=o.extend_(this,n,i,s);return a&&oi(this,o,n),a},t.defineProperty_=function(n,i,o){o===void 0&&(o=!1);try{fe();var s=this.delete_(n);if(!s)return s;if(ve(this)){var a=me(this,{object:this.proxy_||this.target_,name:n,type:Ke,newValue:i.value});if(!a)return null;var u=a.newValue;i.value!==u&&(i=He({},i,{value:u}))}if(o){if(!Reflect.defineProperty(this.target_,n,i))return!1}else Me(this.target_,n,i);this.notifyPropertyAddition_(n,i.value)}finally{ce()}return!0},t.defineObservableProperty_=function(n,i,o,s){s===void 0&&(s=!1);try{fe();var a=this.delete_(n);if(!a)return a;if(ve(this)){var u=me(this,{object:this.proxy_||this.target_,name:n,type:Ke,newValue:i});if(!u)return null;i=u.newValue}var f=ii(n),c={configurable:h.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:f.get,set:f.set};if(s){if(!Reflect.defineProperty(this.target_,n,c))return!1}else Me(this.target_,n,c);var d=new Ze(i,o,"ObservableObject.key",!1);this.values_.set(n,d),this.notifyPropertyAddition_(n,d.value_)}finally{ce()}return!0},t.defineComputedProperty_=function(n,i,o){o===void 0&&(o=!1);try{fe();var s=this.delete_(n);if(!s)return s;if(ve(this)){var a=me(this,{object:this.proxy_||this.target_,name:n,type:Ke,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var u=ii(n),f={configurable:h.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,n,f))return!1}else Me(this.target_,n,f);this.values_.set(n,new Se(i)),this.notifyPropertyAddition_(n,void 0)}finally{ce()}return!0},t.delete_=function(n,i){if(i===void 0&&(i=!1),!De(this.target_,n))return!0;if(ve(this)){var o=me(this,{object:this.proxy_||this.target_,name:n,type:ni});if(!o)return null}try{var s;fe();var a=we(this),u=!1,f=this.values_.get(n),c=void 0;if(!f&&(a||u)){var d;c=(d=br(this.target_,n))==null?void 0:d.value}if(i){if(!Reflect.deleteProperty(this.target_,n))return!1}else delete this.target_[n];if(f&&(this.values_.delete(n),f instanceof Ze&&(c=f.value_),so(f)),this.keysAtom_.reportChanged(),(s=this.pendingKeys_)==null||(s=s.get(n))==null||s.set(n in this.target_),a||u){var _={type:ni,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:c,name:n};a&&Ae(this,_)}}finally{ce()}return!0},t.observe_=function(n,i){return Yt(this,n)},t.intercept_=function(n){return Xt(this,n)},t.notifyPropertyAddition_=function(n,i){var o,s=we(this),a=!1;if(s||a){var u=s||a?{type:Ke,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:n,newValue:i}:null;s&&Ae(this,u)}(o=this.pendingKeys_)==null||(o=o.get(n))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),mt(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function ht(e,t){var r;if(De(e,g))return e;var n=(r=t?.name)!=null?r:"ObservableObject",i=new jo(e,new Map,String(n),wa(t));return Zt(e,g,i),e}var $u=Ye("ObservableObjectAdministration",jo);function ii(e){return ri[e]||(ri[e]={get:function(){return this[g].getObservablePropValue_(e)},set:function(r){return this[g].setObservablePropValue_(e,r)}})}function Q(e){return Rr(e)?$u(e[g]):!1}function oi(e,t,r){var n;(n=e.target_[Ce])==null||delete n[r]}var Tu=Co(0),Wr=0,Lo=function(){};function Nu(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}Nu(Lo,Array.prototype);var Sn=(function(e){function t(n,i,o,s){var a;return o===void 0&&(o="ObservableArray"),s===void 0&&(s=!1),a=e.call(this)||this,et(function(){var u=new wn(o,i,s,!0);u.proxy_=a,Bi(a,g,u),n&&n.length&&a.spliceWithArray(0,0,n),Object.defineProperty(a,"0",Tu)}),a}zi(t,e);var r=t.prototype;return r.concat=function(){this[g].atom_.reportObserved();for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Array.prototype.concat.apply(this.slice(),o.map(function(a){return ae(a)?a.slice():a}))},r[Symbol.iterator]=function(){var n=this,i=0;return Pn({next:function(){return i<n.length?{value:n[i++],done:!1}:{done:!0,value:void 0}}})},Pt(t,[{key:"length",get:function(){return this[g].getArrayLength_()},set:function(i){this[g].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(Lo);Object.entries(yr).forEach(function(e){var t=e[0],r=e[1];t!=="concat"&&Zt(Sn.prototype,t,r)});function Co(e){return{enumerable:!1,configurable:!0,get:function(){return this[g].get_(e)},set:function(r){this[g].set_(e,r)}}}function Bu(e){Me(Sn.prototype,""+e,Co(e))}function Mo(e){if(e>Wr){for(var t=Wr;t<e+100;t++)Bu(t);Wr=e}}Mo(1e3);function Iu(e,t,r){return new Sn(e,t,r)}function Ue(e,t){if(typeof e=="object"&&e!==null){if(ae(e))return t!==void 0&&P(23),e[g].atom_;if(X(e))return e.atom_;if(ee(e)){if(t===void 0)return e.keysAtom_;var r=e.data_.get(t)||e.hasMap_.get(t);return r||P(25,t,Or(e)),r}if(Q(e)){if(!t)return P(26);var n=e[g].values_.get(t);return n||P(27,t,Or(e)),n}if(pn(e)||ft(e)||mr(e))return e}else if(_e(e)&&mr(e[g]))return e[g];P(28)}function Ne(e,t){if(e||P(29),t!==void 0)return Ne(Ue(e,t));if(pn(e)||ft(e)||mr(e)||ee(e)||X(e))return e;if(e[g])return e[g];P(24,e)}function Or(e,t){var r;if(t!==void 0)r=Ue(e,t);else{if(Xe(e))return e.name;Q(e)||ee(e)||X(e)?r=Ne(e):r=Ue(e)}return r.name_}function et(e){var t=lt(),r=Cr(!0);fe();try{return e()}finally{ce(),Mr(r),Ge(t)}}var si=Kt.toString;function En(e,t,r){return r===void 0&&(r=-1),fn(e,t,r)}function fn(e,t,r,n,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var s=si.call(e);if(s!==si.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":r>=0&&r++;break}e=ai(e),t=ai(t);var a=s==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var u=e.constructor,f=t.constructor;if(u!==f&&!(_e(u)&&u instanceof u&&_e(f)&&f instanceof f)&&"constructor"in e&&"constructor"in t)return!1}if(r===0)return!1;r<0&&(r=-1),n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),a){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!fn(e[c],t[c],r-1,n,i))return!1}else{var d=Object.keys(e),_=d.length;if(Object.keys(t).length!==_)return!1;for(var E=0;E<_;E++){var y=d[E];if(!(De(t,y)&&fn(e[y],t[y],r-1,n,i)))return!1}}return n.pop(),i.pop(),!0}function ai(e){return ae(e)?e.slice():Et(e)||ee(e)||Be(e)||X(e)?Array.from(e.entries()):e}var ui,Vu=((ui=Pr().Iterator)==null?void 0:ui.prototype)||{};function Pn(e){return e[Symbol.iterator]=zu,Object.assign(Object.create(Vu),e)}function zu(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Pr();typeof t[e]>"u"&&P("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:uo,extras:{getDebugName:Or},$mobx:g});const Dc=Object.freeze(Object.defineProperty({__proto__:null,$mobx:g,FlowCancellationError:Br,ObservableMap:zr,ObservableSet:An,Reaction:Te,_allowStateChanges:mn,_allowStateChangesInsideComputed:un,_allowStateReadsEnd:vt,_allowStateReadsStart:$r,_autoAction:yt,_endAction:Xi,_getAdministration:Ne,_getGlobalState:ro,_interceptReads:au,_isComputingDerivation:Yi,_resetGlobalState:$a,_startAction:Ji,action:K,autorun:On,comparer:at,computed:ke,configure:Qa,createAtom:gn,defineProperty:pu,entries:du,extendObservable:Nr,flow:ct,flowResult:su,get:bu,getAtom:Ue,getDebugName:Or,getDependencyTree:eu,getObserverTree:tu,has:Ao,intercept:uu,isAction:Xe,isBoxedObservable:yn,isComputed:xo,isComputedProp:cr,isFlow:xt,isFlowCancellationError:iu,isObservable:Ir,isObservableArray:ae,isObservableMap:ee,isObservableObject:Q,isObservableProp:lu,isObservableSet:X,keys:Ot,makeAutoObservable:Su,makeObservable:Vr,observable:F,observe:Eo,onBecomeObserved:po,onBecomeUnobserved:Tr,onReactionError:za,override:Ws,ownKeys:So,reaction:bo,remove:_u,runInAction:un,set:wo,spy:uo,toJS:mu,trace:yu,transaction:ge,untracked:xn,values:hu,when:xu},Symbol.toStringTag,{value:"Module"}));function Du(e){throw new Error("[mobx-utils] "+e)}function wr(e,t){t===void 0&&(t="Illegal state"),e||Du(t)}var $o=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat($o(Object.getPrototypeOf(e))||[])},ku=function(e){var t=$o(e),r=t.filter(function(n,i){return t.indexOf(n)===i});return r},fi=function(e){return ku(e).filter(function(t){return t!=="constructor"&&!~t.indexOf("__")})},cn="pending",Ar="fulfilled",Rn="rejected";function Gu(e){switch(this.state){case cn:return e.pending&&e.pending(this.value);case Rn:return e.rejected&&e.rejected(this.value);case Ar:return e.fulfilled?e.fulfilled(this.value):this.value}}function ci(e,t){if(wr(arguments.length<=2,"fromPromise expects up to two arguments"),wr(typeof e=="function"||typeof e=="object"&&e&&typeof e.then=="function","Please pass a promise or function to fromPromise"),e.isPromiseBasedObservable===!0)return e;typeof e=="function"&&(e=new Promise(e));var r=e;e.then(K("observableFromPromise-resolve",function(i){r.value=i,r.state=Ar}),K("observableFromPromise-reject",function(i){r.value=i,r.state=Rn})),r.isPromiseBasedObservable=!0,r.case=Gu;var n=t&&(t.state===Ar||t.state===cn)?t.value:void 0;return Nr(r,{value:n,state:cn},{},{deep:!1}),r}(function(e){e.reject=K("fromPromise.reject",function(r){var n=e(Promise.reject(r));return n.state=Rn,n.value=r,n});function t(r){r===void 0&&(r=void 0);var n=e(Promise.resolve(r));return n.state=Ar,n.value=r,n}e.resolve=K("fromPromise.resolve",t)})(ci||(ci={}));var or=function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o};(function(){function e(t,r){var n=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Vr(this),un(function(){n.current=r,n.subscription=t.subscribe(n)})}return Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(e.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.current=t}}),Object.defineProperty(e.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(e.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.current=t,this.dispose()}}),or([F.ref],e.prototype,"current",void 0),or([K.bound],e.prototype,"next",null),or([K.bound],e.prototype,"complete",null),or([K.bound],e.prototype,"error",null),e})();var Sr=function(){return Sr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Sr.apply(this,arguments)},Vt=function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o},qu=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function e(t){var r=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:F.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:F.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(i){return r.localValues.has(i)}}),Vr(this),wr(Q(t),"createViewModel expects an observable object");var n=fi(this);fi(t).forEach(function(i){var o;if(!n.includes(i)&&!(i===g||i==="__mobxDidRunLazyInitializers")){if(wr(qu.indexOf(i)===-1,"The propertyname "+i+" is reserved and cannot be used with viewModels"),cr(t,i)){var s=Ne(t,i),a=s.derivation.bind(r),u=(o=s.setter_)===null||o===void 0?void 0:o.bind(r);r.localComputedValues.set(i,ke(a,{set:u}))}var f=Object.getOwnPropertyDescriptor(t,i),c=f?{enumerable:f.enumerable}:{};Object.defineProperty(r,i,Sr(Sr({},c),{configurable:!0,get:function(){return cr(t,i)?r.localComputedValues.get(i).get():r.isPropertyDirty(i)?r.localValues.get(i):r.model[i]},set:K(function(d){cr(t,i)?r.localComputedValues.get(i).set(d):d!==r.model[i]?r.localValues.set(i,d):r.localValues.delete(i)})}))}})}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;Ot(this.localValues).forEach(function(r){var n=t.localValues.get(r),i=t.model[r];ae(i)?i.replace(n):ee(i)?(i.clear(),i.merge(n)):xo(n)||(t.model[r]=n)}),this.localValues.clear()}}),Object.defineProperty(e.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(e.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.localValues.delete(t)}}),Vt([ke],e.prototype,"isDirty",null),Vt([ke],e.prototype,"changedValues",null),Vt([K.bound],e.prototype,"submit",null),Vt([K.bound],e.prototype,"reset",null),Vt([K.bound],e.prototype,"resetProperty",null),e})();var Uu=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();(function(e){Uu(t,e);function t(r,n,i){var o=i===void 0?{}:i,s=o.name,a=s===void 0?"ogm"+(Math.random()*1e3|0):s,u=o.keyToName,f=u===void 0?function(_){return""+_}:u,c=e.call(this)||this;Object.defineProperty(c,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),c._keyToName=f,c._groupBy=n,c._ogmInfoKey=Symbol("ogmInfo"+a),c._base=r;for(var d=0;d<r.length;d++)c._addItem(r[d]);return c._disposeBaseObserver=Eo(c._base,function(_){if(_.type==="splice")ge(function(){for(var E=0,y=_.removed;E<y.length;E++){var M=y[E];c._removeItem(M)}for(var w=0,O=_.added;w<O.length;w++){var b=O[w];c._addItem(b)}});else if(_.type==="update")ge(function(){c._removeItem(_.oldValue),c._addItem(_.newValue)});else throw new Error("illegal state")}),c}return Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(r){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,n){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var r=0;r<this._base.length;r++){var n=this._base[r],i=n[this._ogmInfoKey];i.reaction(),delete n[this._ogmInfoKey]}}}),Object.defineProperty(t.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=e.prototype.get.call(this,r);return n===void 0&&(n=F([],{name:"GroupArray["+this._keyToName(r)+"]",deep:!1}),e.prototype.set.call(this,r,n)),n}}),Object.defineProperty(t.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(r,n){var i=e.prototype.get.call(this,r);i.length===1?e.prototype.delete.call(this,r):(n===i.length-1||(i[n]=i[i.length-1],i[n][this._ogmInfoKey].groupArrIndex=n),i.length--)}}),Object.defineProperty(t.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=this,i=this._groupBy(r),o=this._getGroupArr(i),s={groupByValue:i,groupArrIndex:o.length,reaction:bo(function(){return n._groupBy(r)},function(a,u){var f=r[n._ogmInfoKey];n._removeFromGroupArr(f.groupByValue,f.groupArrIndex);var c=n._getGroupArr(a),d=c.length;c.push(r),f.groupByValue=a,f.groupArrIndex=d})};Object.defineProperty(r,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:s}),o.push(r)}}),Object.defineProperty(t.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=r[this._ogmInfoKey];this._removeFromGroupArr(n.groupByValue,n.groupArrIndex),n.reaction(),delete r[this._ogmInfoKey]}}),t})(zr);var Fu=(function(){function e(t,r,n,i){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"versionChecker",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0});for(var o=this.closest=this.root=t,s=0;s<this.args.length-1&&(o=o.get(r[s]),o);s++)this.closest=o;this.closestIdx=s}return Object.defineProperty(e.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertCurrentVersion();var t=this.args.length;return this.closestIdx>=t-1&&this.closest.has(this.args[t-1])}}),Object.defineProperty(e.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertCurrentVersion(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.assertCurrentVersion();for(var r=this.args.length,n=this.closest,i=this.closestIdx;i<r-1;i++){var o=new Map;n.set(this.args[i],o),n=o}this.closestIdx=r-1,this.closest=n,n.set(this.args[r-1],t)}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertCurrentVersion(),!this.exists())throw new Error("Entry doesn't exist");var t=this.args.length;this.closest.delete(this.args[t-1]);for(var r=this.root,n=[r],i=0;i<t-1;i++)r=r.get(this.args[i]),n.push(r);for(var i=n.length-1;i>0;i--)n[i].size===0&&n[i-1].delete(this.args[i-1])}}),Object.defineProperty(e.prototype,"assertCurrentVersion",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.versionChecker(this.version))throw new Error("Concurrent modification exception")}}),e})(),Ku=(function(){function e(){var t=this;Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"currentVersion",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"checkVersion",{enumerable:!0,configurable:!0,writable:!0,value:function(r){return t.currentVersion===r}})}return Object.defineProperty(e.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(this.argsLength===-1)this.argsLength=t.length;else if(this.argsLength!==t.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+t.length);return this.currentVersion>=Number.MAX_SAFE_INTEGER&&(this.currentVersion=0),this.currentVersion++,new Fu(this.store,t,this.currentVersion,this.checkVersion)}}),e})(),Er=function(){return Er=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Er.apply(this,arguments)},li=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n};function kc(e,t){if(t===void 0&&(t=!1),Xe(e))throw new Error("computedFn shouldn't be used on actions");var r=!1,n=0,i=typeof t=="boolean"?{keepAlive:t}:t,o=new Ku;return function(){for(var s=this,a,u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var c=o.entry(u);if(c.exists())return c.get().get();if(!i.keepAlive&&!Yi()){!r&&((a=i.requiresReaction)!==null&&a!==void 0?a:ro().computedRequiresReaction)&&(console.warn("Invoking a computedFn from outside a reactive context won't be memoized and is cleaned up immediately, unless keepAlive is set."),r=!0);var d=e.apply(this,u);return i.onCleanup&&i.onCleanup.apply(i,li([d],u)),d}var _,E=ke(function(){return _=e.apply(s,u)},Er(Er({},i),{name:"computedFn("+(i.name||e.name)+"#"+ ++n+")"}));return c.set(E),i.keepAlive||Tr(E,function(){o.entry(u).delete(),i.onCleanup&&i.onCleanup.apply(i,li([_],u)),_=void 0}),E.get()}}class Gc extends ot{constructor(t){super(t),Vr(this,{_m:F,set:K,delete:K,clear:K})}}const qc=e=>{const t=_r.createContext(void 0),r=()=>_r.useContext(t);return{ctx:t,use:()=>hs(r(),()=>`"${e}" is not provided`),useIfProvided:r,provider:t.Provider}};function Zu(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}class To{constructor(){pe(this,"callback",null);pe(this,"ref",{observer:()=>this.observer,_current:null,get current(){return this._current},set current(t){this._current!==t&&(this._current&&this.observer().unobserve(this._current),this._current=t,t&&this.observer().observe(t))}})}setCallback(t){this.callback=t}get observer(){return new ResizeObserver(t=>this.observed(t))}observed(t){if(!this.callback)return;const r=t.find(n=>n.target===this.ref.current);r&&this.callback(r)}destroy(){this.ref.current=null}}Zu([At],To.prototype,"observer",null);const Uc=e=>{const t=_r.useRef(void 0);return t.current||(t.current=new To),t.current.callback=e,_r.useEffect(()=>()=>{t.current&&(t.current.destroy(),t.current=void 0)},[]),t.current};const{abs:wt,atan2:No,cos:it,floor:Wu,log:Ve,min:Bo,max:jn,round:re,sign:hi,sin:Hu,sqrt:lr,cbrt:Ju,PI:Le,hypot:Io}=Math;function ne(e,t,r){return e+(t-e)*r}function Xu(e,t,r){return(r-e)/(t-e)}function Y(e,t=0,r=1){return e<t?t:e>r?r:e}function Hr(e,t,r,n=1e-8){let i=t,o;for(;r--&&wt(o=e(i))>n;){const s=(e(i+n)-o)/n;console.log("fx / dfdx",o/s,"fx",o,"x",i),i=i-o/s}return i}function Yu(e,t,r,n){let i=e(t);for(;n--;){const o=(t+r)/2,s=e(o);hi(i)==hi(s)?(t=o,i=s):r=o}return(t+r)/2}const ln=Le/180,Ln=180/Le;function Ut(...e){return e[0]instanceof Ee?e[0]:e.length>1&&typeof e[e.length-1]=="string"?We(e.slice(0,e.length-1),e[e.length-1]):Array.isArray(e[0])?We(e[0]):We(e)}class Ee{constructor(t,r,n,i=1){this.r=t,this.g=r,this.b=n,this.a=i}mix(t,r,n="rgb"){return hr(this,t,r,n)}rgb(t=!0,r=!0){const n=a=>(t&&(a=re(a)),r&&(a=Y(a,0,255)),a),{r:i,g:o,b:s}=this;return[n(i),n(o),n(s)]}rgba(t=!0,r=!0){const n=u=>(t&&(u=re(u)),r&&(u=Y(u,0,255)),u),{r:i,g:o,b:s,a}=this;return[n(i),n(o),n(s),a]}hex(t="rgb"){const{r,g:n,b:i,a:o}=this;return of(r,n,i,o,t)}hsl(){const{r:t,g:r,b:n}=this;return wf(t,r,n)}hsv(){const{r:t,g:r,b:n}=this;return Sf(t,r,n)}hcg(){const{r:t,g:r,b:n}=this;return Pf(t,r,n)}css(t="rgb"){if(t=="rgb"){const{r,g:n,b:i,a:o}=this;return df(r,n,i,o)}else{if(t=="hsl")return _f(this.hsl(),this.alpha());throw new Error}}name(t=!1){const r=this.num(),n=Object.keys(ze).find(i=>ze[i]==r);if(!n&&t){const[i,o,s]=this.lab();return Tf(Object.keys(ze),a=>{const[u,f,c]=Vo(ze[a]).lab();return-Io(i-u,o-f,s-c)})}return n}cmyk(){const{r:t,g:r,b:n}=this;return mf(t,r,n)}gl(){const{r:t,g:r,b:n,a:i}=this;return[t/255,r/255,n/255,i]}luminance(t){const{r,g:n,b:i,a:o}=this,[,s]=hn(r,n,i);if(t===void 0)return s;const a=(u,f,c)=>(c-u)/(f-u);return t>s?hr(this,_i,a(s,1,t),"xyz").alpha(o):hr(di,this,a(0,s,t),"xyz").alpha(o)}temperature(){const{r:t,g:r,b:n}=this;return Of(t,r,n)}set(t,r){const[n,i]=t.split("."),o=this[n](),s=n.indexOf(i);if(s==-1)throw new Error("invalid channel");return o[s]=typeof r=="number"?r:r(o[s]),Ut(o,n).alpha(this.a)}clipped(){const{r:t,g:r,b:n}=this;return!(0<=t&&t<=255&&0<=r&&r<=255&&0<=n&&n<=255)}textColor(){return this.luminance()>.5?di:_i}alpha(t){if(t===void 0)return this.a;const{r,g:n,b:i}=this;return pi(r,n,i,t)}darker(t=1){const[r,n,i]=this.lab();return tf(r-yi*t,n,i,this.alpha())}brighter(t=1){return this.darker(-t)}saturate(t=1){const[r,n,i]=this.lch();return ef(r,jn(0,n+t*yi),i,this.alpha())}desaturate(t=1){return this.saturate(-t)}premultiplied(){const{r:t,g:r,b:n,a:i}=this;return pi(t*i,r*i,n*i,i)}hsi(){const{r:t,g:r,b:n}=this;return $f(t,r,n)}lab(){const{r:t,g:r,b:n}=this;return Zo(t,r,n)}num(t="rgb"){const{r,g:n,b:i,a:o}=this;return sf(r,n,i,o,t)}lch(){const{r:t,g:r,b:n}=this;return vf(t,r,n)}xyz(){const{r:t,g:r,b:n}=this;return hn(t,r,n)}equals(t){const{r,g:n,b:i,a:o}=this,{r:s,g:a,b:u,a:f}=t;return r==s&&n==a&&i==u&&o==f}hashCode(){return this.num("rgba")}toSource(){const{r:t,g:r,b:n,a:i}=this;return"chroma.rgb("+t+", "+r+", "+n+(i===1?")":", "+i+")")}}Ee.prototype.toString=Ee.prototype.css;Ee.prototype.kelvin=Ee.prototype.temperature;const di=new Ee(0,0,0,1),_i=new Ee(255,255,255,1),Qu={OrRd:[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072],PuBu:[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496],BuPu:[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347],Oranges:[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060],BuGn:[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435],YlOrBr:[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150],YlGn:[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705],Reds:[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221],RdPu:[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234],Greens:[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435],YlGnBu:[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800],Purples:[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893],GnBu:[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801],Greys:[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0],YlOrRd:[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646],PuRd:[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239],Blues:[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683],PuBuGn:[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510],Viridis:[4456788,4728695,4147850,3237774,2524047,2071946,7130714,11984427,16705573],Spectral:[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770],RdYlGn:[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679],RdBu:[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065],PiYG:[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529],PRGn:[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435],RdYlBu:[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237],BrBG:[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408],RdGy:[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618],PuOr:[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195],Set2:[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947],Accent:[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886],Set1:[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329],Set3:[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463],Dark2:[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886],Paired:[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696],Pastel2:[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772],Pastel1:[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906]},ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflower:6591981,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,laserlemon:16777044,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrod:16448210,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,maroon2:8323072,maroon3:11546720,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,purple2:8323199,purple3:10494192,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hr(e,t,r=.5,n="rgb"){const i=Ut(e),o=Ut(t),s=ye[n]&&ye[n](i,o,r,n);if(!s)throw new Error("color mode "+n+" is not supported");return s.alpha(ne(i.alpha(),o.alpha(),r))}function Fc(e){const[t,r,n,i]=ko(e);return new Ee(t,r,n,i)}function ef(...e){return We(e,"lch")}function bi(...e){return We(e,"hsl")}function tf(...e){return We(e,"lab")}function Vo(e){const[t,r,n]=kr(e);return new Ee(t,r,n)}function pi(...e){return We(e,"rgb")}function gi(...e){const t=(r=>t._at(r));return Object.getOwnPropertyNames(vi.prototype).forEach(r=>t[r]=vi.prototype[r]),Array.isArray(e[0])&&(e=e[0]),e.length==1&&typeof e[0]=="string"&&(e=Qu[e[0]]),t._init(typeof e[0]=="function"?e[0]:e.map(r=>Ut(r))),t}class vi{classes(t){if(t===void 0)return this._classes;if(Array.isArray(t))this._classes=t,this.domain(t[0],t[t.length-1]);else{if(t%1!=0||t<1)throw new Error("invalid classes param");this._classes=zo(this.domain(),"e",t)}return this}domain(...t){if(t[0]===void 0)return typeof this._colors!="function"?this._pos.map(r=>ne(this._min,this._max,r)):[this._min,this._max];if(this._min=t[0],this._max=t[t.length-1],t.length==2)typeof this._colors!="function"&&(this._pos=this._colors.map((r,n)=>n/(this._colors.length-1)));else if(typeof this._colors!="function"&&t.length==this._colors.length)this._pos=t.map(r=>Xu(this._min,this._max,r));else throw new Error("invalid domain "+t);return this}mode(t){return t===void 0?this._mode:(this._mode=t,this._resetCache(),this)}out(t){return this._out=t,this}correctLightness(t=!0){if(this._correctLightness!=t){this._resetCache();const r=this._colors;if(t&&typeof r!="function"){let n=0;for(let i=1;i<r.length;i++){const o=r[i].lab()[0]-r[i-1].lab()[0];if(n==0)n=o;else if(n*o<0)throw new Error("scale color lightnesses must be monotonic")}}}return this._correctLightness=t,this}padding(t,r=t){return t?(this._paddingLeft=t,this._paddingRight=r,this):[this._paddingLeft,this._paddingRight]}colors(t,r="hex"){let n;if(t===void 0)n=this._colors.slice();else if(t==1)n=[this._color((this._min+this._max)/2)];else if(t>1)n=Array.from({length:t},(i,o)=>this._color(ne(this._min,this._max,o/(t-1))));else{let i;this._classes&&this._classes.length>2?i=Array.from({length:this._classes.length-1},(o,s)=>(this._classes[s]+this._classes[s+1])*.5):i=this.domain(),n=i.map(o=>this._color(o))}return r!="color"?n.map(i=>i[r]()):n}cache(t){return t===void 0?!!this._cache:(this._cache=t?this._cache||new Map:void 0,this)}gamma(t){return t===void 0?this._gamma:(this._gamma=t,this)}_at(t){const r=this._color(t);return this._out?r[this._out]():r}_init(t){this._colors=t,typeof t!="function"&&(this._pos=t.map((r,n)=>n/(t.length-1))),this._mode="rgb",this.domain(0,1),this._paddingLeft=0,this._paddingRight=0,this._correctLightness=!1,this._cache=new Map,this._gamma=1}_getClass(t){return this._classes.findIndex(r=>t<=r)-1}_color(t,r=!1){let n;if(r)n=t;else{const s=this._min,a=this._max;this._classes&&this._classes.length>2?n=this._getClass(t)/(this._classes.length-2):a!==s?n=(t-s)/(a-s):n=1,this._correctLightness&&(n=this._tCorrectedLightness(n))}n=n**this._gamma,n=(this._paddingLeft+n)/(1+this._paddingLeft+this._paddingRight),n=Y(n,0,1);const i=n,o=this._cache&&this._cache.get(i);if(o)return o;{let s;if(Array.isArray(this._colors))for(let a=0;a<this._pos.length;a++){const u=this._pos[a];if(n<=u){s=this._colors[a];break}if(n>=u&&a==this._pos.length-1){s=this._colors[a];break}if(n>u&&n<this._pos[a+1]){n=(n-u)/(this._pos[a+1]-u),s=hr(this._colors[a],this._colors[a+1],n,this._mode);break}}else s=this._colors(n);return this._cache&&this._cache.set(i,s),s}}_tCorrectedLightness(t){const r=this._color(0,!0).lab()[0],n=this._color(1,!0).lab()[0],i=ne(r,n,t);return Yu(o=>this._color(o,!0).lab()[0]-i,0,1,8)}_resetCache(){this._cache&&this._cache.clear()}}var mi;(function(e){function t(){return gi([bi(180,1,.9),bi(250,.7,.4)])}e.cool=t;function r(){return gi(["#000","#f00","#ff0","#fff"]).mode("rgb")}e.hot=r})(mi||(mi={}));function rf(e){const t={min:1/0,max:-1/0,sum:0,values:[],count:0};function r(n){n!=null&&!isNaN(n)&&(t.values.push(n),t.sum+=n,n<t.min&&(t.min=n),n>t.max&&(t.max=n),t.count+=1)}return e.forEach(n=>r(n)),t.domain=[t.min,t.max],t.limits=function(n,i){return zo(this,n,i)},t}function zo(e,t="e",r=7){const n=Array.isArray(e)?rf(e):e,{min:i,max:o,values:s}=n;if(s.sort((a,u)=>a-u),r==1)return[i,o];if(t.startsWith("c"))return[i,o];if(t.startsWith("e"))return Array.from({length:r+1},(a,u)=>ne(i,o,u/r));if(t.startsWith("l")){if(i<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*Ve(i),u=Math.LOG10E*Ve(o);return Array.from({length:r+1},(f,c)=>10**ne(a,u,c/r))}else{if(t.startsWith("q"))return Array.from({length:r+1},(a,u)=>{const f=(s.length-1)*u/r,c=Wu(f);return c==f?s[c]:ne(s[c],s[c+1],f-c)});if(t.startsWith("k")){const a=s.length,u=new Array(a),f=new Array(r);let c=!0,d=0,_=Array.from({length:r+1},(w,O)=>ne(i,o,O/r));do{f.fill(0);for(let O=0;O<s.length;O++){const b=s[O],p=Ho(_,x=>-wt(x-b));f[p]++,u[O]=p}const w=new Array(r).fill(0);for(let O=0;O<u.length;O++){const b=u[O];w[b]+=s[O]}for(let O=0;O<w.length;O++)w[O]/=f[O];c=w.some((O,b)=>O!=_[b]),_=w}while(d++<200&&c);const E=Array.from({length:r},()=>[]);for(let w=0;w<u.length;w++){const O=u[w];E[O].push(s[w])}const y=[];for(const w of E)y.push(w[0],w[w.length-1]);y.sort((w,O)=>w-O);const M=[];M.push(y[0]);for(let w=1;w<y.length;w+=2){const O=y[w];!isNaN(O)&&M.indexOf(O)==-1&&M.push(O)}return M}else throw new Error("unknown mode")}}const ye={},H={};function nf(e,t,r,n){const i=e[n](),o=t[n]();return We([ne(i[0],o[0],r),ne(i[1],o[1],r),ne(i[2],o[2],r),ne(e.alpha(),t.alpha(),r)],n)}ye.xyz=ye.rgb=ye.lab=nf;ye.num=function(e,t,r){const n=e.num(),i=t.num();return Vo(ne(n,i,r))};ye.lrgb=function(e,t,r){const[n,i,o,s]=e.rgba(!1,!1),[a,u,f,c]=t.rgba(!1,!1);return new Ee(lr(n**2*(1-r)+a**2*r),lr(i**2*(1-r)+u**2*r),lr(o**2*(1-r)+f**2*r),ne(s,c,r))};function We(e,t){if(Array.isArray(e[0])&&(e=e[0]),!t)if(e.length==1&&e[0]in ze)t="name";else if(e.length==1&&typeof e[0]=="string")t="css";else if(e.length==3)t="rgb";else if(e.length==4&&typeof e[3]=="number"&&e[3]>=0&&e[3]<=1)t="rgb";else if(e.length==1&&typeof e[0]=="number"&&e[0]>=0&&e[0]<=16777215)t="num";else throw new Error("could not guess mode. args "+JSON.stringify(e));const r=H[t](...e);return new Ee(r[0],r[1],r[2],r[3]!==void 0?r[3]:1)}function Do(e){let t;if(t=e.match(/^#?([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})?$/i))return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),t[4]?parseInt(t[4],16)/255:1];if(t=e.match(/^#?([A-F\d])([A-F\d])([A-F\d])([A-F\d])?$/i))return[parseInt(t[1],16)*17,parseInt(t[2],16)*17,parseInt(t[3],16)*17,t[4]?parseInt(t[4],16)*17/255:1];throw new Error("invalid hex color: "+e)}function of(e,t,r,n,i="rgb"){e=Y(re(e),0,255),t=Y(re(t),0,255),r=Y(re(r),0,255);const s=(e<<16|t<<8|r).toString(16).padStart(6,"0"),a=re(Y(n)*255).toString(16).padStart(2,"0");return"#"+(i=="argb"?a+s:i=="rgba"?s+a:s)}H.lrgb=H.rgb;H.hex=Do;H.hsl=Go;function Dr(e){return(e%360+360)%360}H.hsv=Af;function kr(e){if(!(typeof e=="number"&&e>=0&&e<=16777215))throw new Error("unknown num color: "+e);const t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}function sf(e,t,r,n=1,i="rgb"){const o=re(e)<<16|re(t)<<8|re(r);return i==="rgb"?o:i==="rgba"?o<<8|re(n*255)<<24:re(n*255)<<24|o}H.num=kr;const Rt="\\s*",U="([+-]?(?:\\d*\\.?)?\\d+(?:[eE][+-]?\\d+)?)",af=new RegExp(["^rgba?\\(",U,",",U,",",U,"(?:,",U+"(%)?",")?\\)$"].join(Rt),"i"),uf=new RegExp(["^rgba?\\(",U,U,U,"(?:/",U+"(%)?",")?\\)$"].join(Rt),"i"),ff=new RegExp(["^rgba?\\(",U+"%",",",U+"%",",",U+"%","(?:,",U+"(%)?",")?\\)$"].join(Rt),"i"),cf=new RegExp(["^rgba?\\(",U+"%",U+"%",U+"%","(?:/",U+"(%)?",")?\\)$"].join(Rt),"i"),lf=new RegExp(["^hsla?\\(",U+"(deg|rad|turn)?",",",U+"%",",",U+"%","(?:,",U+"(%)?",")?\\)$"].join(Rt),"i"),hf=new RegExp(["^hsla?\\(",U+"(deg|rad|turn)?\\s+"+U+"%",U+"%","(?:/",U+"(%)?",")?\\)$"].join(Rt),"i");function ko(e){if(ze&&ze.hasOwnProperty(e))return kr(ze[e.toLowerCase()]);let t;if(t=e.match(af)||e.match(uf))return[Y(+t[1],0,255),Y(+t[2],0,255),Y(+t[3],0,255),t[4]?Y(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(ff)||e.match(cf))return[Y(+t[1]/100)*255,Y(+t[2]/100)*255,Y(+t[3]/100)*255,t[4]?Y(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(lf)||e.match(hf)){const r={deg:1,rad:Ln,turn:360},n=t[2]?t[2].toLowerCase():"deg";return Go((+t[1]*r[n]%360+360)%360,Y(+t[3]/100),Y(+t[4]/100),t[5]?Y(t[6]?+t[5]/100:+t[5]):1)}else return Do(e)}function df(e,t,r,n=1){return n>=1?"rgb("+[e,t,r].map(re).join(",")+")":"rgba("+[e,t,r].map(re).join(",")+","+n+")"}function sr(e){return re(e*100)/100}function _f([e,t,r],n){const i=n<1?"hsla":"hsl";return i+"("+sr(e)+","+sr(t*100)+"%,"+sr(r*100)+"%"+(i=="hsla"?","+sr(n):"")+")"}H.css=ko;H.name=function(e){return kr(ze[e])};function bf(e,t,r){return[e,it(r*ln)*t,Hu(r*ln)*t]}function pf(e,t,r,n=1){const[,i,o]=bf(e,t,r);return qo(e,i,o,n)}function gf(e,t,r){const n=Io(t,r),i=(No(r,t)*Ln+360)%360;return[e,n,i]}function vf(e,t,r){const[n,i,o]=Zo(e,t,r);return gf(n,i,o)}H.lch=pf;function mf(e,t,r){e/=255,t/=255,r/=255;const n=1-jn(e,t,r);if(n==1)return[0,0,0,1];const i=(1-e-n)/(1-n),o=(1-t-n)/(1-n),s=(1-r-n)/(1-n);return[i,o,s,n]}function yf(e,t,r,n,i=1){if(n==1)return[0,0,0,i];const o=255*(1-e)*(1-n),s=255*(1-t)*(1-n),a=255*(1-r)*(1-n);return[o,s,a,i]}H.cmyk=yf;H.gl=function(e,t,r,n=1){return[e*255,t*255,r*255,n]};function Jr(e){const t=e/255;return t<=.04045?t/12.92:((t+.055)/1.055)**2.4}function Xr(e){return e<=.0031308?255*(12.92*e):255*((1+.055)*e**(1/2.4)-.055)}function xf(e){const t=e/100;let r,n,i;return t<66?(r=255,n=-155.25485562709179-.44596950469579133*(t-2)+104.49216199393888*Ve(t-2),i=t<20?0:-254.76935184120902+.8274096064007395*(t-10)+115.67994401066147*Ve(t-10)):(r=351.97690566805693+.114206453784165*(t-55)-40.25366309332127*Ve(t-55),n=325.4494125711974+.07943456536662342*(t-50)-28.0852963507957*Ve(t-50),i=255),[r,n,i]}H.rgb=(...e)=>e;function Of(e,t,r){return console.log(r-e),t+r<158.61?(console.log("0 < t < 20"),re(Hr(n=>t-(-155.25485562709179-.44596950469579133*(n-2)+104.49216199393888*Ve(n-2)),15,4)*100)):r-e<0?(console.log("20 < t < 66"),re(Hr(n=>r-(-254.76935184120902+.8274096064007395*(n-10)+115.67994401066147*Ve(n-10)),43,4)*100)):(console.log("0 < t < 400, start= "+(-1.4*(e+t)+755)),re(Hr(n=>e-(351.97690566805693+.114206453784165*(n-55)-40.25366309332127*Ve(n-55)),-1.4*(e+t)+755,8)*100))}H.temperature=H.kelvin=H.K=xf;function Cn(e,t,r){const n=Bo(e,t,r),i=jn(e,t,r),o=i-n;let s;return o==0?s=0:e==i?s=(t-r)/o+(t<r?6:0):t==i?s=2+(r-e)/o:s=4+(e-t)/o,[s*60,n,i]}function Mn(e,t,r,n,i){const o=n*255,s=t*255+o,a=r*255+o;return e<60?[s,a,o,i]:e<120?[a,s,o,i]:e<180?[o,s,a,i]:e<240?[o,a,s,i]:e<300?[a,o,s,i]:[s,o,a,i]}function Go(e,t,r,n=1){e=Dr(e);const i=(1-wt(2*r-1))*t;return Mn(e,i,i*(1-wt(e/60%2-1)),r-i/2,n)}function wf(e,t,r){const[n,i,o]=Cn(e/255,t/255,r/255),s=(o+i)/2;let a;return o==i?a=0:a=s<.5?(o-i)/(o+i):(o-i)/(2-o-i),[n,a,s]}function Af(e,t,r,n=1){e=Dr(e);const i=r*t;return Mn(e,i,i*(1-wt(e/60%2-1)),r-i,n)}function Sf(e,t,r){const[n,i,o]=Cn(e,t,r),s=o-i,a=o/255,u=o==0?0:s/o;return[n,u,a]}function Ef(e,t,r,n=1){e=Dr(e);const i=r*(1-t);return Mn(e,t,t*(1-wt(e/60%2-1)),i,n)}function Pf(e,t,r){const[n,i,o]=Cn(e,t,r),s=(o-i)/255,a=s<1?i/255/(1-s):0;return[n,s,a]}H.hcg=Ef;function qo(e,t,r,n=1){const[i,o,s]=Rf(e,t,r);return Wo(i,o,s,n)}function Rf(e,t,r){function n(i){return i>Lf?i**3:Ko*(i-4/29)}return[Uo*n((e+16)/116+t/500),dr*n((e+16)/116),Fo*n((e+16)/116-r/200)]}function jf(e,t,r){function n(i){return i>Cf?Ju(i):i/Ko+4/29}return[116*n(t/dr)-16,500*(n(e/Uo)-n(t/dr)),200*(n(t/dr)-n(r/Fo))]}const yi=18,Uo=.95047,dr=1,Fo=1.08883,Lf=.206896552,Ko=.12841855,Cf=.008856452;function Zo(e,t,r){const[n,i,o]=hn(e,t,r);return jf(n,i,o)}function hn(e,t,r){const n=Jr(e),i=Jr(t),o=Jr(r),s=.4124564*n+.3575761*i+.1804375*o,a=.2126729*n+.7151522*i+.072175*o,u=.0193339*n+.119192*i+.9503041*o;return[s,a,u]}function Wo(e,t,r,n=1){const i=3.2404542*e-1.5371385*t-.4985314*r,o=-.969266*e+1.8760108*t+.041556*r,s=.0556434*e-.2040259*t+1.0572252*r;return[Xr(i),Xr(o),Xr(s),n]}H.xyz=Wo;H.lab=qo;function Mf(e,t,r,n=1){let i,o,s,a=e*ln;return a<2*Le/3?(s=(1-t)/3,i=(1+t*it(a)/it(Le/3-a))/3,o=1-(s+i)):a<4*Le/3?(a-=2*Le/3,i=(1-t)/3,o=(1+t*it(a)/it(Le/3-a))/3,s=1-(i+o)):(a-=4*Le/3,o=(1-t)/3,s=(1+t*it(a)/it(Le/3-a))/3,i=1-(o+s)),[3*r*i*255,3*r*o*255,3*r*s*255,n]}function $f(e,t,r){const n=e/255,i=t/255,o=r/255,s=(n+i+o)/3;if(n==i&&i==o)return[0,0,s];{const a=.5*(2*n-i-o),u=lr(3)/2*(i-o),f=No(u,a),d=1-Bo(n,i,o)/s;return[(f<0?2*Le+f:f)*Ln,d,s]}}H.hsi=Mf;ye.hsv=ye.hsl=ye.hsi=ye.lch=ye.hcg=function(t,r,n,i){const[o,s,a]=t[i](),[u,f,c]=r[i]();function d(_,E,y){const M=Dr(E-_+180)-180;return _+y*M}return Ut((i.charAt(0)=="h"?d:ne)(o,u,n),ne(s,f,n),(i.charAt(2)=="h"?d:ne)(a,c,n),i)};function Ho(e,t){let r=-1/0,n=-1;for(let i=0;i<e.length;i++){const o=t(e[i]);o>r&&(r=o,n=i)}return n}function Tf(e,t){return e[Ho(e,t)]}function J(e,t,r){function n(a,u){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:u,constr:s,traits:new Set},enumerable:!1}),a._zod.traits.has(e))return;a._zod.traits.add(e),t(a,u);const f=s.prototype,c=Object.keys(f);for(let d=0;d<c.length;d++){const _=c[d];_ in a||(a[_]=f[_].bind(a))}}const i=r?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:e});function s(a){var u;const f=r?.Parent?new o:this;n(f,a),(u=f._zod).deferred??(u.deferred=[]);for(const c of f._zod.deferred)c();return f}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>r?.Parent&&a instanceof r.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class qt extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Nf={};function jt(e){return Nf}function Bf(e,t){return typeof t=="bigint"?t.toString():t}function If(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}const xi=Symbol("evaluating");function Ie(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==xi)return n===void 0&&(n=xi,n=r()),n},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}const Jo="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Oi(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Vf(e){if(Oi(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(Oi(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function zf(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function dt(e){return{}}function zt(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Dt(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function ar(e){return typeof e=="string"?e:e?.message}function Lt(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const i=ar(e.inst?._zod.def?.error?.(e))??ar(t?.error?.(e))??ar(r.customError?.(e))??ar(r.localeError?.(e))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}const Xo=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Bf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Df=J("$ZodError",Xo),Gr=J("$ZodError",Xo,{Parent:Error}),kf=e=>(t,r,n,i)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},o);if(s instanceof Promise)throw new qt;if(s.issues.length){const a=new(i?.Err??e)(s.issues.map(u=>Lt(u,o,jt())));throw Jo(a,i?.callee),a}return s.value},Gf=kf(Gr),qf=e=>async(t,r,n,i)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const a=new(i?.Err??e)(s.issues.map(u=>Lt(u,o,jt())));throw Jo(a,i?.callee),a}return s.value},Uf=qf(Gr),Ff=e=>(t,r,n)=>{const i=n?{...n,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new qt;return o.issues.length?{success:!1,error:new(e??Df)(o.issues.map(s=>Lt(s,i,jt())))}:{success:!0,data:o.value}},Yo=Ff(Gr),Kf=e=>async(t,r,n)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>Lt(s,i,jt())))}:{success:!0,data:o.value}},Qo=Kf(Gr),Zf=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Wf=/^-?\d+(?:\.\d+)?/,Hf=/^(?:true|false)$/i,Jf=/^null$/i,Xf={major:4,minor:1,patch:13},Fe=J("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Xf;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const i of n)for(const o of i._zod.onattach)o(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(s,a,u)=>{let f=zt(s),c;for(const d of a){if(d._zod.def.when){if(!d._zod.def.when(s))continue}else if(f)continue;const _=s.issues.length,E=d._zod.check(s);if(E instanceof Promise&&u?.async===!1)throw new qt;if(c||E instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await E,s.issues.length!==_&&(f||(f=zt(s,_)))});else{if(s.issues.length===_)continue;f||(f=zt(s,_))}}return c?c.then(()=>s):s},o=(s,a,u)=>{if(zt(s))return s.aborted=!0,s;const f=i(a,n,u);if(f instanceof Promise){if(u.async===!1)throw new qt;return f.then(c=>e._zod.parse(c,u))}return e._zod.parse(f,u)};e._zod.run=(s,a)=>{if(a.skipChecks)return e._zod.parse(s,a);if(a.direction==="backward"){const f=e._zod.parse({value:s.value,issues:[]},{...a,skipChecks:!0});return f instanceof Promise?f.then(c=>o(c,s,a)):o(f,s,a)}const u=e._zod.parse(s,a);if(u instanceof Promise){if(a.async===!1)throw new qt;return u.then(f=>i(f,n,a))}return i(u,n,a)}}e["~standard"]={validate:i=>{try{const o=Yo(e,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return Qo(e,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}}),Yf=J("$ZodString",(e,t)=>{Fe.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Zf(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Qf=J("$ZodNumber",(e,t)=>{Fe.init(e,t),e._zod.pattern=e._zod.bag.pattern??Wf,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),r}}),ec=J("$ZodBoolean",(e,t)=>{Fe.init(e,t),e._zod.pattern=Hf,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),r}}),tc=J("$ZodNull",(e,t)=>{Fe.init(e,t),e._zod.pattern=Jf,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{const i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),r}});function wi(e,t,r){e.issues.length&&t.issues.push(...Dt(r,e.issues)),t.value[r]=e.value}const rc=J("$ZodArray",(e,t)=>{Fe.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);const o=[];for(let s=0;s<i.length;s++){const a=i[s],u=t.element._zod.run({value:a,issues:[]},n);u instanceof Promise?o.push(u.then(f=>wi(f,r,s))):wi(u,r,s)}return o.length?Promise.all(o).then(()=>r):r}});function Ai(e,t,r,n){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const i=e.filter(o=>!zt(o));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(s=>Lt(s,n,jt())))}),t)}const nc=J("$ZodUnion",(e,t)=>{Fe.init(e,t),Ie(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Ie(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Ie(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),Ie(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>If(o.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(r)return n(i,o);let s=!1;const a=[];for(const u of t.options){const f=u._zod.run({value:i.value,issues:[]},o);if(f instanceof Promise)a.push(f),s=!0;else{if(f.issues.length===0)return f;a.push(f)}}return s?Promise.all(a).then(u=>Ai(u,i,e,o)):Ai(a,i,e,o)}}),ic=J("$ZodRecord",(e,t)=>{Fe.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!Vf(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),r;const o=[],s=t.keyType._zod.values;if(s){r.value={};const a=new Set;for(const f of s)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){a.add(typeof f=="number"?f.toString():f);const c=t.valueType._zod.run({value:i[f],issues:[]},n);c instanceof Promise?o.push(c.then(d=>{d.issues.length&&r.issues.push(...Dt(f,d.issues)),r.value[f]=d.value})):(c.issues.length&&r.issues.push(...Dt(f,c.issues)),r.value[f]=c.value)}let u;for(const f in i)a.has(f)||(u=u??[],u.push(f));u&&u.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:u})}else{r.value={};for(const a of Reflect.ownKeys(i)){if(a==="__proto__")continue;const u=t.keyType._zod.run({value:a,issues:[]},n);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(c=>Lt(c,n,jt())),input:a,path:[a],inst:e}),r.value[u.value]=u.value;continue}const f=t.valueType._zod.run({value:i[a],issues:[]},n);f instanceof Promise?o.push(f.then(c=>{c.issues.length&&r.issues.push(...Dt(a,c.issues)),r.value[u.value]=c.value})):(f.issues.length&&r.issues.push(...Dt(a,f.issues)),r.value[u.value]=f.value)}}return o.length?Promise.all(o).then(()=>r):r}}),oc=J("$ZodLazy",(e,t)=>{Fe.init(e,t),Ie(e._zod,"innerType",()=>t.getter()),Ie(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),Ie(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),Ie(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),Ie(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)});var Si;class sc{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const i={...n,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function ac(){return new sc}(Si=globalThis).__zod_globalRegistry??(Si.__zod_globalRegistry=ac());function uc(e,t){return new e({type:"string",...dt()})}function fc(e,t){return new e({type:"number",checks:[],...dt()})}function cc(e,t){return new e({type:"boolean",...dt()})}function lc(e,t){return new e({type:"null",...dt()})}const tt=J("ZodMiniType",(e,t)=>{if(!e._zod)throw new Error("Uninitialized schema in ZodMiniType.");Fe.init(e,t),e.def=t,e.type=t.type,e.parse=(r,n)=>Gf(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>Yo(e,r,n),e.parseAsync=async(r,n)=>Uf(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Qo(e,r,n),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>zf(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e))}),hc=J("ZodMiniString",(e,t)=>{Yf.init(e,t),tt.init(e,t)});function $n(e){return uc(hc)}const dc=J("ZodMiniNumber",(e,t)=>{Qf.init(e,t),tt.init(e,t)});function _c(e){return fc(dc)}const bc=J("ZodMiniBoolean",(e,t)=>{ec.init(e,t),tt.init(e,t)});function pc(e){return cc(bc)}const gc=J("ZodMiniNull",(e,t)=>{tc.init(e,t),tt.init(e,t)});function vc(e){return lc(gc)}const mc=J("ZodMiniArray",(e,t)=>{rc.init(e,t),tt.init(e,t)});function yc(e,t){return new mc({type:"array",element:e,...dt()})}const xc=J("ZodMiniUnion",(e,t)=>{nc.init(e,t),tt.init(e,t)});function es(e,t){return new xc({type:"union",options:e,...dt()})}const Oc=J("ZodMiniRecord",(e,t)=>{ic.init(e,t),tt.init(e,t)});function ts(e,t,r){return new Oc({type:"record",keyType:e,valueType:t,...dt()})}const wc=J("ZodMiniLazy",(e,t)=>{oc.init(e,t),tt.init(e,t)});function Ac(e){return new wc({type:"lazy",getter:e})}const Sc=es([$n(),_c(),pc(),vc()]),dn=Ac(()=>es([Sc,yc(dn),ts($n(),dn)]));ts($n(),dn);export{Qa as A,eu as B,qc as C,Vc as D,On as E,zc as F,Cc as G,Nc as H,Mc as I,Lc as J,$c as K,Tc as L,Bc as M,kc as N,Gc as O,Ic as P,At as Q,Te as R,Uc as S,Ut as T,Fc as U,hs as V,jc as W,Su as X,dn as Y,K as a,uu as b,gn as c,Eo as d,ee as e,X as f,Rc as g,bu as h,Q as i,Ao as j,Ot as k,du as l,Dc as m,ae as n,F as o,Ir as p,mu as q,_u as r,wo as s,ge as t,xn as u,hu as v,un as w,ke as x,bo as y,Vr as z};
