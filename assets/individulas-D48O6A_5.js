var ft=Object.defineProperty;var at=(t,e,r)=>e in t?ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var z=(t,e,r)=>at(t,typeof e!="symbol"?e+"":e,r);import{m as ut,a as ie,o as lt,r as re}from"./vendor-D5YANp3-.js";class dt extends Error{constructor(e){super("Programming error"+(e?`: ${e}`:""))}}const ht=(t,e)=>{if(!t)throw new dt(e?.())};class Z{constructor(e){z(this,"_m");this._m=new Map(e)}clear(){this._m.clear()}delete(e){return this._m.delete(e)}forEach(e){for(const[r,n]of this._m)e(n,r,this)}get(e){return this._m.get(e)}has(e){return this._m.has(e)}set(e,r){return this._m.set(e,r),this}get size(){return this._m.size}static groupedBy(e,r){const n=new Z;for(const s of e)n.update(r(s),o=>o?(o.push(s),o):[s]);return n}static mappedBy(e,r){const n=new Z;for(const s of e)n.set(r(s),s);return n}getOrCreate(e,r,n){let s=this.get(e);return s==null?this.set(e,s=r(e)):n&&n(s,e),s}update(e,r){return this.set(e,r(this.get(e),e))}mapEntries(e){return new Z([...this.entries()].map(([r,n])=>[r,e(n,r)]))}toArray(e){return[...this.entries()].map(([r,n])=>e(n,r))}valuesToArray(e){return[...this.values()].map(r=>e(r))}deleteKeys(e){for(const r of e)this.delete(r);return this}assign(e){for(const[r,n]of e)this.set(r,n);return this}backup(e){const r=e?e(this):new Z(this);return()=>{this.clear(),this.assign(r)}}filter(e){return new Z([...this.entries()].filter(([r,n])=>e(n,r)))}freeze(){const e={value(){throw new Error("Can not mutate frozen ExMap")},configurable:!1,enumerable:!1};for(const r of["set","delete","clear"])Object.defineProperty(this,r,e);return Object.freeze(this),this}[Symbol.iterator](){return this._m[Symbol.iterator]()}entries(){return this._m.entries()}keys(){return this._m.keys()}values(){return this._m.values()}get[Symbol.toStringTag](){return"ExMap"}}const w=(t,e)=>Object.assign(t,{type:e}),ce=Symbol("gettrTag:cachedTypeSymbol"),Ce=(t,e,r=!0)=>(Object.defineProperty(t,"type",{get:r?()=>t[ce]??(t[ce]=e()):e,set:void 0,enumerable:!0,configurable:!0}),t),Me=t=>t.type??"[unknown]",xt=(t,e=[])=>{const r=e.filter(n=>n!=null&&n!==!1);return r.length===0?t:`${t}(${r.join(", ")})`};w(t=>t!=null,"[defined]");w(t=>t!==void 0,"!undefined");w(t=>t!==null,"!null");const an=w(t=>!!t,"[truthy]"),un=w(t=>t===void 0,"undefined");w(t=>t===null,"null");w(t=>t==null,"(null|undefined)");w(t=>typeof t=="symbol","symbol");w(t=>t instanceof Error,"error");w(t=>t instanceof RegExp,"regexp");w(t=>t instanceof Map,"map");w(t=>t instanceof Set,"set");const bt=w(t=>Array.isArray(t),"readonly-array");function ln(t,e,r){if(!e(t)){const n=r(t);throw typeof n=="string"?new Error(n):n}return t}const gt=(t,e)=>r=>t(r)&&e(r),pt=t=>({push(e){this.run=gt(this.run,e)},run:t}),dn=(t={})=>{const e=(()=>{const n=pt(c=>!0),{minLength:s,maxLength:o,check:i}=t;return s!=null&&n.push(c=>c.length>=s),o!=null&&n.push(c=>c.length<=o),i!=null&&n.push(i),n.run})(),{item:r}=t;return Ce(n=>{if(!Array.isArray(n)||!e(n))return!1;if(r==null)return!0;for(const s of n)if(!r(s))return!1;return!0},()=>xt(`${r?Me(r):"unknown"}[]`,[t.minLength!=null&&`len>=${t.minLength}`,t.maxLength!=null&&`len<=${t.maxLength}`,t.check&&(t.checkName??"custom")]))},hn=w(t=>typeof t=="boolean","boolean"),xn=w(t=>typeof t=="object"&&t!=null&&!Array.isArray(t),"some-object"),bn=(...t)=>Ce(e=>{for(const r of t)if(r(e))return!0;return!1},()=>`(${t.map(e=>Me(e)).join(" | ")})`),gn=w(t=>typeof t=="string","string");class _e extends Error{}const mt=(t,e="arg is null")=>{if(t==null){if(typeof e=="string")throw new _e(e);const r=e();throw typeof r=="string"?new _e(r):r}return t},pn=(t,e)=>Array.from({length:t},(r,n)=>e(n)),ye=(t,e,r)=>(Object.defineProperty(t,e,{value:r,writable:!1,enumerable:!0,configurable:!0}),r);function G(t,e,r,n){if(r===!0)return ye(t,e,n);const{get:s,set:o}=r;if(!s||o)throw new Error("decorator must be called on getters only");return{get(){return ye(this,e,s.call(this))},enumerable:!0,configurable:!0}}const _t=globalThis.crypto?.getRandomValues?(()=>{const t=e=>{const r=new Uint8Array(e);return globalThis.crypto.getRandomValues(r),r};return Object.assign(t,{hex:e=>Array.from(t(e)).map(r=>r.toString(16).padStart(2,"0")).join("")})})():(t=>Object.assign(e=>t.randomBytes(e),{hex:e=>t.randomBytes(e).toString("hex")}))(typeof require=="function"?require("crypto"):{randomBytes:Object.assign(()=>{throw new Error("Secure random generation not supported")},{hex:()=>{throw new Error("Secure random generation not supported")}})});function H(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}class yt{constructor(e,r=20){z(this,"base");z(this,"powers",[1n]);if(this.base=e,e<2n)throw new Error("mapping length must be > 1");this.get(Math.max(1,r)-1)}get(e){let r=this.powers.length-1;for(;e>r++;)this.powers.push(this.base*this.powers[this.powers.length-1]);return this.powers[e]}}class W{constructor(e){z(this,"parts");z(this,"from10",e=>{if(typeof e=="number"&&Math.floor(e)!==e)throw new Error(`n is floating ${e}`);let r=BigInt(e);if(r<0n)throw new Error(`n is negative: ${r}`);const{base:n,digits:s}=this;if(n===10n)throw new Error("mapping length must be != 10");const o=[];do o.push(s[Number(r%n)]),r/=n;while(r>0n);return String.fromCharCode(...o.reverse())});z(this,"to10",e=>{const{byChar:r,powers:n}=this;let s=0n;for(let o=e.length-1;o>=0;--o){const i=r.get(e.charCodeAt(o));if(i===void 0)throw new Error(`invalid char '${e[o]}' in '${e}'`);s+=i*n.get(e.length-1-o)}return s});z(this,"mask",e=>{const r=this.digits[this.digits.length-1];return String.fromCharCode(...Array.from({length:e},()=>r))});z(this,"random",e=>{if(e<1||Math.floor(e)!==e)throw new Error(`random length must be integer > 0, got ${e}`);return String.fromCharCode(...Array.from({length:e},()=>this.digits[Math.random()*this.digits.length|0]))});z(this,"fixedWidthRandomGenerator",e=>{const r=u=>{const l=Number(this.to10(this.mask(u)));if(l<=0||!Number.isFinite(l))throw new Error(`invalid mask: ${l}`);const b=BigInt(l),S=Math.ceil(Math.log2(l)),v=Math.max(1,Math.ceil(S/8)),R=1n<<BigInt(8*v),x=R-R%b;return()=>{for(;;){const d=_t(v);let E=0n;for(let I=0;I<v;I++)E=E<<8n|BigInt(d[I]);if(E<x)return Number(E%b)}}};if(e<1||Math.floor(e)!==e)throw new Error(`length must be integer < 1, got ${e}`);const n=String.fromCharCode(this.digits[0]),s=this.maxSafeExponent,o=e%s,i=Math.floor(e/s),c=(u,l)=>this.from10(u()).padStart(l,n),f=u=>{const l=[];for(let b=0;b<i;++b)l.push(c(u,s));return l.join("")};if(o>0){const u=r(o);if(i>0){const l=r(s);return()=>f(l)+c(u,o)}return()=>c(u,e)}ht(i>0);const a=r(s);return()=>f(a)});this.parts=e}get base(){return BigInt(this.digits.length)}get digits(){return[...this.digitsSet].sort((r,n)=>r-n)}get digitsSet(){const e=new Set;for(const[r,n]of this.parts.entries())if(bt(n)){if(n.length!==2||n[0].length!==1||n[1].length!==1)throw new Error(`parts[${r}] must be ['a','z'] (to add a range) or 'abc0xyz' (to add by char)`);const[s,o]=Array.from(n).map(i=>i.codePointAt(0));if(s>o)throw new Error(`parts[${r}] 'from' must be <= 'to', got '${s}' > '${o}'`);for(let i=0;i<o-s+1;++i)e.add(s+i)}else for(let s=0;s<n.length;++s)e.add(n.codePointAt(s));if(e.size<2)throw new Error("empty digits set");return e}get powers(){return new yt(this.base)}get byChar(){return new Map([...this.digits].map((e,r)=>[e,BigInt(r)]))}get maxSafeInteger(){return this.from10(BigInt(Number.MAX_SAFE_INTEGER))}get maxSafeExponent(){return this.maxSafeInteger.length-1}}H([G],W.prototype,"digits",null);H([G],W.prototype,"digitsSet",null);H([G],W.prototype,"powers",null);H([G],W.prototype,"byChar",null);H([G],W.prototype,"maxSafeInteger",null);const wt=t=>{const e={};for(const[r,n]of Object.entries(t))e[r]=e[`b${r}`]=new W(n);return e},vt={...wt({2:[["0","1"]],3:[["0","2"]],4:[["0","3"]],6:[["0","5"]],8:[["0","7"]],10:[["0","9"]],16:[["0","9"],["a","f"]],62:[["0","9"],["a","z"],["A","Z"]],70:[["0","9"],["a","z"],["A","Z"],"!@$&%+_="],88:[["0","9"],["a","z"],["A","Z"],`_+-=~!?@#:*&^%$.,{}[]<>'"/`]})},{b62:{from10:zt,to10:kt,mask:At,fixedWidthRandomGenerator:Ze}}=vt,St=Ze(16);Ze(12);const Ne=t=>{const e=Number(kt(At(t)));return()=>zt(Date.now()%e).padStart(t,"0")},Et=Ne(4);Ne(2);const mn=()=>`${Et()}${St()}`;class _n extends Z{constructor(e){super(e),ut(this,{_m:lt,set:ie,delete:ie,clear:ie})}}const yn=t=>{const e=re.createContext(void 0),r=()=>re.useContext(e);return{ctx:e,use:()=>mt(r(),()=>`"${t}" is not provided`),useIfProvided:r,provider:e.Provider}};function Pt(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}class Ie{constructor(){z(this,"callback",null);z(this,"ref",{observer:()=>this.observer,_current:null,get current(){return this._current},set current(e){this._current!==e&&(this._current&&this.observer().unobserve(this._current),this._current=e,e&&this.observer().observe(e))}})}setCallback(e){this.callback=e}get observer(){return new ResizeObserver(e=>this.observed(e))}observed(e){if(!this.callback)return;const r=e.find(n=>n.target===this.ref.current);r&&this.callback(r)}destroy(){this.ref.current=null}}Pt([G],Ie.prototype,"observer",null);const wn=t=>{const e=re.useRef(void 0);return e.current||(e.current=new Ie),e.current.callback=t,re.useEffect(()=>()=>{e.current&&(e.current.destroy(),e.current=void 0)},[]),e.current};const{abs:T,atan2:Te,cos:M,floor:Rt,log:j,min:Ge,max:xe,round:_,sign:we,sin:$t,sqrt:Q,cbrt:jt,PI:P,hypot:We}=Math;function y(t,e,r){return t+(e-t)*r}function Ot(t,e,r){return(r-t)/(e-t)}function m(t,e=0,r=1){return t<e?e:t>r?r:t}function fe(t,e,r,n=1e-8){let s=e,o;for(;r--&&T(o=t(s))>n;){const i=(t(s+n)-o)/n;console.log("fx / dfdx",o/i,"fx",o,"x",s),s=s-o/i}return s}function Lt(t,e,r,n){let s=t(e);for(;n--;){const o=(e+r)/2,i=t(o);we(s)==we(i)?(e=o,s=i):r=o}return(e+r)/2}const le=P/180,be=180/P;function K(...t){return t[0]instanceof A?t[0]:t.length>1&&typeof t[t.length-1]=="string"?B(t.slice(0,t.length-1),t[t.length-1]):Array.isArray(t[0])?B(t[0]):B(t)}class A{constructor(e,r,n,s=1){this.r=e,this.g=r,this.b=n,this.a=s}mix(e,r,n="rgb"){return ee(this,e,r,n)}rgb(e=!0,r=!0){const n=c=>(e&&(c=_(c)),r&&(c=m(c,0,255)),c),{r:s,g:o,b:i}=this;return[n(s),n(o),n(i)]}rgba(e=!0,r=!0){const n=f=>(e&&(f=_(f)),r&&(f=m(f,0,255)),f),{r:s,g:o,b:i,a:c}=this;return[n(s),n(o),n(i),c]}hex(e="rgb"){const{r,g:n,b:s,a:o}=this;return It(r,n,s,o,e)}hsl(){const{r:e,g:r,b:n}=this;return nr(e,r,n)}hsv(){const{r:e,g:r,b:n}=this;return or(e,r,n)}hcg(){const{r:e,g:r,b:n}=this;return cr(e,r,n)}css(e="rgb"){if(e=="rgb"){const{r,g:n,b:s,a:o}=this;return Xt(r,n,s,o)}else{if(e=="hsl")return Yt(this.hsl(),this.alpha());throw new Error}}name(e=!1){const r=this.num(),n=Object.keys(O).find(s=>O[s]==r);if(!n&&e){const[s,o,i]=this.lab();return xr(Object.keys(O),c=>{const[f,a,u]=qe(O[c]).lab();return-We(s-f,o-a,i-u)})}return n}cmyk(){const{r:e,g:r,b:n}=this;return Qt(e,r,n)}gl(){const{r:e,g:r,b:n,a:s}=this;return[e/255,r/255,n/255,s]}luminance(e){const{r,g:n,b:s,a:o}=this,[,i]=de(r,n,s);if(e===void 0)return i;const c=(f,a,u)=>(u-f)/(a-f);return e>i?ee(this,ze,c(i,1,e),"xyz").alpha(o):ee(ve,this,c(0,i,e),"xyz").alpha(o)}temperature(){const{r:e,g:r,b:n}=this;return rr(e,r,n)}set(e,r){const[n,s]=e.split("."),o=this[n](),i=n.indexOf(s);if(i==-1)throw new Error("invalid channel");return o[i]=typeof r=="number"?r:r(o[i]),K(o,n).alpha(this.a)}clipped(){const{r:e,g:r,b:n}=this;return!(0<=e&&e<=255&&0<=r&&r<=255&&0<=n&&n<=255)}textColor(){return this.luminance()>.5?ve:ze}alpha(e){if(e===void 0)return this.a;const{r,g:n,b:s}=this;return Ae(r,n,s,e)}darker(e=1){const[r,n,s]=this.lab();return Mt(r-Re*e,n,s,this.alpha())}brighter(e=1){return this.darker(-e)}saturate(e=1){const[r,n,s]=this.lch();return Ct(r,xe(0,n+e*Re),s,this.alpha())}desaturate(e=1){return this.saturate(-e)}premultiplied(){const{r:e,g:r,b:n,a:s}=this;return Ae(e*s,r*s,n*s,s)}hsi(){const{r:e,g:r,b:n}=this;return hr(e,r,n)}lab(){const{r:e,g:r,b:n}=this;return Je(e,r,n)}num(e="rgb"){const{r,g:n,b:s,a:o}=this;return Tt(r,n,s,o,e)}lch(){const{r:e,g:r,b:n}=this;return Jt(e,r,n)}xyz(){const{r:e,g:r,b:n}=this;return de(e,r,n)}equals(e){const{r,g:n,b:s,a:o}=this,{r:i,g:c,b:f,a}=e;return r==i&&n==c&&s==f&&o==a}hashCode(){return this.num("rgba")}toSource(){const{r:e,g:r,b:n,a:s}=this;return"chroma.rgb("+e+", "+r+", "+n+(s===1?")":", "+s+")")}}A.prototype.toString=A.prototype.css;A.prototype.kelvin=A.prototype.temperature;const ve=new A(0,0,0,1),ze=new A(255,255,255,1),Bt={OrRd:[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072],PuBu:[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496],BuPu:[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347],Oranges:[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060],BuGn:[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435],YlOrBr:[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150],YlGn:[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705],Reds:[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221],RdPu:[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234],Greens:[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435],YlGnBu:[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800],Purples:[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893],GnBu:[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801],Greys:[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0],YlOrRd:[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646],PuRd:[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239],Blues:[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683],PuBuGn:[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510],Viridis:[4456788,4728695,4147850,3237774,2524047,2071946,7130714,11984427,16705573],Spectral:[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770],RdYlGn:[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679],RdBu:[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065],PiYG:[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529],PRGn:[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435],RdYlBu:[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237],BrBG:[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408],RdGy:[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618],PuOr:[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195],Set2:[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947],Accent:[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886],Set1:[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329],Set3:[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463],Dark2:[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886],Paired:[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696],Pastel2:[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772],Pastel1:[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906]},O={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflower:6591981,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,laserlemon:16777044,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrod:16448210,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,maroon2:8323072,maroon3:11546720,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,purple2:8323199,purple3:10494192,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ee(t,e,r=.5,n="rgb"){const s=K(t),o=K(e),i=k[n]&&k[n](s,o,r,n);if(!i)throw new Error("color mode "+n+" is not supported");return i.alpha(y(s.alpha(),o.alpha(),r))}function vn(t){const[e,r,n,s]=Fe(t);return new A(e,r,n,s)}function Ct(...t){return B(t,"lch")}function ke(...t){return B(t,"hsl")}function Mt(...t){return B(t,"lab")}function qe(t){const[e,r,n]=se(t);return new A(e,r,n)}function Ae(...t){return B(t,"rgb")}function Se(...t){const e=(r=>e._at(r));return Object.getOwnPropertyNames(Ee.prototype).forEach(r=>e[r]=Ee.prototype[r]),Array.isArray(t[0])&&(t=t[0]),t.length==1&&typeof t[0]=="string"&&(t=Bt[t[0]]),e._init(typeof t[0]=="function"?t[0]:t.map(r=>K(r))),e}class Ee{classes(e){if(e===void 0)return this._classes;if(Array.isArray(e))this._classes=e,this.domain(e[0],e[e.length-1]);else{if(e%1!=0||e<1)throw new Error("invalid classes param");this._classes=Ve(this.domain(),"e",e)}return this}domain(...e){if(e[0]===void 0)return typeof this._colors!="function"?this._pos.map(r=>y(this._min,this._max,r)):[this._min,this._max];if(this._min=e[0],this._max=e[e.length-1],e.length==2)typeof this._colors!="function"&&(this._pos=this._colors.map((r,n)=>n/(this._colors.length-1)));else if(typeof this._colors!="function"&&e.length==this._colors.length)this._pos=e.map(r=>Ot(this._min,this._max,r));else throw new Error("invalid domain "+e);return this}mode(e){return e===void 0?this._mode:(this._mode=e,this._resetCache(),this)}out(e){return this._out=e,this}correctLightness(e=!0){if(this._correctLightness!=e){this._resetCache();const r=this._colors;if(e&&typeof r!="function"){let n=0;for(let s=1;s<r.length;s++){const o=r[s].lab()[0]-r[s-1].lab()[0];if(n==0)n=o;else if(n*o<0)throw new Error("scale color lightnesses must be monotonic")}}}return this._correctLightness=e,this}padding(e,r=e){return e?(this._paddingLeft=e,this._paddingRight=r,this):[this._paddingLeft,this._paddingRight]}colors(e,r="hex"){let n;if(e===void 0)n=this._colors.slice();else if(e==1)n=[this._color((this._min+this._max)/2)];else if(e>1)n=Array.from({length:e},(s,o)=>this._color(y(this._min,this._max,o/(e-1))));else{let s;this._classes&&this._classes.length>2?s=Array.from({length:this._classes.length-1},(o,i)=>(this._classes[i]+this._classes[i+1])*.5):s=this.domain(),n=s.map(o=>this._color(o))}return r!="color"?n.map(s=>s[r]()):n}cache(e){return e===void 0?!!this._cache:(this._cache=e?this._cache||new Map:void 0,this)}gamma(e){return e===void 0?this._gamma:(this._gamma=e,this)}_at(e){const r=this._color(e);return this._out?r[this._out]():r}_init(e){this._colors=e,typeof e!="function"&&(this._pos=e.map((r,n)=>n/(e.length-1))),this._mode="rgb",this.domain(0,1),this._paddingLeft=0,this._paddingRight=0,this._correctLightness=!1,this._cache=new Map,this._gamma=1}_getClass(e){return this._classes.findIndex(r=>e<=r)-1}_color(e,r=!1){let n;if(r)n=e;else{const i=this._min,c=this._max;this._classes&&this._classes.length>2?n=this._getClass(e)/(this._classes.length-2):c!==i?n=(e-i)/(c-i):n=1,this._correctLightness&&(n=this._tCorrectedLightness(n))}n=n**this._gamma,n=(this._paddingLeft+n)/(1+this._paddingLeft+this._paddingRight),n=m(n,0,1);const s=n,o=this._cache&&this._cache.get(s);if(o)return o;{let i;if(Array.isArray(this._colors))for(let c=0;c<this._pos.length;c++){const f=this._pos[c];if(n<=f){i=this._colors[c];break}if(n>=f&&c==this._pos.length-1){i=this._colors[c];break}if(n>f&&n<this._pos[c+1]){n=(n-f)/(this._pos[c+1]-f),i=ee(this._colors[c],this._colors[c+1],n,this._mode);break}}else i=this._colors(n);return this._cache&&this._cache.set(s,i),i}}_tCorrectedLightness(e){const r=this._color(0,!0).lab()[0],n=this._color(1,!0).lab()[0],s=y(r,n,e);return Lt(o=>this._color(o,!0).lab()[0]-s,0,1,8)}_resetCache(){this._cache&&this._cache.clear()}}var Pe;(function(t){function e(){return Se([ke(180,1,.9),ke(250,.7,.4)])}t.cool=e;function r(){return Se(["#000","#f00","#ff0","#fff"]).mode("rgb")}t.hot=r})(Pe||(Pe={}));function Zt(t){const e={min:1/0,max:-1/0,sum:0,values:[],count:0};function r(n){n!=null&&!isNaN(n)&&(e.values.push(n),e.sum+=n,n<e.min&&(e.min=n),n>e.max&&(e.max=n),e.count+=1)}return t.forEach(n=>r(n)),e.domain=[e.min,e.max],e.limits=function(n,s){return Ve(this,n,s)},e}function Ve(t,e="e",r=7){const n=Array.isArray(t)?Zt(t):t,{min:s,max:o,values:i}=n;if(i.sort((c,f)=>c-f),r==1)return[s,o];if(e.startsWith("c"))return[s,o];if(e.startsWith("e"))return Array.from({length:r+1},(c,f)=>y(s,o,f/r));if(e.startsWith("l")){if(s<=0)throw new Error("Logarithmic scales are only possible for values > 0");const c=Math.LOG10E*j(s),f=Math.LOG10E*j(o);return Array.from({length:r+1},(a,u)=>10**y(c,f,u/r))}else{if(e.startsWith("q"))return Array.from({length:r+1},(c,f)=>{const a=(i.length-1)*f/r,u=Rt(a);return u==a?i[u]:y(i[u],i[u+1],a-u)});if(e.startsWith("k")){const c=i.length,f=new Array(c),a=new Array(r);let u=!0,l=0,b=Array.from({length:r+1},(x,d)=>y(s,o,d/r));do{a.fill(0);for(let d=0;d<i.length;d++){const E=i[d],I=et(b,ct=>-T(ct-E));a[I]++,f[d]=I}const x=new Array(r).fill(0);for(let d=0;d<f.length;d++){const E=f[d];x[E]+=i[d]}for(let d=0;d<x.length;d++)x[d]/=a[d];u=x.some((d,E)=>d!=b[E]),b=x}while(l++<200&&u);const S=Array.from({length:r},()=>[]);for(let x=0;x<f.length;x++){const d=f[x];S[d].push(i[x])}const v=[];for(const x of S)v.push(x[0],x[x.length-1]);v.sort((x,d)=>x-d);const R=[];R.push(v[0]);for(let x=1;x<v.length;x+=2){const d=v[x];!isNaN(d)&&R.indexOf(d)==-1&&R.push(d)}return R}else throw new Error("unknown mode")}}const k={},g={};function Nt(t,e,r,n){const s=t[n](),o=e[n]();return B([y(s[0],o[0],r),y(s[1],o[1],r),y(s[2],o[2],r),y(t.alpha(),e.alpha(),r)],n)}k.xyz=k.rgb=k.lab=Nt;k.num=function(t,e,r){const n=t.num(),s=e.num();return qe(y(n,s,r))};k.lrgb=function(t,e,r){const[n,s,o,i]=t.rgba(!1,!1),[c,f,a,u]=e.rgba(!1,!1);return new A(Q(n**2*(1-r)+c**2*r),Q(s**2*(1-r)+f**2*r),Q(o**2*(1-r)+a**2*r),y(i,u,r))};function B(t,e){if(Array.isArray(t[0])&&(t=t[0]),!e)if(t.length==1&&t[0]in O)e="name";else if(t.length==1&&typeof t[0]=="string")e="css";else if(t.length==3)e="rgb";else if(t.length==4&&typeof t[3]=="number"&&t[3]>=0&&t[3]<=1)e="rgb";else if(t.length==1&&typeof t[0]=="number"&&t[0]>=0&&t[0]<=16777215)e="num";else throw new Error("could not guess mode. args "+JSON.stringify(t));const r=g[e](...t);return new A(r[0],r[1],r[2],r[3]!==void 0?r[3]:1)}function Ue(t){let e;if(e=t.match(/^#?([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})?$/i))return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),e[4]?parseInt(e[4],16)/255:1];if(e=t.match(/^#?([A-F\d])([A-F\d])([A-F\d])([A-F\d])?$/i))return[parseInt(e[1],16)*17,parseInt(e[2],16)*17,parseInt(e[3],16)*17,e[4]?parseInt(e[4],16)*17/255:1];throw new Error("invalid hex color: "+t)}function It(t,e,r,n,s="rgb"){t=m(_(t),0,255),e=m(_(e),0,255),r=m(_(r),0,255);const i=(t<<16|e<<8|r).toString(16).padStart(6,"0"),c=_(m(n)*255).toString(16).padStart(2,"0");return"#"+(s=="argb"?c+i:s=="rgba"?i+c:i)}g.lrgb=g.rgb;g.hex=Ue;g.hsl=Xe;function ne(t){return(t%360+360)%360}g.hsv=sr;function se(t){if(!(typeof t=="number"&&t>=0&&t<=16777215))throw new Error("unknown num color: "+t);const e=t>>16,r=t>>8&255,n=t&255;return[e,r,n,1]}function Tt(t,e,r,n=1,s="rgb"){const o=_(t)<<16|_(e)<<8|_(r);return s==="rgb"?o:s==="rgba"?o<<8|_(n*255)<<24:_(n*255)<<24|o}g.num=se;const q="\\s*",h="([+-]?(?:\\d*\\.?)?\\d+(?:[eE][+-]?\\d+)?)",Gt=new RegExp(["^rgba?\\(",h,",",h,",",h,"(?:,",h+"(%)?",")?\\)$"].join(q),"i"),Wt=new RegExp(["^rgba?\\(",h,h,h,"(?:/",h+"(%)?",")?\\)$"].join(q),"i"),qt=new RegExp(["^rgba?\\(",h+"%",",",h+"%",",",h+"%","(?:,",h+"(%)?",")?\\)$"].join(q),"i"),Vt=new RegExp(["^rgba?\\(",h+"%",h+"%",h+"%","(?:/",h+"(%)?",")?\\)$"].join(q),"i"),Ut=new RegExp(["^hsla?\\(",h+"(deg|rad|turn)?",",",h+"%",",",h+"%","(?:,",h+"(%)?",")?\\)$"].join(q),"i"),Ft=new RegExp(["^hsla?\\(",h+"(deg|rad|turn)?\\s+"+h+"%",h+"%","(?:/",h+"(%)?",")?\\)$"].join(q),"i");function Fe(t){if(O&&O.hasOwnProperty(t))return se(O[t.toLowerCase()]);let e;if(e=t.match(Gt)||t.match(Wt))return[m(+e[1],0,255),m(+e[2],0,255),m(+e[3],0,255),e[4]?m(e[5]?+e[4]/100:+e[4]):1];if(e=t.match(qt)||t.match(Vt))return[m(+e[1]/100)*255,m(+e[2]/100)*255,m(+e[3]/100)*255,e[4]?m(e[5]?+e[4]/100:+e[4]):1];if(e=t.match(Ut)||t.match(Ft)){const r={deg:1,rad:be,turn:360},n=e[2]?e[2].toLowerCase():"deg";return Xe((+e[1]*r[n]%360+360)%360,m(+e[3]/100),m(+e[4]/100),e[5]?m(e[6]?+e[5]/100:+e[5]):1)}else return Ue(t)}function Xt(t,e,r,n=1){return n>=1?"rgb("+[t,e,r].map(_).join(",")+")":"rgba("+[t,e,r].map(_).join(",")+","+n+")"}function D(t){return _(t*100)/100}function Yt([t,e,r],n){const s=n<1?"hsla":"hsl";return s+"("+D(t)+","+D(e*100)+"%,"+D(r*100)+"%"+(s=="hsla"?","+D(n):"")+")"}g.css=Fe;g.name=function(t){return se(O[t])};function Kt(t,e,r){return[t,M(r*le)*e,$t(r*le)*e]}function Ht(t,e,r,n=1){const[,s,o]=Kt(t,e,r);return Ye(t,s,o,n)}function Dt(t,e,r){const n=We(e,r),s=(Te(r,e)*be+360)%360;return[t,n,s]}function Jt(t,e,r){const[n,s,o]=Je(t,e,r);return Dt(n,s,o)}g.lch=Ht;function Qt(t,e,r){t/=255,e/=255,r/=255;const n=1-xe(t,e,r);if(n==1)return[0,0,0,1];const s=(1-t-n)/(1-n),o=(1-e-n)/(1-n),i=(1-r-n)/(1-n);return[s,o,i,n]}function er(t,e,r,n,s=1){if(n==1)return[0,0,0,s];const o=255*(1-t)*(1-n),i=255*(1-e)*(1-n),c=255*(1-r)*(1-n);return[o,i,c,s]}g.cmyk=er;g.gl=function(t,e,r,n=1){return[t*255,e*255,r*255,n]};function ae(t){const e=t/255;return e<=.04045?e/12.92:((e+.055)/1.055)**2.4}function ue(t){return t<=.0031308?255*(12.92*t):255*((1+.055)*t**(1/2.4)-.055)}function tr(t){const e=t/100;let r,n,s;return e<66?(r=255,n=-155.25485562709179-.44596950469579133*(e-2)+104.49216199393888*j(e-2),s=e<20?0:-254.76935184120902+.8274096064007395*(e-10)+115.67994401066147*j(e-10)):(r=351.97690566805693+.114206453784165*(e-55)-40.25366309332127*j(e-55),n=325.4494125711974+.07943456536662342*(e-50)-28.0852963507957*j(e-50),s=255),[r,n,s]}g.rgb=(...t)=>t;function rr(t,e,r){return console.log(r-t),e+r<158.61?(console.log("0 < t < 20"),_(fe(n=>e-(-155.25485562709179-.44596950469579133*(n-2)+104.49216199393888*j(n-2)),15,4)*100)):r-t<0?(console.log("20 < t < 66"),_(fe(n=>r-(-254.76935184120902+.8274096064007395*(n-10)+115.67994401066147*j(n-10)),43,4)*100)):(console.log("0 < t < 400, start= "+(-1.4*(t+e)+755)),_(fe(n=>t-(351.97690566805693+.114206453784165*(n-55)-40.25366309332127*j(n-55)),-1.4*(t+e)+755,8)*100))}g.temperature=g.kelvin=g.K=tr;function ge(t,e,r){const n=Ge(t,e,r),s=xe(t,e,r),o=s-n;let i;return o==0?i=0:t==s?i=(e-r)/o+(e<r?6:0):e==s?i=2+(r-t)/o:i=4+(t-e)/o,[i*60,n,s]}function pe(t,e,r,n,s){const o=n*255,i=e*255+o,c=r*255+o;return t<60?[i,c,o,s]:t<120?[c,i,o,s]:t<180?[o,i,c,s]:t<240?[o,c,i,s]:t<300?[c,o,i,s]:[i,o,c,s]}function Xe(t,e,r,n=1){t=ne(t);const s=(1-T(2*r-1))*e;return pe(t,s,s*(1-T(t/60%2-1)),r-s/2,n)}function nr(t,e,r){const[n,s,o]=ge(t/255,e/255,r/255),i=(o+s)/2;let c;return o==s?c=0:c=i<.5?(o-s)/(o+s):(o-s)/(2-o-s),[n,c,i]}function sr(t,e,r,n=1){t=ne(t);const s=r*e;return pe(t,s,s*(1-T(t/60%2-1)),r-s,n)}function or(t,e,r){const[n,s,o]=ge(t,e,r),i=o-s,c=o/255,f=o==0?0:i/o;return[n,f,c]}function ir(t,e,r,n=1){t=ne(t);const s=r*(1-e);return pe(t,e,e*(1-T(t/60%2-1)),s,n)}function cr(t,e,r){const[n,s,o]=ge(t,e,r),i=(o-s)/255,c=i<1?s/255/(1-i):0;return[n,i,c]}g.hcg=ir;function Ye(t,e,r,n=1){const[s,o,i]=fr(t,e,r);return Qe(s,o,i,n)}function fr(t,e,r){function n(s){return s>ur?s**3:De*(s-4/29)}return[Ke*n((t+16)/116+e/500),te*n((t+16)/116),He*n((t+16)/116-r/200)]}function ar(t,e,r){function n(s){return s>lr?jt(s):s/De+4/29}return[116*n(e/te)-16,500*(n(t/Ke)-n(e/te)),200*(n(e/te)-n(r/He))]}const Re=18,Ke=.95047,te=1,He=1.08883,ur=.206896552,De=.12841855,lr=.008856452;function Je(t,e,r){const[n,s,o]=de(t,e,r);return ar(n,s,o)}function de(t,e,r){const n=ae(t),s=ae(e),o=ae(r),i=.4124564*n+.3575761*s+.1804375*o,c=.2126729*n+.7151522*s+.072175*o,f=.0193339*n+.119192*s+.9503041*o;return[i,c,f]}function Qe(t,e,r,n=1){const s=3.2404542*t-1.5371385*e-.4985314*r,o=-.969266*t+1.8760108*e+.041556*r,i=.0556434*t-.2040259*e+1.0572252*r;return[ue(s),ue(o),ue(i),n]}g.xyz=Qe;g.lab=Ye;function dr(t,e,r,n=1){let s,o,i,c=t*le;return c<2*P/3?(i=(1-e)/3,s=(1+e*M(c)/M(P/3-c))/3,o=1-(i+s)):c<4*P/3?(c-=2*P/3,s=(1-e)/3,o=(1+e*M(c)/M(P/3-c))/3,i=1-(s+o)):(c-=4*P/3,o=(1-e)/3,i=(1+e*M(c)/M(P/3-c))/3,s=1-(o+i)),[3*r*s*255,3*r*o*255,3*r*i*255,n]}function hr(t,e,r){const n=t/255,s=e/255,o=r/255,i=(n+s+o)/3;if(n==s&&s==o)return[0,0,i];{const c=.5*(2*n-s-o),f=Q(3)/2*(s-o),a=Te(f,c),l=1-Ge(n,s,o)/i;return[(a<0?2*P+a:a)*be,l,i]}}g.hsi=dr;k.hsv=k.hsl=k.hsi=k.lch=k.hcg=function(e,r,n,s){const[o,i,c]=e[s](),[f,a,u]=r[s]();function l(b,S,v){const R=ne(S-b+180)-180;return b+v*R}return K((s.charAt(0)=="h"?l:y)(o,f,n),y(i,a,n),(s.charAt(2)=="h"?l:y)(c,u,n),s)};function et(t,e){let r=-1/0,n=-1;for(let s=0;s<t.length;s++){const o=e(t[s]);o>r&&(r=o,n=s)}return n}function xr(t,e){return t[et(t,e)]}function p(t,e,r){function n(c,f){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:f,constr:i,traits:new Set},enumerable:!1}),c._zod.traits.has(t))return;c._zod.traits.add(t),e(c,f);const a=i.prototype,u=Object.keys(a);for(let l=0;l<u.length;l++){const b=u[l];b in c||(c[b]=a[b].bind(c))}}const s=r?.Parent??Object;class o extends s{}Object.defineProperty(o,"name",{value:t});function i(c){var f;const a=r?.Parent?new o:this;n(a,c),(f=a._zod).deferred??(f.deferred=[]);for(const u of a._zod.deferred)u();return a}return Object.defineProperty(i,"init",{value:n}),Object.defineProperty(i,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(t)}),Object.defineProperty(i,"name",{value:t}),i}class Y extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const br={};function V(t){return br}function gr(t,e){return typeof e=="bigint"?e.toString():e}function pr(t){const e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}const $e=Symbol("evaluating");function $(t,e,r){let n;Object.defineProperty(t,e,{get(){if(n!==$e)return n===void 0&&(n=$e,n=r()),n},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}const tt="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function je(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function mr(t){if(je(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const r=e.prototype;return!(je(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function _r(t,e,r){const n=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(n._zod.parent=t),n}function N(t){return{}}function F(t,e=0){if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function X(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function J(t){return typeof t=="string"?t:t?.message}function U(t,e,r){const n={...t,path:t.path??[]};if(!t.message){const s=J(t.inst?._zod.def?.error?.(t))??J(e?.error?.(t))??J(r.customError?.(t))??J(r.localeError?.(t))??"Invalid input";n.message=s}return delete n.inst,delete n.continue,e?.reportInput||delete n.input,n}const rt=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,gr,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},yr=p("$ZodError",rt),oe=p("$ZodError",rt,{Parent:Error}),wr=t=>(e,r,n,s)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},i=e._zod.run({value:r,issues:[]},o);if(i instanceof Promise)throw new Y;if(i.issues.length){const c=new(s?.Err??t)(i.issues.map(f=>U(f,o,V())));throw tt(c,s?.callee),c}return i.value},vr=wr(oe),zr=t=>async(e,r,n,s)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let i=e._zod.run({value:r,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){const c=new(s?.Err??t)(i.issues.map(f=>U(f,o,V())));throw tt(c,s?.callee),c}return i.value},kr=zr(oe),Ar=t=>(e,r,n)=>{const s=n?{...n,async:!1}:{async:!1},o=e._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new Y;return o.issues.length?{success:!1,error:new(t??yr)(o.issues.map(i=>U(i,s,V())))}:{success:!0,data:o.value}},nt=Ar(oe),Sr=t=>async(e,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let o=e._zod.run({value:r,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(i=>U(i,s,V())))}:{success:!0,data:o.value}},st=Sr(oe),Er=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Pr=/^-?\d+(?:\.\d+)?/,Rr=/^(?:true|false)$/i,$r=/^null$/i,jr={major:4,minor:1,patch:13},L=p("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=jr;const n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(const s of n)for(const o of s._zod.onattach)o(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const s=(i,c,f)=>{let a=F(i),u;for(const l of c){if(l._zod.def.when){if(!l._zod.def.when(i))continue}else if(a)continue;const b=i.issues.length,S=l._zod.check(i);if(S instanceof Promise&&f?.async===!1)throw new Y;if(u||S instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await S,i.issues.length!==b&&(a||(a=F(i,b)))});else{if(i.issues.length===b)continue;a||(a=F(i,b))}}return u?u.then(()=>i):i},o=(i,c,f)=>{if(F(i))return i.aborted=!0,i;const a=s(c,n,f);if(a instanceof Promise){if(f.async===!1)throw new Y;return a.then(u=>t._zod.parse(u,f))}return t._zod.parse(a,f)};t._zod.run=(i,c)=>{if(c.skipChecks)return t._zod.parse(i,c);if(c.direction==="backward"){const a=t._zod.parse({value:i.value,issues:[]},{...c,skipChecks:!0});return a instanceof Promise?a.then(u=>o(u,i,c)):o(a,i,c)}const f=t._zod.parse(i,c);if(f instanceof Promise){if(c.async===!1)throw new Y;return f.then(a=>s(a,n,c))}return s(f,n,c)}}t["~standard"]={validate:s=>{try{const o=nt(t,s);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return st(t,s).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}}),Or=p("$ZodString",(t,e)=>{L.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??Er(t._zod.bag),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Lr=p("$ZodNumber",(t,e)=>{L.init(t,e),t._zod.pattern=t._zod.bag.pattern??Pr,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const o=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:t,...o?{received:o}:{}}),r}}),Br=p("$ZodBoolean",(t,e)=>{L.init(t,e),t._zod.pattern=Rr,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:t}),r}}),Cr=p("$ZodNull",(t,e)=>{L.init(t,e),t._zod.pattern=$r,t._zod.values=new Set([null]),t._zod.parse=(r,n)=>{const s=r.value;return s===null||r.issues.push({expected:"null",code:"invalid_type",input:s,inst:t}),r}});function Oe(t,e,r){t.issues.length&&e.issues.push(...X(r,t.issues)),e.value[r]=t.value}const Mr=p("$ZodArray",(t,e)=>{L.init(t,e),t._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),r;r.value=Array(s.length);const o=[];for(let i=0;i<s.length;i++){const c=s[i],f=e.element._zod.run({value:c,issues:[]},n);f instanceof Promise?o.push(f.then(a=>Oe(a,r,i))):Oe(f,r,i)}return o.length?Promise.all(o).then(()=>r):r}});function Le(t,e,r,n){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const s=t.filter(o=>!F(o));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(o=>o.issues.map(i=>U(i,n,V())))}),e)}const Zr=p("$ZodUnion",(t,e)=>{L.init(t,e),$(t._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),$(t._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),$(t._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),$(t._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${s.map(o=>pr(o.source)).join("|")})$`)}});const r=e.options.length===1,n=e.options[0]._zod.run;t._zod.parse=(s,o)=>{if(r)return n(s,o);let i=!1;const c=[];for(const f of e.options){const a=f._zod.run({value:s.value,issues:[]},o);if(a instanceof Promise)c.push(a),i=!0;else{if(a.issues.length===0)return a;c.push(a)}}return i?Promise.all(c).then(f=>Le(f,s,t,o)):Le(c,s,t,o)}}),Nr=p("$ZodRecord",(t,e)=>{L.init(t,e),t._zod.parse=(r,n)=>{const s=r.value;if(!mr(s))return r.issues.push({expected:"record",code:"invalid_type",input:s,inst:t}),r;const o=[],i=e.keyType._zod.values;if(i){r.value={};const c=new Set;for(const a of i)if(typeof a=="string"||typeof a=="number"||typeof a=="symbol"){c.add(typeof a=="number"?a.toString():a);const u=e.valueType._zod.run({value:s[a],issues:[]},n);u instanceof Promise?o.push(u.then(l=>{l.issues.length&&r.issues.push(...X(a,l.issues)),r.value[a]=l.value})):(u.issues.length&&r.issues.push(...X(a,u.issues)),r.value[a]=u.value)}let f;for(const a in s)c.has(a)||(f=f??[],f.push(a));f&&f.length>0&&r.issues.push({code:"unrecognized_keys",input:s,inst:t,keys:f})}else{r.value={};for(const c of Reflect.ownKeys(s)){if(c==="__proto__")continue;const f=e.keyType._zod.run({value:c,issues:[]},n);if(f instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(f.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:f.issues.map(u=>U(u,n,V())),input:c,path:[c],inst:t}),r.value[f.value]=f.value;continue}const a=e.valueType._zod.run({value:s[c],issues:[]},n);a instanceof Promise?o.push(a.then(u=>{u.issues.length&&r.issues.push(...X(c,u.issues)),r.value[f.value]=u.value})):(a.issues.length&&r.issues.push(...X(c,a.issues)),r.value[f.value]=a.value)}}return o.length?Promise.all(o).then(()=>r):r}}),Ir=p("$ZodLazy",(t,e)=>{L.init(t,e),$(t._zod,"innerType",()=>e.getter()),$(t._zod,"pattern",()=>t._zod.innerType?._zod?.pattern),$(t._zod,"propValues",()=>t._zod.innerType?._zod?.propValues),$(t._zod,"optin",()=>t._zod.innerType?._zod?.optin??void 0),$(t._zod,"optout",()=>t._zod.innerType?._zod?.optout??void 0),t._zod.parse=(r,n)=>t._zod.innerType._zod.run(r,n)});var Be;class Tr{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...r){const n=r[0];if(this._map.set(e,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){const r=e._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Gr(){return new Tr}(Be=globalThis).__zod_globalRegistry??(Be.__zod_globalRegistry=Gr());function Wr(t,e){return new t({type:"string",...N()})}function qr(t,e){return new t({type:"number",checks:[],...N()})}function Vr(t,e){return new t({type:"boolean",...N()})}function Ur(t,e){return new t({type:"null",...N()})}const C=p("ZodMiniType",(t,e)=>{if(!t._zod)throw new Error("Uninitialized schema in ZodMiniType.");L.init(t,e),t.def=e,t.type=e.type,t.parse=(r,n)=>vr(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>nt(t,r,n),t.parseAsync=async(r,n)=>kr(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>st(t,r,n),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),t.clone=(r,n)=>_r(t,r,n),t.brand=()=>t,t.register=((r,n)=>(r.add(t,n),t))}),Fr=p("ZodMiniString",(t,e)=>{Or.init(t,e),C.init(t,e)});function me(t){return Wr(Fr)}const Xr=p("ZodMiniNumber",(t,e)=>{Lr.init(t,e),C.init(t,e)});function Yr(t){return qr(Xr)}const Kr=p("ZodMiniBoolean",(t,e)=>{Br.init(t,e),C.init(t,e)});function Hr(t){return Vr(Kr)}const Dr=p("ZodMiniNull",(t,e)=>{Cr.init(t,e),C.init(t,e)});function Jr(t){return Ur(Dr)}const Qr=p("ZodMiniArray",(t,e)=>{Mr.init(t,e),C.init(t,e)});function en(t,e){return new Qr({type:"array",element:t,...N()})}const tn=p("ZodMiniUnion",(t,e)=>{Zr.init(t,e),C.init(t,e)});function ot(t,e){return new tn({type:"union",options:t,...N()})}const rn=p("ZodMiniRecord",(t,e)=>{Nr.init(t,e),C.init(t,e)});function it(t,e,r){return new rn({type:"record",keyType:t,valueType:e,...N()})}const nn=p("ZodMiniLazy",(t,e)=>{Ir.init(t,e),C.init(t,e)});function sn(t){return new nn({type:"lazy",getter:t})}const on=ot([me(),Yr(),Hr(),Jr()]),he=sn(()=>ot([on,en(he),it(me(),he)]));it(me(),he);export{_n as O,ln as a,dn as b,yn as c,un as d,hn as e,xn as f,gn as g,wn as h,bn as i,K as j,vn as k,an as l,he as m,mt as n,G as o,pn as s,mn as u};
