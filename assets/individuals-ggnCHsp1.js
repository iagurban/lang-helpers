var Ef=Object.defineProperty;var $f=(e,t,n)=>t in e?Ef(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Me=(e,t,n)=>$f(e,typeof t!="symbol"?t+"":t,n);import{r as Fr}from"./vendor-CGSgqiUZ.js";function Kv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}class Mf extends Error{constructor(t){super("Programming error"+(t?`: ${t}`:""))}}const If=(e,t)=>{if(!e)throw new Mf(t?.())};class Ft{constructor(t){Me(this,"_m");this._m=new Map(t)}clear(){this._m.clear()}delete(t){return this._m.delete(t)}forEach(t){for(const[n,r]of this._m)t(r,n,this)}get(t){return this._m.get(t)}has(t){return this._m.has(t)}set(t,n){return this._m.set(t,n),this}get size(){return this._m.size}static groupedBy(t,n){const r=new Ft;for(const o of t)r.update(n(o),s=>s?(s.push(o),s):[o]);return r}static mappedBy(t,n){const r=new Ft;for(const o of t)r.set(n(o),o);return r}getOrCreate(t,n,r){let o=this.get(t);return o==null?this.set(t,o=n(t)):r&&r(o,t),o}update(t,n){return this.set(t,n(this.get(t),t))}mapEntries(t){return new Ft([...this.entries()].map(([n,r])=>[n,t(r,n)]))}toArray(t){return[...this.entries()].map(([n,r])=>t(r,n))}valuesToArray(t){return[...this.values()].map(n=>t(n))}deleteKeys(t){for(const n of t)this.delete(n);return this}assign(t){for(const[n,r]of t)this.set(n,r);return this}backup(t){const n=t?t(this):new Ft(this);return()=>{this.clear(),this.assign(n)}}filter(t){return new Ft([...this.entries()].filter(([n,r])=>t(r,n)))}freeze(){const t={value(){throw new Error("Can not mutate frozen ExMap")},configurable:!1,enumerable:!1};for(const n of["set","delete","clear"])Object.defineProperty(this,n,t);return Object.freeze(this),this}[Symbol.iterator](){return this._m[Symbol.iterator]()}entries(){return this._m.entries()}keys(){return this._m.keys()}values(){return this._m.values()}get[Symbol.toStringTag](){return"ExMap"}}const de=(e,t)=>Object.assign(e,{type:t}),Zo=Symbol("gettrTag:cachedTypeSymbol"),Ya=(e,t,n=!0)=>(Object.defineProperty(e,"type",{get:n?()=>e[Zo]??(e[Zo]=t()):t,set:void 0,enumerable:!0,configurable:!0}),e),Qa=e=>e.type??"[unknown]",Rf=(e,t=[])=>{const n=t.filter(r=>r!=null&&r!==!1);return n.length===0?e:`${e}(${n.join(", ")})`};de(e=>e!=null,"[defined]");de(e=>e!==void 0,"!undefined");de(e=>e!==null,"!null");const qv=de(e=>!!e,"[truthy]"),Zv=de(e=>e===void 0,"undefined");de(e=>e===null,"null");de(e=>e==null,"(null|undefined)");de(e=>typeof e=="symbol","symbol");de(e=>e instanceof Error,"error");de(e=>e instanceof RegExp,"regexp");de(e=>e instanceof Map,"map");de(e=>e instanceof Set,"set");const kf=de(e=>Array.isArray(e),"readonly-array");function Jv(e,t,n){if(!t(e)){const r=n(e);throw typeof r=="string"?new Error(r):r}return e}const Df=(e,t)=>n=>e(n)&&t(n),Nf=e=>({push(t){this.run=Df(this.run,t)},run:e}),Hv=(e={})=>{const t=(()=>{const r=Nf(a=>!0),{minLength:o,maxLength:s,check:i}=e;return o!=null&&r.push(a=>a.length>=o),s!=null&&r.push(a=>a.length<=s),i!=null&&r.push(i),r.run})(),{item:n}=e;return Ya(r=>{if(!Array.isArray(r)||!t(r))return!1;if(n==null)return!0;for(const o of r)if(!n(o))return!1;return!0},()=>Rf(`${n?Qa(n):"unknown"}[]`,[e.minLength!=null&&`len>=${e.minLength}`,e.maxLength!=null&&`len<=${e.maxLength}`,e.check&&(e.checkName??"custom")]))},Xv=de(e=>typeof e=="boolean","boolean"),Yv=de(e=>typeof e=="object"&&e!=null&&!Array.isArray(e),"some-object"),Qv=(...e)=>Ya(t=>{for(const n of e)if(n(t))return!0;return!1},()=>`(${e.map(t=>Qa(t)).join(" | ")})`),eg=de(e=>typeof e=="string","string");class $i extends Error{}const Vf=(e,t="arg is null")=>{if(e==null){if(typeof t=="string")throw new $i(t);const n=t();throw typeof n=="string"?new $i(n):n}return e},tg=(e,t)=>Array.from({length:e},(n,r)=>t(r)),Mi=(e,t,n)=>(Object.defineProperty(e,t,{value:n,writable:!1,enumerable:!0,configurable:!0}),n);function On(e,t,n,r){if(n===!0)return Mi(e,t,r);const{get:o,set:s}=n;if(!o||s)throw new Error("decorator must be called on getters only");return{get(){return Mi(this,t,o.call(this))},enumerable:!0,configurable:!0}}const Lf=globalThis.crypto?.getRandomValues?(()=>{const e=t=>{const n=new Uint8Array(t);return globalThis.crypto.getRandomValues(n),n};return Object.assign(e,{hex:t=>Array.from(e(t)).map(n=>n.toString(16).padStart(2,"0")).join("")})})():(e=>Object.assign(t=>e.randomBytes(t),{hex:t=>e.randomBytes(t).toString("hex")}))(typeof require=="function"?require("crypto"):{randomBytes:Object.assign(()=>{throw new Error("Secure random generation not supported")},{hex:()=>{throw new Error("Secure random generation not supported")}})});function er(e,t,n,r){var o=arguments.length,s=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}class Bf{constructor(t,n=20){Me(this,"base");Me(this,"powers",[1n]);if(this.base=t,t<2n)throw new Error("mapping length must be > 1");this.get(Math.max(1,n)-1)}get(t){let n=this.powers.length-1;for(;t>n++;)this.powers.push(this.base*this.powers[this.powers.length-1]);return this.powers[t]}}class Sn{constructor(t){Me(this,"parts");Me(this,"from10",t=>{if(typeof t=="number"&&Math.floor(t)!==t)throw new Error(`n is floating ${t}`);let n=BigInt(t);if(n<0n)throw new Error(`n is negative: ${n}`);const{base:r,digits:o}=this;if(r===10n)throw new Error("mapping length must be != 10");const s=[];do s.push(o[Number(n%r)]),n/=r;while(n>0n);return String.fromCharCode(...s.reverse())});Me(this,"to10",t=>{const{byChar:n,powers:r}=this;let o=0n;for(let s=t.length-1;s>=0;--s){const i=n.get(t.charCodeAt(s));if(i===void 0)throw new Error(`invalid char '${t[s]}' in '${t}'`);o+=i*r.get(t.length-1-s)}return o});Me(this,"mask",t=>{const n=this.digits[this.digits.length-1];return String.fromCharCode(...Array.from({length:t},()=>n))});Me(this,"random",t=>{if(t<1||Math.floor(t)!==t)throw new Error(`random length must be integer > 0, got ${t}`);return String.fromCharCode(...Array.from({length:t},()=>this.digits[Math.random()*this.digits.length|0]))});Me(this,"fixedWidthRandomGenerator",t=>{const n=c=>{const l=Number(this.to10(this.mask(c)));if(l<=0||!Number.isFinite(l))throw new Error(`invalid mask: ${l}`);const d=BigInt(l),p=Math.ceil(Math.log2(l)),h=Math.max(1,Math.ceil(p/8)),y=1n<<BigInt(8*h),x=y-y%d;return()=>{for(;;){const O=Lf(h);let g=0n;for(let b=0;b<h;b++)g=g<<8n|BigInt(O[b]);if(g<x)return Number(g%d)}}};if(t<1||Math.floor(t)!==t)throw new Error(`length must be integer < 1, got ${t}`);const r=String.fromCharCode(this.digits[0]),o=this.maxSafeExponent,s=t%o,i=Math.floor(t/o),a=(c,l)=>this.from10(c()).padStart(l,r),u=c=>{const l=[];for(let d=0;d<i;++d)l.push(a(c,o));return l.join("")};if(s>0){const c=n(s);if(i>0){const l=n(o);return()=>u(l)+a(c,s)}return()=>a(c,t)}If(i>0);const f=n(o);return()=>u(f)});this.parts=t}get base(){return BigInt(this.digits.length)}get digits(){return[...this.digitsSet].sort((n,r)=>n-r)}get digitsSet(){const t=new Set;for(const[n,r]of this.parts.entries())if(kf(r)){if(r.length!==2||r[0].length!==1||r[1].length!==1)throw new Error(`parts[${n}] must be ['a','z'] (to add a range) or 'abc0xyz' (to add by char)`);const[o,s]=Array.from(r).map(i=>i.codePointAt(0));if(o>s)throw new Error(`parts[${n}] 'from' must be <= 'to', got '${o}' > '${s}'`);for(let i=0;i<s-o+1;++i)t.add(o+i)}else for(let o=0;o<r.length;++o)t.add(r.codePointAt(o));if(t.size<2)throw new Error("empty digits set");return t}get powers(){return new Bf(this.base)}get byChar(){return new Map([...this.digits].map((t,n)=>[t,BigInt(n)]))}get maxSafeInteger(){return this.from10(BigInt(Number.MAX_SAFE_INTEGER))}get maxSafeExponent(){return this.maxSafeInteger.length-1}}er([On],Sn.prototype,"digits",null);er([On],Sn.prototype,"digitsSet",null);er([On],Sn.prototype,"powers",null);er([On],Sn.prototype,"byChar",null);er([On],Sn.prototype,"maxSafeInteger",null);const zf=e=>{const t={};for(const[n,r]of Object.entries(e))t[n]=t[`b${n}`]=new Sn(r);return t},Ff={...zf({2:[["0","1"]],3:[["0","2"]],4:[["0","3"]],6:[["0","5"]],8:[["0","7"]],10:[["0","9"]],16:[["0","9"],["a","f"]],62:[["0","9"],["a","z"],["A","Z"]],70:[["0","9"],["a","z"],["A","Z"],"!@$&%+_="],88:[["0","9"],["a","z"],["A","Z"],`_+-=~!?@#:*&^%$.,{}[]<>'"/`]})},{b62:{from10:Gf,to10:Uf,mask:Wf,fixedWidthRandomGenerator:eu}}=Ff,Kf=eu(16);eu(12);const tu=e=>{const t=Number(Uf(Wf(e)));return()=>Gf(Date.now()%t).padStart(e,"0")},qf=tu(4);tu(2);const ng=()=>`${qf()}${Kf()}`;var wr={exports:{}},Ii;function rg(){return Ii||(Ii=1,(function(e,t){const{hasOwnProperty:n}=Object.prototype,r=O();r.configure=O,r.stringify=r,r.default=r,t.stringify=r,t.configure=O,e.exports=r;const o=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function s(g){return g.length<5e3&&!o.test(g)?`"${g}"`:JSON.stringify(g)}function i(g,b){if(g.length>200||b)return g.sort(b);for(let w=1;w<g.length;w++){const j=g[w];let $=w;for(;$!==0&&g[$-1]>j;)g[$]=g[$-1],$--;g[$]=j}return g}const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function u(g){return a.call(g)!==void 0&&g.length!==0}function f(g,b,w){g.length<w&&(w=g.length);const j=b===","?"":" ";let $=`"0":${j}${g[0]}`;for(let B=1;B<w;B++)$+=`${b}"${B}":${j}${g[B]}`;return $}function c(g){if(n.call(g,"circularValue")){const b=g.circularValue;if(typeof b=="string")return`"${b}"`;if(b==null)return b;if(b===Error||b===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function l(g){let b;if(n.call(g,"deterministic")&&(b=g.deterministic,typeof b!="boolean"&&typeof b!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return b===void 0?!0:b}function d(g,b){let w;if(n.call(g,b)&&(w=g[b],typeof w!="boolean"))throw new TypeError(`The "${b}" argument must be of type boolean`);return w===void 0?!0:w}function p(g,b){let w;if(n.call(g,b)){if(w=g[b],typeof w!="number")throw new TypeError(`The "${b}" argument must be of type number`);if(!Number.isInteger(w))throw new TypeError(`The "${b}" argument must be an integer`);if(w<1)throw new RangeError(`The "${b}" argument must be >= 1`)}return w===void 0?1/0:w}function h(g){return g===1?"1 item":`${g} items`}function y(g){const b=new Set;for(const w of g)(typeof w=="string"||typeof w=="number")&&b.add(String(w));return b}function x(g){if(n.call(g,"strict")){const b=g.strict;if(typeof b!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(b)return w=>{let j=`Object can not safely be stringified. Received type ${typeof w}`;throw typeof w!="function"&&(j+=` (${w.toString()})`),new Error(j)}}}function O(g){g={...g};const b=x(g);b&&(g.bigint===void 0&&(g.bigint=!1),"circularValue"in g||(g.circularValue=Error));const w=c(g),j=d(g,"bigint"),$=l(g),B=typeof $=="function"?$:void 0,pe=p(g,"maximumDepth"),z=p(g,"maximumBreadth");function mr(le,v,P,k,M,N){let C=v[le];switch(typeof C=="object"&&C!==null&&typeof C.toJSON=="function"&&(C=C.toJSON(le)),C=k.call(v,le,C),typeof C){case"string":return s(C);case"object":{if(C===null)return"null";if(P.indexOf(C)!==-1)return w;let I="",q=",";const Z=N;if(Array.isArray(C)){if(C.length===0)return"[]";if(pe<P.length+1)return'"[Array]"';P.push(C),M!==""&&(N+=M,I+=`
${N}`,q=`,
${N}`);const ye=Math.min(C.length,z);let Xe=0;for(;Xe<ye-1;Xe++){const yr=mr(String(Xe),C,P,k,M,N);I+=yr!==void 0?yr:"null",I+=q}const Ye=mr(String(Xe),C,P,k,M,N);if(I+=Ye!==void 0?Ye:"null",C.length-1>z){const yr=C.length-z-1;I+=`${q}"... ${h(yr)} not stringified"`}return M!==""&&(I+=`
${Z}`),P.pop(),`[${I}]`}let F=Object.keys(C);const Y=F.length;if(Y===0)return"{}";if(pe<P.length+1)return'"[Object]"';let V="",be="";M!==""&&(N+=M,q=`,
${N}`,V=" ");const Fe=Math.min(Y,z);$&&!u(C)&&(F=i(F,B)),P.push(C);for(let ye=0;ye<Fe;ye++){const Xe=F[ye],Ye=mr(Xe,C,P,k,M,N);Ye!==void 0&&(I+=`${be}${s(Xe)}:${V}${Ye}`,be=q)}if(Y>z){const ye=Y-z;I+=`${be}"...":${V}"${h(ye)} not stringified"`,be=q}return M!==""&&be.length>1&&(I=`
${N}${I}
${Z}`),P.pop(),`{${I}}`}case"number":return isFinite(C)?String(C):b?b(C):"null";case"boolean":return C===!0?"true":"false";case"undefined":return;case"bigint":if(j)return String(C);default:return b?b(C):void 0}}function _r(le,v,P,k,M,N){switch(typeof v=="object"&&v!==null&&typeof v.toJSON=="function"&&(v=v.toJSON(le)),typeof v){case"string":return s(v);case"object":{if(v===null)return"null";if(P.indexOf(v)!==-1)return w;const C=N;let I="",q=",";if(Array.isArray(v)){if(v.length===0)return"[]";if(pe<P.length+1)return'"[Array]"';P.push(v),M!==""&&(N+=M,I+=`
${N}`,q=`,
${N}`);const Y=Math.min(v.length,z);let V=0;for(;V<Y-1;V++){const Fe=_r(String(V),v[V],P,k,M,N);I+=Fe!==void 0?Fe:"null",I+=q}const be=_r(String(V),v[V],P,k,M,N);if(I+=be!==void 0?be:"null",v.length-1>z){const Fe=v.length-z-1;I+=`${q}"... ${h(Fe)} not stringified"`}return M!==""&&(I+=`
${C}`),P.pop(),`[${I}]`}P.push(v);let Z="";M!==""&&(N+=M,q=`,
${N}`,Z=" ");let F="";for(const Y of k){const V=_r(Y,v[Y],P,k,M,N);V!==void 0&&(I+=`${F}${s(Y)}:${Z}${V}`,F=q)}return M!==""&&F.length>1&&(I=`
${N}${I}
${C}`),P.pop(),`{${I}}`}case"number":return isFinite(v)?String(v):b?b(v):"null";case"boolean":return v===!0?"true":"false";case"undefined":return;case"bigint":if(j)return String(v);default:return b?b(v):void 0}}function Nn(le,v,P,k,M){switch(typeof v){case"string":return s(v);case"object":{if(v===null)return"null";if(typeof v.toJSON=="function"){if(v=v.toJSON(le),typeof v!="object")return Nn(le,v,P,k,M);if(v===null)return"null"}if(P.indexOf(v)!==-1)return w;const N=M;if(Array.isArray(v)){if(v.length===0)return"[]";if(pe<P.length+1)return'"[Array]"';P.push(v),M+=k;let V=`
${M}`;const be=`,
${M}`,Fe=Math.min(v.length,z);let ye=0;for(;ye<Fe-1;ye++){const Ye=Nn(String(ye),v[ye],P,k,M);V+=Ye!==void 0?Ye:"null",V+=be}const Xe=Nn(String(ye),v[ye],P,k,M);if(V+=Xe!==void 0?Xe:"null",v.length-1>z){const Ye=v.length-z-1;V+=`${be}"... ${h(Ye)} not stringified"`}return V+=`
${N}`,P.pop(),`[${V}]`}let C=Object.keys(v);const I=C.length;if(I===0)return"{}";if(pe<P.length+1)return'"[Object]"';M+=k;const q=`,
${M}`;let Z="",F="",Y=Math.min(I,z);u(v)&&(Z+=f(v,q,z),C=C.slice(v.length),Y-=v.length,F=q),$&&(C=i(C,B)),P.push(v);for(let V=0;V<Y;V++){const be=C[V],Fe=Nn(be,v[be],P,k,M);Fe!==void 0&&(Z+=`${F}${s(be)}: ${Fe}`,F=q)}if(I>z){const V=I-z;Z+=`${F}"...": "${h(V)} not stringified"`,F=q}return F!==""&&(Z=`
${M}${Z}
${N}`),P.pop(),`{${Z}}`}case"number":return isFinite(v)?String(v):b?b(v):"null";case"boolean":return v===!0?"true":"false";case"undefined":return;case"bigint":if(j)return String(v);default:return b?b(v):void 0}}function Vn(le,v,P){switch(typeof v){case"string":return s(v);case"object":{if(v===null)return"null";if(typeof v.toJSON=="function"){if(v=v.toJSON(le),typeof v!="object")return Vn(le,v,P);if(v===null)return"null"}if(P.indexOf(v)!==-1)return w;let k="";const M=v.length!==void 0;if(M&&Array.isArray(v)){if(v.length===0)return"[]";if(pe<P.length+1)return'"[Array]"';P.push(v);const Z=Math.min(v.length,z);let F=0;for(;F<Z-1;F++){const V=Vn(String(F),v[F],P);k+=V!==void 0?V:"null",k+=","}const Y=Vn(String(F),v[F],P);if(k+=Y!==void 0?Y:"null",v.length-1>z){const V=v.length-z-1;k+=`,"... ${h(V)} not stringified"`}return P.pop(),`[${k}]`}let N=Object.keys(v);const C=N.length;if(C===0)return"{}";if(pe<P.length+1)return'"[Object]"';let I="",q=Math.min(C,z);M&&u(v)&&(k+=f(v,",",z),N=N.slice(v.length),q-=v.length,I=","),$&&(N=i(N,B)),P.push(v);for(let Z=0;Z<q;Z++){const F=N[Z],Y=Vn(F,v[F],P);Y!==void 0&&(k+=`${I}${s(F)}:${Y}`,I=",")}if(C>z){const Z=C-z;k+=`${I}"...":"${h(Z)} not stringified"`}return P.pop(),`{${k}}`}case"number":return isFinite(v)?String(v):b?b(v):"null";case"boolean":return v===!0?"true":"false";case"undefined":return;case"bigint":if(j)return String(v);default:return b?b(v):void 0}}function Tf(le,v,P){if(arguments.length>1){let k="";if(typeof P=="number"?k=" ".repeat(Math.min(P,10)):typeof P=="string"&&(k=P.slice(0,10)),v!=null){if(typeof v=="function")return mr("",{"":le},[],v,k,"");if(Array.isArray(v))return _r("",le,[],y(v),k,"")}if(k.length!==0)return Nn("",le,[],k,"")}return Vn("",le,[])}return Tf}})(wr,wr.exports)),wr.exports}function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Zf={};function vo(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Zf}var nu=Object.assign,Gr=Object.getOwnPropertyDescriptor,tt=Object.defineProperty,tr=Object.prototype,hs=[];Object.freeze(hs);var Fs={};Object.freeze(Fs);var Jf=typeof Proxy<"u",Hf=Object.toString();function ru(){Jf||T("Proxy not available")}function ou(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var fn=function(){};function Te(e){return typeof e=="function"}function Kt(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function go(e){return e!==null&&typeof e=="object"}function gt(e){if(!go(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Hf}function su(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function nr(e,t,n){tt(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function iu(e,t,n){tt(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Dt(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return go(r)&&r[n]===!0}}function An(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function Xf(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function ct(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var au=typeof Object.getOwnPropertySymbols<"u";function Yf(e){var t=Object.keys(e);if(!au)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return tr.propertyIsEnumerable.call(e,r)})):t}var pn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:au?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function uu(e){return e===null?null:typeof e=="object"?""+e:e}function pt(e,t){return tr.hasOwnProperty.call(e,t)}var Qf=Object.getOwnPropertyDescriptors||function(t){var n={};return pn(t).forEach(function(r){n[r]=Gr(t,r)}),n};function Se(e,t){return!!(e&t)}function Ae(e,t,n){return n?e|=t:e&=~t,e}function Ri(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function el(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nl(r.key),r)}}function Pn(e,t,n){return t&&el(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ln(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=rl(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$t.apply(null,arguments)}function cu(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ps(e,t)}function ps(e,t){return ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ps(e,t)}function tl(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nl(e){var t=tl(e,"string");return typeof t=="symbol"?t:t+""}function rl(e,t){if(e){if(typeof e=="string")return Ri(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ri(e,t):void 0}}var et=Symbol("mobx-stored-annotations");function Ge(e){function t(n,r){if(or(r))return e.decorate_20223_(n,r);rr(n,r,e)}return Object.assign(t,e)}function rr(e,t,n){pt(e,et)||nr(e,et,$t({},e[et])),dl(n)||(e[et][t]=n)}function ol(e){return pt(e,et)||nr(e,et,$t({},e[et])),e[et]}function or(e){return typeof e=="object"&&typeof e.kind=="string"}var A=Symbol("mobx administration"),Nt=(function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=D.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return Tu(this)},t.reportChanged=function(){we(),Eu(this),xe()},t.toString=function(){return this.name_},Pn(e,[{key:"isBeingObserved",get:function(){return Se(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Se(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Se(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ae(this.flags_,e.diffValueMask_,r===1)}}])})();Nt.isBeingObservedMask_=1;Nt.isPendingUnobservationMask_=2;Nt.diffValueMask_=4;var Gs=Dt("Atom",Nt);function Ot(e,t,n){t===void 0&&(t=fn),n===void 0&&(n=fn);var r=new Nt(e);return t!==fn&&Vu(r,t),n!==fn&&So(r,n),r}function sl(e,t){return e===t}function il(e,t){return Qs(e,t)}function al(e,t){return Qs(e,t,1)}function ul(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var qt={identity:sl,structural:il,default:ul,shallow:al};function Zt(e,t,n){return st(e)?e:Array.isArray(e)?R.array(e,{name:n}):gt(e)?R.object(e,void 0,{name:n}):An(e)?R.map(e,{name:n}):ct(e)?R.set(e,{name:n}):typeof e=="function"&&!It(e)&&!vn(e)?su(e)?Ht(e):bn(n,e):e}function cl(e,t,n){if(e==null||K(e)||fe(e)||ee(e)||J(e))return e;if(Array.isArray(e))return R.array(e,{name:n,deep:!1});if(gt(e))return R.object(e,void 0,{name:n,deep:!1});if(An(e))return R.map(e,{name:n,deep:!1});if(ct(e))return R.set(e,{name:n,deep:!1})}function mo(e){return e}function fl(e,t){return Qs(e,t)?t:e}var fu="override",ll=Ge({annotationType_:fu,make_:hl,extend_:pl,decorate_20223_:bl});function dl(e){return e.annotationType_===fu}function hl(e,t){return 0}function pl(e,t,n,r){T("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function bl(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function sr(e,t){return{annotationType_:e,options_:t,make_:vl,extend_:gl,decorate_20223_:ml}}function vl(e,t,n,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(It(n.value))return 1;var s=lu(e,this,t,n,!1);return tt(r,t,s),2}function gl(e,t,n,r){var o=lu(e,this,t,n);return e.defineProperty_(t,o,r)}function ml(e,t){var n=t.kind,r=t.name,o=t.addInitializer,s=this,i=function(f){var c,l,d,p;return Mt((c=(l=s.options_)==null?void 0:l.name)!=null?c:r.toString(),f,(d=(p=s.options_)==null?void 0:p.autoAction)!=null?d:!1)};if(n=="field")return function(u){var f,c=u;return It(c)||(c=i(c)),(f=s.options_)!=null&&f.bound&&(c=c.bind(this),c.isMobxAction=!0),c};if(n=="method"){var a;return It(e)||(e=i(e)),(a=this.options_)!=null&&a.bound&&o(function(){var u=this,f=u[r].bind(u);f.isMobxAction=!0,u[r]=f}),e}T("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function lu(e,t,n,r,o){var s,i,a,u,f,c,l;o===void 0&&(o=_.safeDescriptors);var d=r.value;if((s=t.options_)!=null&&s.bound){var p;d=d.bind((p=e.proxy_)!=null?p:e.target_)}return{value:Mt((i=(a=t.options_)==null?void 0:a.name)!=null?i:n.toString(),d,(u=(f=t.options_)==null?void 0:f.autoAction)!=null?u:!1,(c=t.options_)!=null&&c.bound?(l=e.proxy_)!=null?l:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function du(e,t){return{annotationType_:e,options_:t,make_:_l,extend_:yl,decorate_20223_:wl}}function _l(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!pt(e.target_,t)||!vn(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(vn(n.value))return 1;var s=hu(e,this,t,n,!1,!1);return tt(r,t,s),2}function yl(e,t,n,r){var o,s=hu(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,s,r)}function wl(e,t){var n,r=t.name,o=t.addInitializer;return vn(e)||(e=Ht(e)),(n=this.options_)!=null&&n.bound&&o(function(){var s=this,i=s[r].bind(s);i.isMobXFlow=!0,s[r]=i}),e}function hu(e,t,n,r,o,s){s===void 0&&(s=_.safeDescriptors);var i=r.value;if(vn(i)||(i=Ht(i)),o){var a;i=i.bind((a=e.proxy_)!=null?a:e.target_),i.isMobXFlow=!0}return{value:i,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function Us(e,t){return{annotationType_:e,options_:t,make_:xl,extend_:Ol,decorate_20223_:Sl}}function xl(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Ol(e,t,n,r){return e.defineComputedProperty_(t,$t({},this.options_,{get:n.get,set:n.set}),r)}function Sl(e,t){var n=this,r=t.name,o=t.addInitializer;return o(function(){var s=tn(this)[A],i=$t({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),s.values_.set(r,new Ke(i))}),function(){return this[A].getObservablePropValue_(r)}}function _o(e,t){return{annotationType_:e,options_:t,make_:Al,extend_:Pl,decorate_20223_:jl}}function Al(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Pl(e,t,n,r){var o,s;return e.defineObservableProperty_(t,n.value,(o=(s=this.options_)==null?void 0:s.enhancer)!=null?o:Zt,r)}function jl(e,t){var n=this,r=t.kind,o=t.name,s=new WeakSet;function i(a,u){var f,c,l=tn(a)[A],d=new Tt(u,(f=(c=n.options_)==null?void 0:c.enhancer)!=null?f:Zt,"ObservableObject."+o.toString(),!1);l.values_.set(o,d),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||i(this,e.get.call(this)),this[A].getObservablePropValue_(o)},set:function(u){return s.has(this)||i(this,u),this[A].setObservablePropValue_(o,u)},init:function(u){return s.has(this)||i(this,u),u}}}var Cl="true",Tl=pu();function pu(e){return{annotationType_:Cl,options_:e,make_:El,extend_:$l,decorate_20223_:Ml}}function El(e,t,n,r){var o,s;if(n.get)return W.make_(e,t,n,r);if(n.set){var i=It(n.set)?n.set:Mt(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:_.safeDescriptors?e.isPlainObject_:!0,set:i})===null?0:2:(tt(r,t,{configurable:!0,set:i}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(su(n.value)){var u,f=(u=this.options_)!=null&&u.autoBind?Ht.bound:Ht;return f.make_(e,t,n,r)}var c=(a=this.options_)!=null&&a.autoBind?bn.bound:bn;return c.make_(e,t,n,r)}var l=((o=this.options_)==null?void 0:o.deep)===!1?R.ref:R;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var d;n.value=n.value.bind((d=e.proxy_)!=null?d:e.target_)}return l.make_(e,t,n,r)}function $l(e,t,n,r){var o,s;if(n.get)return W.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:_.safeDescriptors?e.isPlainObject_:!0,set:Mt(t.toString(),n.set)},r);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var i;n.value=n.value.bind((i=e.proxy_)!=null?i:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?R.ref:R;return a.extend_(e,t,n,r)}function Ml(e,t){T("'"+this.annotationType_+"' cannot be used as a decorator")}var Il="observable",Rl="observable.ref",kl="observable.shallow",Dl="observable.struct",bu={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(bu);function xr(e){return e||bu}var bs=_o(Il),Nl=_o(Rl,{enhancer:mo}),Vl=_o(kl,{enhancer:cl}),Ll=_o(Dl,{enhancer:fl}),vu=Ge(bs);function Or(e){return e.deep===!0?Zt:e.deep===!1?mo:zl(e.defaultDecorator)}function Bl(e){var t;return e?(t=e.defaultDecorator)!=null?t:pu(e):void 0}function zl(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Zt}function gu(e,t,n){if(or(t))return bs.decorate_20223_(e,t);if(Kt(t)){rr(e,t,bs);return}return st(e)?e:gt(e)?R.object(e,t,n):Array.isArray(e)?R.array(e,t):An(e)?R.map(e,t):ct(e)?R.set(e,t):typeof e=="object"&&e!==null?e:R.box(e,t)}nu(gu,vu);var Fl={box:function(t,n){var r=xr(n);return new Tt(t,Or(r),r.name,!0,r.equals)},array:function(t,n){var r=xr(n);return(_.useProxies===!1||r.proxy===!1?Zd:Ld)(t,Or(r),r.name)},map:function(t,n){var r=xr(n);return new To(t,Or(r),r.name)},set:function(t,n){var r=xr(n);return new Xs(t,Or(r),r.name)},object:function(t,n,r){return Vt(function(){return Ao(_.useProxies===!1||r?.proxy===!1?tn({},r):kd({},r),t,n)})},ref:Ge(Nl),shallow:Ge(Vl),deep:vu,struct:Ge(Ll)},R=nu(gu,Fl),mu="computed",Gl="computed.struct",vs=Us(mu),Ul=Us(Gl,{equals:qt.structural}),W=function(t,n){if(or(n))return vs.decorate_20223_(t,n);if(Kt(n))return rr(t,n,vs);if(gt(t))return Ge(Us(mu,t));var r=gt(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Ke(r)};Object.assign(W,vs);W.struct=Ge(Ul);var ki,Di,Ur=0,Wl=1,Kl=(ki=(Di=Gr(function(){},"name"))==null?void 0:Di.configurable)!=null?ki:!1,Ni={value:"action",configurable:!0,writable:!1,enumerable:!1};function Mt(e,t,n,r){n===void 0&&(n=!1);function o(){return _u(e,n,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},Kl&&(Ni.value=e,tt(o,"name",Ni)),o}function _u(e,t,n,r,o){var s=yu(e,t);try{return n.apply(r,o)}catch(i){throw s.error_=i,i}finally{wu(s)}}function yu(e,t,n,r){var o=!1,s=0,i=_.trackingDerivation,a=!t||!i;we();var u=_.allowStateChanges;a&&(en(),u=yo(!0));var f=Oo(!0),c={runAsAction_:a,prevDerivation_:i,prevAllowStateChanges_:u,prevAllowStateReads_:f,notifySpy_:o,startTime_:s,actionId_:Wl++,parentActionId_:Ur};return Ur=c.actionId_,c}function wu(e){Ur!==e.actionId_&&T(30),Ur=e.parentActionId_,e.error_!==void 0&&(_.suppressReactionErrors=!0),wo(e.prevAllowStateChanges_),dn(e.prevAllowStateReads_),xe(),e.runAsAction_&&bt(e.prevDerivation_),_.suppressReactionErrors=!1}function Ws(e,t){var n=yo(e);try{return t()}finally{wo(n)}}function yo(e){var t=_.allowStateChanges;return _.allowStateChanges=e,t}function wo(e){_.allowStateChanges=e}var Tt=(function(e){function t(r,o,s,i,a){var u;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=qt.default),u=e.call(this,s)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=o,u.name_=s,u.equals=a,u.value_=o(r,void 0,s),u}cu(t,e);var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){o=this.prepareNewValue_(o),o!==_.UNCHANGED&&this.setNewValue_(o)},n.prepareNewValue_=function(o){if(Ie(this)){var s=Re(this,{object:this,type:nt,newValue:o});if(!s)return _.UNCHANGED;o=s.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?_.UNCHANGED:o},n.setNewValue_=function(o){var s=this.value_;this.value_=o,this.reportChanged(),Ue(this)&&We(this,{type:nt,object:this,newValue:o,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return ar(this,o)},n.observe_=function(o,s){return s&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:nt,newValue:this.value_,oldValue:void 0}),ur(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return uu(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t})(Nt),Ks=Dt("ObservableValue",Tt),Ke=(function(){function e(n){this.dependenciesState_=D.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=D.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Kr(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Wr.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||T(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Mt("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?qt.structural:qt.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){td(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&T(32,this.name_,this.derivation),_.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)gs(this)&&(this.warnAboutUntrackedRead_(),we(),this.value_=this.computeValue_(!1),xe());else if(Tu(this),gs(this)){var r=_.trackingContext;this.keepAlive_&&!r&&(_.trackingContext=this),this.trackAndCompute()&&ed(this),_.trackingContext=r}var o=this.value_;if(Ir(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter&&T(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else T(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===D.NOT_TRACKING_,s=this.computeValue_(!0),i=o||Ir(r)||Ir(s)||!this.equals_(r,s);return i&&(this.value_=s),i},t.computeValue_=function(r){this.isComputing=!0;var o=yo(!1),s;if(r)s=Ou(this,this.derivation,this.scope_);else if(_.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(i){s=new Kr(i)}return wo(o),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(ms(this),this.value_=void 0)},t.observe_=function(r,o){var s=this,i=!0,a=void 0;return qs(function(){var u=s.get();if(!i||o){var f=en();r({observableKind:"computed",debugObjectName:s.name_,type:nt,object:s,newValue:u,oldValue:a}),bt(f)}i=!1,a=u})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return uu(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Pn(e,[{key:"isComputing",get:function(){return Se(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Se(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Se(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Se(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Se(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ae(this.flags_,e.diffValueMask_,r===1)}}])})();Ke.isComputingMask_=1;Ke.isRunningSetterMask_=2;Ke.isBeingObservedMask_=4;Ke.isPendingUnobservationMask_=8;Ke.diffValueMask_=16;var Jt=Dt("ComputedValue",Ke),D;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(D||(D={}));var Wr;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Wr||(Wr={}));var Kr=function(t){this.cause=void 0,this.cause=t};function Ir(e){return e instanceof Kr}function gs(e){switch(e.dependenciesState_){case D.UP_TO_DATE_:return!1;case D.NOT_TRACKING_:case D.STALE_:return!0;case D.POSSIBLY_STALE_:{for(var t=Oo(!0),n=en(),r=e.observing_,o=r.length,s=0;s<o;s++){var i=r[s];if(Jt(i)){if(_.disableErrorBoundaries)i.get();else try{i.get()}catch{return bt(n),dn(t),!0}if(e.dependenciesState_===D.STALE_)return bt(n),dn(t),!0}}return Su(e),bt(n),dn(t),!1}}}function xu(){return _.trackingDerivation!==null}function Ou(e,t,n){var r=Oo(!0);Su(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++_.runId;var o=_.trackingDerivation;_.trackingDerivation=e,_.inBatch++;var s;if(_.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(i){s=new Kr(i)}return _.inBatch--,_.trackingDerivation=o,ql(e),dn(r),s}function ql(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=D.UP_TO_DATE_,o=0,s=e.unboundDepsCount_,i=0;i<s;i++){var a=n[i];a.diffValue===0&&(a.diffValue=1,o!==i&&(n[o]=a),o++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=o,e.newObserving_=null,s=t.length;s--;){var u=t[s];u.diffValue===0&&ju(u,e),u.diffValue=0}for(;o--;){var f=n[o];f.diffValue===1&&(f.diffValue=0,Ql(f,e))}r!==D.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function ms(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)ju(t[n],e);e.dependenciesState_=D.NOT_TRACKING_}function xo(e){var t=en();try{return e()}finally{bt(t)}}function en(){var e=_.trackingDerivation;return _.trackingDerivation=null,e}function bt(e){_.trackingDerivation=e}function Oo(e){var t=_.allowStateReads;return _.allowStateReads=e,t}function dn(e){_.allowStateReads=e}function Su(e){if(e.dependenciesState_!==D.UP_TO_DATE_){e.dependenciesState_=D.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=D.UP_TO_DATE_}}var Zl=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Fn=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Rr=!0,Au=!1,_=(function(){var e=vo();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Rr=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Fn().version&&(Rr=!1),Rr?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Fn):(setTimeout(function(){Au||T(35)},1),new Fn)})();function Jl(){if((_.pendingReactions.length||_.inBatch||_.isRunningReactions)&&T(36),Au=!0,Rr){var e=vo();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),_=new Fn}}function Pu(){return _}function Hl(){var e=new Fn;for(var t in e)Zl.indexOf(t)===-1&&(_[t]=e[t]);_.allowStateChanges=!_.enforceActions}function Xl(e){return e.observers_&&e.observers_.size>0}function Yl(e){return e.observers_}function Ql(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function ju(e,t){e.observers_.delete(t),e.observers_.size===0&&Cu(e)}function Cu(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,_.pendingUnobservations.push(e))}function we(){_.inBatch++}function xe(){if(--_.inBatch===0){$u();for(var e=_.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Ke&&n.suspend_())}_.pendingUnobservations=[]}}function Tu(e){var t=_.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&_.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&_.inBatch>0&&Cu(e),!1)}function Eu(e){e.lowestObserverState_!==D.STALE_&&(e.lowestObserverState_=D.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===D.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=D.STALE_}))}function ed(e){e.lowestObserverState_!==D.STALE_&&(e.lowestObserverState_=D.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===D.POSSIBLY_STALE_?t.dependenciesState_=D.STALE_:t.dependenciesState_===D.UP_TO_DATE_&&(e.lowestObserverState_=D.UP_TO_DATE_)}))}function td(e){e.lowestObserverState_===D.UP_TO_DATE_&&(e.lowestObserverState_=D.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===D.UP_TO_DATE_&&(t.dependenciesState_=D.POSSIBLY_STALE_,t.onBecomeStale_())}))}var ot=(function(){function e(n,r,o,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=D.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Wr.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,_.pendingReactions.push(this),$u())},t.runReaction_=function(){if(!this.isDisposed){we(),this.isScheduled=!1;var r=_.trackingContext;if(_.trackingContext=this,gs(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}_.trackingContext=r,xe()}},t.track=function(r){if(!this.isDisposed){we(),this.isRunning=!0;var o=_.trackingContext;_.trackingContext=this;var s=Ou(this,r,void 0);_.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&ms(this),Ir(s)&&this.reportExceptionInDerivation_(s.cause),xe()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(_.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";_.suppressReactionErrors||console.error(s,r),_.globalReactionErrorHandlers.forEach(function(i){return i(r,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(we(),ms(this),xe()))},t.getDisposer_=function(r){var o=this,s=function i(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",i)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[A]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(s[Symbol.dispose]=s),s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Pn(e,[{key:"isDisposed",get:function(){return Se(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Se(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Se(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Se(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Se(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ae(this.flags_,e.diffValueMask_,r===1)}}])})();ot.isDisposedMask_=1;ot.isScheduledMask_=2;ot.isTrackPendingMask_=4;ot.isRunningMask_=8;ot.diffValueMask_=16;function nd(e){return _.globalReactionErrorHandlers.push(e),function(){var t=_.globalReactionErrorHandlers.indexOf(e);t>=0&&_.globalReactionErrorHandlers.splice(t,1)}}var rd=100,_s=function(t){return t()};function $u(){_.inBatch>0||_.isRunningReactions||_s(od)}function od(){_.isRunningReactions=!0;for(var e=_.pendingReactions,t=0;e.length>0;){++t===rd&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}_.isRunningReactions=!1}var qr=Dt("Reaction",ot);function sd(e){var t=_s;_s=function(r){return e(function(){return t(r)})}}function Gn(){return!1}function Mu(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Iu="action",id="action.bound",Ru="autoAction",ad="autoAction.bound",ku="<unnamed action>",ys=sr(Iu),ud=sr(id,{bound:!0}),ws=sr(Ru,{autoAction:!0}),cd=sr(ad,{autoAction:!0,bound:!0});function Du(e){var t=function(r,o){if(Te(r))return Mt(r.name||ku,r,e);if(Te(o))return Mt(r,o,e);if(or(o))return(e?ws:ys).decorate_20223_(r,o);if(Kt(o))return rr(r,o,e?ws:ys);if(Kt(r))return Ge(sr(e?Ru:Iu,{name:r,autoAction:e}))};return t}var S=Du(!1);Object.assign(S,ys);var bn=Du(!0);Object.assign(bn,ws);S.bound=Ge(ud);bn.bound=Ge(cd);function Zr(e){return _u(e.name||ku,!1,e,this,void 0)}function It(e){return Te(e)&&e.isMobxAction===!0}function qs(e,t){var n,r,o,s;t===void 0&&(t=Fs);var i=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,u;if(a)u=new ot(i,function(){this.track(l)},t.onError,t.requiresObservable);else{var f=Nu(t),c=!1;u=new ot(i,function(){c||(c=!0,f(function(){c=!1,u.isDisposed||u.track(l)}))},t.onError,t.requiresObservable)}function l(){e(u)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||u.schedule_(),u.getDisposer_((s=t)==null?void 0:s.signal)}var fd=function(t){return t()};function Nu(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:fd}function Zs(e,t,n){var r,o,s;n===void 0&&(n=Fs);var i=(r=n.name)!=null?r:"Reaction",a=S(i,n.onError?ld(n.onError,t):t),u=!n.scheduler&&!n.delay,f=Nu(n),c=!0,l=!1,d,p=n.compareStructural?qt.structural:n.equals||qt.default,h=new ot(i,function(){c||u?y():l||(l=!0,f(y))},n.onError,n.requiresObservable);function y(){if(l=!1,!h.isDisposed){var x=!1,O=d;h.track(function(){var g=Ws(!1,function(){return e(h)});x=c||!p(d,g),d=g}),(c&&n.fireImmediately||!c&&x)&&a(d,O,h),c=!1}}return(o=n)!=null&&(o=o.signal)!=null&&o.aborted||h.schedule_(),h.getDisposer_((s=n)==null?void 0:s.signal)}function ld(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var dd="onBO",hd="onBUO";function Vu(e,t,n){return Lu(dd,e,t,n)}function So(e,t,n){return Lu(hd,e,t,n)}function Lu(e,t,n,r){var o=typeof r=="function"?_t(t,n):_t(t),s=Te(r)?r:n,i=e+"L";return o[i]?o[i].add(s):o[i]=new Set([s]),function(){var a=o[i];a&&(a.delete(s),a.size===0&&delete o[i])}}var pd="never",Sr="always",bd="observed";function vd(e){e.isolateGlobalState===!0&&Jl();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(_.useProxies=t===Sr?!0:t===pd?!1:typeof Proxy<"u"),t==="ifavailable"&&(_.verifyProxies=!0),n!==void 0){var r=n===Sr?Sr:n===bd;_.enforceActions=r,_.allowStateChanges=!(r===!0||r===Sr)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(_[o]=!!e[o])}),_.allowStateReads=!_.observableRequiresReaction,e.reactionScheduler&&sd(e.reactionScheduler)}function Ao(e,t,n,r){var o=Qf(t);return Vt(function(){var s=tn(e,r)[A];pn(o).forEach(function(i){s.extend_(i,o[i],n&&i in n?n[i]:!0)})}),e}function gd(e,t){return Bu(_t(e,t))}function Bu(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=_d(e.observing_).map(Bu)),t}function md(e,t){return zu(_t(e,t))}function zu(e){var t={name:e.name_};return Xl(e)&&(t.observers=Array.from(Yl(e)).map(zu)),t}function _d(e){return Array.from(new Set(e))}var yd=0;function Po(){this.message="FLOW_CANCELLED"}Po.prototype=Object.create(Error.prototype);function wd(e){return e instanceof Po}var Jo=du("flow"),xd=du("flow.bound",{bound:!0}),Ht=Object.assign(function(t,n){if(or(n))return Jo.decorate_20223_(t,n);if(Kt(n))return rr(t,n,Jo);var r=t,o=r.name||"<unnamed flow>",s=function(){var a=this,u=arguments,f=++yd,c=S(o+" - runid: "+f+" - init",r).apply(a,u),l,d=void 0,p=new Promise(function(h,y){var x=0;l=y;function O(w){d=void 0;var j;try{j=S(o+" - runid: "+f+" - yield "+x++,c.next).call(c,w)}catch($){return y($)}b(j)}function g(w){d=void 0;var j;try{j=S(o+" - runid: "+f+" - yield "+x++,c.throw).call(c,w)}catch($){return y($)}b(j)}function b(w){if(Te(w?.then)){w.then(b,y);return}return w.done?h(w.value):(d=Promise.resolve(w.value),d.then(O,g))}O(void 0)});return p.cancel=S(o+" - runid: "+f+" - cancel",function(){try{d&&Vi(d);var h=c.return(void 0),y=Promise.resolve(h.value);y.then(fn,fn),Vi(y),l(new Po)}catch(x){l(x)}}),p};return s.isMobXFlow=!0,s},Jo);Ht.bound=Ge(xd);function Vi(e){Te(e.cancel)&&e.cancel()}function Od(e){return e}function vn(e){return e?.isMobXFlow===!0}function Sd(e,t,n){var r;return ee(e)||fe(e)||Ks(e)?r=it(e):K(e)&&(r=it(e,t)),r.dehancer=typeof t=="function"?t:n,function(){r.dehancer=void 0}}function jo(e,t,n){return Te(n)?Pd(e,t,n):Ad(e,t)}function Ad(e,t){return it(e).intercept_(t)}function Pd(e,t,n){return it(e,t).intercept_(n)}function Fu(e,t){if(t===void 0)return Jt(e);if(K(e)===!1||!e[A].values_.has(t))return!1;var n=_t(e,t);return Jt(n)}function Gu(e){return Fu(e)}function kr(e,t){return Fu(e,t)}function Uu(e,t){return e?t!==void 0?K(e)?e[A].values_.has(t):!1:K(e)||!!e[A]||Gs(e)||qr(e)||Jt(e):!1}function st(e){return Uu(e)}function jd(e,t){return Uu(e,t)}function Rt(e){if(K(e))return e[A].keys_();if(ee(e)||J(e))return Array.from(e.keys());if(fe(e))return e.map(function(t,n){return n});T(5)}function Jr(e){if(K(e))return Rt(e).map(function(t){return e[t]});if(ee(e))return Rt(e).map(function(t){return e.get(t)});if(J(e))return Array.from(e.values());if(fe(e))return e.slice();T(6)}function Wu(e){if(K(e))return Rt(e).map(function(t){return[t,e[t]]});if(ee(e))return Rt(e).map(function(t){return[t,e.get(t)]});if(J(e))return Array.from(e.entries());if(fe(e))return e.map(function(t,n){return[n,t]});T(7)}function St(e,t,n){if(arguments.length===2&&!J(e)){we();var r=t;try{for(var o in r)St(e,o,r[o])}finally{xe()}return}K(e)?e[A].set_(t,n):ee(e)?e.set(t,n):J(e)?e.add(t):fe(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&T("Invalid index: '"+t+"'"),we(),t>=e.length&&(e.length=t+1),e[t]=n,xe()):T(8)}function mt(e,t){K(e)?e[A].delete_(t):ee(e)||J(e)?e.delete(t):fe(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):T(9)}function Js(e,t){if(K(e))return e[A].has_(t);if(ee(e))return e.has(t);if(J(e))return e.has(t);if(fe(e))return t>=0&&t<e.length;T(10)}function Ku(e,t){if(Js(e,t)){if(K(e))return e[A].get_(t);if(ee(e))return e.get(t);if(fe(e))return e[t];T(11)}}function Cd(e,t,n){if(K(e))return e[A].defineProperty_(t,n);T(39)}function qu(e){if(K(e))return e[A].ownKeys_();T(38)}function ir(e,t,n,r){return Te(n)?Ed(e,t,n,r):Td(e,t,n)}function Td(e,t,n){return it(e).observe_(t,n)}function Ed(e,t,n,r){return it(e,t).observe_(n,r)}function Ar(e,t,n){return e.set(t,n),n}function cn(e,t){if(e==null||typeof e!="object"||e instanceof Date||!st(e))return e;if(Ks(e)||Jt(e))return cn(e.get(),t);if(t.has(e))return t.get(e);if(fe(e)){var n=Ar(t,e,new Array(e.length));return e.forEach(function(i,a){n[a]=cn(i,t)}),n}if(J(e)){var r=Ar(t,e,new Set);return e.forEach(function(i){r.add(cn(i,t))}),r}if(ee(e)){var o=Ar(t,e,new Map);return e.forEach(function(i,a){o.set(a,cn(i,t))}),o}else{var s=Ar(t,e,{});return qu(e).forEach(function(i){tr.propertyIsEnumerable.call(e,i)&&(s[i]=cn(e[i],t))}),s}}function Hr(e,t){return cn(e,new Map)}function $d(){}function Pe(e,t){t===void 0&&(t=void 0),we();try{return e.apply(t)}finally{xe()}}function Md(e,t,n){return arguments.length===1||t&&typeof t=="object"?Id(e,t):Zu(e,t,n||{})}function Zu(e,t,n){var r;if(typeof n.timeout=="number"){var o=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!i[A].isDisposed)if(i(),n.onError)n.onError(o);else throw o},n.timeout)}n.name="When";var s=Mt("When-effect",t),i=qs(function(a){var u=Ws(!1,e);u&&(a.dispose(),r&&clearTimeout(r),s())},n);return i}function Id(e,t){var n;if(t!=null&&(n=t.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,o,s=new Promise(function(i,a){var u,f=Zu(e,i,$t({},t,{onError:a}));r=function(){f(),a(new Error("WHEN_CANCELLED"))},o=function(){f(),a(new Error("WHEN_ABORTED"))},t==null||(u=t.signal)==null||u.addEventListener==null||u.addEventListener("abort",o)}).finally(function(){var i;return t==null||(i=t.signal)==null||i.removeEventListener==null?void 0:i.removeEventListener("abort",o)});return s.cancel=r,s}function an(e){return e[A]}var Rd={has:function(t,n){return an(t).has_(n)},get:function(t,n){return an(t).get_(n)},set:function(t,n,r){var o;return Kt(n)?(o=an(t).set_(n,r,!0))!=null?o:!0:!1},deleteProperty:function(t,n){var r;return Kt(n)?(r=an(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return(o=an(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return an(t).ownKeys_()},preventExtensions:function(t){T(13)}};function kd(e,t){var n,r;return ru(),e=tn(e,t),(r=(n=e[A]).proxy_)!=null?r:n.proxy_=new Proxy(e,Rd)}function Ie(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function ar(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),ou(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Re(e,t){var n=en();try{for(var r=[].concat(e.interceptors_||[]),o=0,s=r.length;o<s&&(t=r[o](t),t&&!t.type&&T(14),!!t);o++);return t}finally{bt(n)}}function Ue(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function ur(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),ou(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function We(e,t){var n=en(),r=e.changeListeners_;if(r){r=r.slice();for(var o=0,s=r.length;o<s;o++)r[o](t);bt(n)}}function Co(e,t,n){return Vt(function(){var r,o=tn(e,n)[A];(r=t)!=null||(t=ol(e)),pn(t).forEach(function(s){return o.make_(s,t[s])})}),e}var Ho=Symbol("mobx-keys");function Dd(e,t,n){return gt(e)?Ao(e,e,t,n):(Vt(function(){var r=tn(e,n)[A];if(!e[Ho]){var o=Object.getPrototypeOf(e),s=new Set([].concat(pn(e),pn(o)));s.delete("constructor"),s.delete(A),nr(o,Ho,s)}e[Ho].forEach(function(i){return r.make_(i,t&&i in t?t[i]:!0)})}),e)}var Li="splice",nt="update",Nd=1e4,Vd={get:function(t,n){var r=t[A];return n===A?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):pt(Xr,n)?Xr[n]:t[n]},set:function(t,n,r){var o=t[A];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){T(15)}},Hs=(function(){function e(n,r,o,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=s,this.atom_=new Nt(n),this.enhancer_=function(i,a){return r(i,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return ar(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),ur(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&T("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var s=new Array(r-o),i=0;i<r-o;i++)s[i]=void 0;this.spliceWithArray_(o,0,s)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&T(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&Qu(r+o+1)},t.spliceWithArray_=function(r,o,s){var i=this,a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?o=a-r:o==null?o=0:o=Math.max(0,Math.min(o,a-r)),s===void 0&&(s=hs),Ie(this)){var u=Re(this,{object:this.proxy_,type:Li,index:r,removedCount:o,added:s});if(!u)return hs;o=u.removedCount,s=u.added}if(s=s.length===0?s:s.map(function(l){return i.enhancer_(l,void 0)}),this.legacyMode_){var f=s.length-o;this.updateArrayLength_(a,f)}var c=this.spliceItemsIntoValues_(r,o,s);return(o!==0||s.length!==0)&&this.notifyArraySplice_(r,s,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function(r,o,s){if(s.length<Nd){var i;return(i=this.values_).splice.apply(i,[r,o].concat(s))}else{var a=this.values_.slice(r,r+o),u=this.values_.slice(r+o);this.values_.length+=s.length-o;for(var f=0;f<s.length;f++)this.values_[r+f]=s[f];for(var c=0;c<u.length;c++)this.values_[r+s.length+c]=u[c];return a}},t.notifyArrayChildUpdate_=function(r,o,s){var i=!this.owned_&&Gn(),a=Ue(this),u=a||i?{observableKind:"array",object:this.proxy_,type:nt,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:s}:null;this.atom_.reportChanged(),a&&We(this,u)},t.notifyArraySplice_=function(r,o,s){var i=!this.owned_&&Gn(),a=Ue(this),u=a||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Li,index:r,removed:s,added:o,removedCount:s.length,addedCount:o.length}:null;this.atom_.reportChanged(),a&&We(this,u)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var s=this.values_;if(this.legacyMode_&&r>s.length&&T(17,r,s.length),r<s.length){var i=s[r];if(Ie(this)){var a=Re(this,{type:nt,object:this.proxy_,index:r,newValue:o});if(!a)return;o=a.newValue}o=this.enhancer_(o,i);var u=o!==i;u&&(s[r]=o,this.notifyArrayChildUpdate_(r,o,i))}else{for(var f=new Array(r+1-s.length),c=0;c<f.length-1;c++)f[c]=void 0;f[f.length-1]=o,this.spliceWithArray_(s.length,0,f)}},e})();function Ld(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),ru(),Vt(function(){var o=new Hs(n,t,r,!1);iu(o.values_,A,o);var s=new Proxy(o.values_,Vd);return o.proxy_=s,e&&e.length&&o.spliceWithArray_(0,0,e),s})}var Xr={clear:function(){return this.splice(0)},replace:function(t){var n=this[A];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var i=this[A];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,n)}return i.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[A].spliceWithArray_(t,n,r)},push:function(){for(var t=this[A],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[A].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[A],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return _.trackingDerivation&&T(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){_.trackingDerivation&&T(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[A],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};G("at",$e);G("concat",$e);G("flat",$e);G("includes",$e);G("indexOf",$e);G("join",$e);G("lastIndexOf",$e);G("slice",$e);G("toString",$e);G("toLocaleString",$e);G("toSorted",$e);G("toSpliced",$e);G("with",$e);G("every",He);G("filter",He);G("find",He);G("findIndex",He);G("findLast",He);G("findLastIndex",He);G("flatMap",He);G("forEach",He);G("map",He);G("some",He);G("toReversed",He);G("reduce",Ju);G("reduceRight",Ju);function G(e,t){typeof Array.prototype[e]=="function"&&(Xr[e]=t(e))}function $e(e){return function(){var t=this[A];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function He(e){return function(t,n){var r=this,o=this[A];o.atom_.reportObserved();var s=o.dehanceValues_(o.values_);return s[e](function(i,a){return t.call(n,i,a,r)})}}function Ju(e){return function(){var t=this,n=this[A];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(s,i,a){return o(s,i,a,t)},r[e].apply(r,arguments)}}var Bd=Dt("ObservableArrayAdministration",Hs);function fe(e){return go(e)&&Bd(e[A])}var zd={},Ct="add",Yr="delete",To=(function(){function e(n,r,o){var s=this;r===void 0&&(r=Zt),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[A]=zd,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,Te(Map)||T(18),Vt(function(){s.keysAtom_=Ot("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!_.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var i=s=new Tt(this.has_(r),mo,"ObservableMap.key?",!1);this.hasMap_.set(r,i),So(i,function(){return o.hasMap_.delete(r)})}return s.get()},t.set=function(r,o){var s=this.has_(r);if(Ie(this)){var i=Re(this,{type:s?nt:Ct,object:this,newValue:o,name:r});if(!i)return this;o=i.newValue}return s?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(Ie(this)){var s=Re(this,{type:Yr,object:this,name:r});if(!s)return!1}if(this.has_(r)){var i=Gn(),a=Ue(this),u=a||i?{observableKind:"map",debugObjectName:this.name_,type:Yr,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Pe(function(){var f;o.keysAtom_.reportChanged(),(f=o.hasMap_.get(r))==null||f.setNewValue_(!1);var c=o.data_.get(r);c.setNewValue_(void 0),o.data_.delete(r)}),a&&We(this,u),!0}return!1},t.updateValue_=function(r,o){var s=this.data_.get(r);if(o=s.prepareNewValue_(o),o!==_.UNCHANGED){var i=Gn(),a=Ue(this),u=a||i?{observableKind:"map",debugObjectName:this.name_,type:nt,object:this,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),a&&We(this,u)}},t.addValue_=function(r,o){var s=this;Pe(function(){var f,c=new Tt(o,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,c),o=c.value_,(f=s.hasMap_.get(r))==null||f.setNewValue_(!0),s.keysAtom_.reportChanged()});var i=Gn(),a=Ue(this),u=a||i?{observableKind:"map",debugObjectName:this.name_,type:Ct,object:this,name:r,newValue:o}:null;a&&We(this,u)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return Bi({next:function(){var i=o.next(),a=i.done,u=i.value;return{done:a,value:a?void 0:r.get(u)}}})},t.entries=function(){var r=this,o=this.keys();return Bi({next:function(){var i=o.next(),a=i.done,u=i.value;return{done:a,value:a?void 0:[u,r.get(u)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,o){for(var s=ln(this),i;!(i=s()).done;){var a=i.value,u=a[0],f=a[1];r.call(o,f,u,this)}},t.merge=function(r){var o=this;return ee(r)&&(r=new Map(r)),Pe(function(){gt(r)?Yf(r).forEach(function(s){return o.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var i=s[0],a=s[1];return o.set(i,a)}):An(r)?(Xf(r)||T(19,r),r.forEach(function(s,i){return o.set(i,s)})):r!=null&&T(20,r)}),this},t.clear=function(){var r=this;Pe(function(){xo(function(){for(var o=ln(r.keys()),s;!(s=o()).done;){var i=s.value;r.delete(i)}})})},t.replace=function(r){var o=this;return Pe(function(){for(var s=Fd(r),i=new Map,a=!1,u=ln(o.data_.keys()),f;!(f=u()).done;){var c=f.value;if(!s.has(c)){var l=o.delete(c);if(l)a=!0;else{var d=o.data_.get(c);i.set(c,d)}}}for(var p=ln(s.entries()),h;!(h=p()).done;){var y=h.value,x=y[0],O=y[1],g=o.data_.has(x);if(o.set(x,O),o.data_.has(x)){var b=o.data_.get(x);i.set(x,b),g||(a=!0)}}if(!a)if(o.data_.size!==i.size)o.keysAtom_.reportChanged();else for(var w=o.data_.keys(),j=i.keys(),$=w.next(),B=j.next();!$.done;){if($.value!==B.value){o.keysAtom_.reportChanged();break}$=w.next(),B=j.next()}o.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return ur(this,r)},t.intercept_=function(r){return ar(this,r)},Pn(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),ee=Dt("ObservableMap",To);function Bi(e){return e[Symbol.toStringTag]="MapIterator",ei(e)}function Fd(e){if(An(e)||ee(e))return e;if(Array.isArray(e))return new Map(e);if(gt(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return T(21,e)}var Gd={},Xs=(function(){function e(n,r,o){var s=this;r===void 0&&(r=Zt),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[A]=Gd,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,Te(Set)||T(22),this.enhancer_=function(i,a){return r(i,a,o)},Vt(function(){s.atom_=Ot(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Pe(function(){xo(function(){for(var o=ln(r.data_.values()),s;!(s=o()).done;){var i=s.value;r.delete(i)}})})},t.forEach=function(r,o){for(var s=ln(this),i;!(i=s()).done;){var a=i.value;r.call(o,a,a,this)}},t.add=function(r){var o=this;if(Ie(this)){var s=Re(this,{type:Ct,object:this,newValue:r});if(!s)return this;r=s.newValue}if(!this.has(r)){Pe(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var i=!1,a=Ue(this),u=a||i?{observableKind:"set",debugObjectName:this.name_,type:Ct,object:this,newValue:r}:null;a&&We(this,u)}return this},t.delete=function(r){var o=this;if(Ie(this)){var s=Re(this,{type:Yr,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var i=!1,a=Ue(this),u=a||i?{observableKind:"set",debugObjectName:this.name_,type:Yr,object:this,oldValue:r}:null;return Pe(function(){o.atom_.reportChanged(),o.data_.delete(r)}),a&&We(this,u),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return zi({next:function(){var s=r.next(),i=s.value,a=s.done;return a?{value:void 0,done:a}:{value:[i,i],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=this.data_.values();return zi({next:function(){var i=o.next(),a=i.value,u=i.done;return u?{value:void 0,done:u}:{value:r.dehanceValue_(a),done:u}}})},t.intersection=function(r){if(ct(r)&&!J(r))return r.intersection(this);var o=new Set(this);return o.intersection(r)},t.union=function(r){if(ct(r)&&!J(r))return r.union(this);var o=new Set(this);return o.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(ct(r)&&!J(r))return r.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(ct(r)&&!J(r))return r.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(r)},t.replace=function(r){var o=this;return J(r)&&(r=new Set(r)),Pe(function(){Array.isArray(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):ct(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):r!=null&&T("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return ur(this,r)},t.intercept_=function(r){return ar(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Pn(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),J=Dt("ObservableSet",Xs);function zi(e){return e[Symbol.toStringTag]="SetIterator",ei(e)}var Fi=Object.create(null),Gi="remove",Hu=(function(){function e(n,r,o,s){r===void 0&&(r=new Map),s===void 0&&(s=Tl),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=s,this.keysAtom_=new Nt("ObservableObject.keys"),this.isPlainObject_=gt(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var s=this.values_.get(r);if(s instanceof Ke)return s.set(o),!0;if(Ie(this)){var i=Re(this,{type:nt,object:this.proxy_||this.target_,name:r,newValue:o});if(!i)return null;o=i.newValue}if(o=s.prepareNewValue_(o),o!==_.UNCHANGED){var a=Ue(this),u=!1,f=a||u?{type:nt,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),a&&We(this,f)}return!0},t.get_=function(r){return _.trackingDerivation&&!pt(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,s){return s===void 0&&(s=!1),pt(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):s?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!_.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new Tt(r in this.target_,mo,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var s;if((s=this.target_[et])!=null&&s[r])return;T(1,o.annotationType_,this.name_+"."+r.toString())}for(var i=this.target_;i&&i!==tr;){var a=Gr(i,r);if(a){var u=o.make_(this,r,a,i);if(u===0)return;if(u===1)break}i=Object.getPrototypeOf(i)}Wi(this,o,r)}},t.extend_=function(r,o,s,i){if(i===void 0&&(i=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,o,i);var a=s.extend_(this,r,o,i);return a&&Wi(this,s,r),a},t.defineProperty_=function(r,o,s){s===void 0&&(s=!1);try{we();var i=this.delete_(r);if(!i)return i;if(Ie(this)){var a=Re(this,{object:this.proxy_||this.target_,name:r,type:Ct,newValue:o.value});if(!a)return null;var u=a.newValue;o.value!==u&&(o=$t({},o,{value:u}))}if(s){if(!Reflect.defineProperty(this.target_,r,o))return!1}else tt(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{xe()}return!0},t.defineObservableProperty_=function(r,o,s,i){i===void 0&&(i=!1);try{we();var a=this.delete_(r);if(!a)return a;if(Ie(this)){var u=Re(this,{object:this.proxy_||this.target_,name:r,type:Ct,newValue:o});if(!u)return null;o=u.newValue}var f=Ui(r),c={configurable:_.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:f.get,set:f.set};if(i){if(!Reflect.defineProperty(this.target_,r,c))return!1}else tt(this.target_,r,c);var l=new Tt(o,s,"ObservableObject.key",!1);this.values_.set(r,l),this.notifyPropertyAddition_(r,l.value_)}finally{xe()}return!0},t.defineComputedProperty_=function(r,o,s){s===void 0&&(s=!1);try{we();var i=this.delete_(r);if(!i)return i;if(Ie(this)){var a=Re(this,{object:this.proxy_||this.target_,name:r,type:Ct,newValue:void 0});if(!a)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var u=Ui(r),f={configurable:_.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,r,f))return!1}else tt(this.target_,r,f);this.values_.set(r,new Ke(o)),this.notifyPropertyAddition_(r,void 0)}finally{xe()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),!pt(this.target_,r))return!0;if(Ie(this)){var s=Re(this,{object:this.proxy_||this.target_,name:r,type:Gi});if(!s)return null}try{var i;we();var a=Ue(this),u=!1,f=this.values_.get(r),c=void 0;if(!f&&(a||u)){var l;c=(l=Gr(this.target_,r))==null?void 0:l.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(f&&(this.values_.delete(r),f instanceof Tt&&(c=f.value_),Eu(f)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(r in this.target_),a||u){var d={type:Gi,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:c,name:r};a&&We(this,d)}}finally{xe()}return!0},t.observe_=function(r,o){return ur(this,r)},t.intercept_=function(r){return ar(this,r)},t.notifyPropertyAddition_=function(r,o){var s,i=Ue(this),a=!1;if(i||a){var u=i||a?{type:Ct,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;i&&We(this,u)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),pn(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function tn(e,t){var n;if(pt(e,A))return e;var r=(n=t?.name)!=null?n:"ObservableObject",o=new Hu(e,new Map,String(r),Bl(t));return nr(e,A,o),e}var Ud=Dt("ObservableObjectAdministration",Hu);function Ui(e){return Fi[e]||(Fi[e]={get:function(){return this[A].getObservablePropValue_(e)},set:function(n){return this[A].setObservablePropValue_(e,n)}})}function K(e){return go(e)?Ud(e[A]):!1}function Wi(e,t,n){var r;(r=e.target_[et])==null||delete r[n]}var Wd=Yu(0),Xo=0,Xu=function(){};function Kd(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}Kd(Xu,Array.prototype);var Ys=(function(e){function t(r,o,s,i){var a;return s===void 0&&(s="ObservableArray"),i===void 0&&(i=!1),a=e.call(this)||this,Vt(function(){var u=new Hs(s,o,i,!0);u.proxy_=a,iu(a,A,u),r&&r.length&&a.spliceWithArray(0,0,r),Object.defineProperty(a,"0",Wd)}),a}cu(t,e);var n=t.prototype;return n.concat=function(){this[A].atom_.reportObserved();for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return fe(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,o=0;return ei({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},Pn(t,[{key:"length",get:function(){return this[A].getArrayLength_()},set:function(o){this[A].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(Xu);Object.entries(Xr).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&nr(Ys.prototype,t,n)});function Yu(e){return{enumerable:!1,configurable:!0,get:function(){return this[A].get_(e)},set:function(n){this[A].set_(e,n)}}}function qd(e){tt(Ys.prototype,""+e,Yu(e))}function Qu(e){if(e>Xo){for(var t=Xo;t<e+100;t++)qd(t);Xo=e}}Qu(1e3);function Zd(e,t,n){return new Ys(e,t,n)}function _t(e,t){if(typeof e=="object"&&e!==null){if(fe(e))return t!==void 0&&T(23),e[A].atom_;if(J(e))return e.atom_;if(ee(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||T(25,t,Qr(e)),n}if(K(e)){if(!t)return T(26);var r=e[A].values_.get(t);return r||T(27,t,Qr(e)),r}if(Gs(e)||Jt(e)||qr(e))return e}else if(Te(e)&&qr(e[A]))return e[A];T(28)}function it(e,t){if(e||T(29),t!==void 0)return it(_t(e,t));if(Gs(e)||Jt(e)||qr(e)||ee(e)||J(e))return e;if(e[A])return e[A];T(24,e)}function Qr(e,t){var n;if(t!==void 0)n=_t(e,t);else{if(It(e))return e.name;K(e)||ee(e)||J(e)?n=it(e):n=_t(e)}return n.name_}function Vt(e){var t=en(),n=yo(!0);we();try{return e()}finally{xe(),wo(n),bt(t)}}var Ki=tr.toString;function Qs(e,t,n){return n===void 0&&(n=-1),xs(e,t,n)}function xs(e,t,n,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var i=Ki.call(e);if(i!==Ki.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=qi(e),t=qi(t);var a=i==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var u=e.constructor,f=t.constructor;if(u!==f&&!(Te(u)&&u instanceof u&&Te(f)&&f instanceof f)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var c=r.length;c--;)if(r[c]===e)return o[c]===t;if(r.push(e),o.push(t),a){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!xs(e[c],t[c],n-1,r,o))return!1}else{var l=Object.keys(e),d=l.length;if(Object.keys(t).length!==d)return!1;for(var p=0;p<d;p++){var h=l[p];if(!(pt(t,h)&&xs(e[h],t[h],n-1,r,o)))return!1}}return r.pop(),o.pop(),!0}function qi(e){return fe(e)?e.slice():An(e)||ee(e)||ct(e)||J(e)?Array.from(e.entries()):e}var Zi,Jd=((Zi=vo().Iterator)==null?void 0:Zi.prototype)||{};function ei(e){return e[Symbol.iterator]=Hd,Object.assign(Object.create(Jd),e)}function Hd(){return this}["Symbol","Map","Set"].forEach(function(e){var t=vo();typeof t[e]>"u"&&T("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Mu,extras:{getDebugName:Qr},$mobx:A});const Xd=Object.freeze(Object.defineProperty({__proto__:null,$mobx:A,FlowCancellationError:Po,ObservableMap:To,ObservableSet:Xs,Reaction:ot,_allowStateChanges:Ws,_allowStateChangesInsideComputed:Zr,_allowStateReadsEnd:dn,_allowStateReadsStart:Oo,_autoAction:bn,_endAction:wu,_getAdministration:it,_getGlobalState:Pu,_interceptReads:Sd,_isComputingDerivation:xu,_resetGlobalState:Hl,_startAction:yu,action:S,autorun:qs,comparer:qt,computed:W,configure:vd,createAtom:Ot,defineProperty:Cd,entries:Wu,extendObservable:Ao,flow:Ht,flowResult:Od,get:Ku,getAtom:_t,getDebugName:Qr,getDependencyTree:gd,getObserverTree:md,has:Js,intercept:jo,isAction:It,isBoxedObservable:Ks,isComputed:Gu,isComputedProp:kr,isFlow:vn,isFlowCancellationError:wd,isObservable:st,isObservableArray:fe,isObservableMap:ee,isObservableObject:K,isObservableProp:jd,isObservableSet:J,keys:Rt,makeAutoObservable:Dd,makeObservable:Co,observable:R,observe:ir,onBecomeObserved:Vu,onBecomeUnobserved:So,onReactionError:nd,override:ll,ownKeys:qu,reaction:Zs,remove:mt,runInAction:Zr,set:St,spy:Mu,toJS:Hr,trace:$d,transaction:Pe,untracked:xo,values:Jr,when:Md},Symbol.toStringTag,{value:"Module"}));var Yd=Object.defineProperty,Qd=(e,t,n)=>t in e?Yd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t,n)=>Qd(e,typeof t!="symbol"?t+"":t,n),ec,Ji,Hi,Xi,Yi,Qi,ea,ta,na,ra;const eh=new Map;function th(e,t,n){eh.set(e,{modelClass:t,fnName:n})}var cr=(e=>(e.ApplyPatches="$$applyPatches",e.ApplySnapshot="$$applySnapshot",e.Detach="$$detach",e.ApplySet="$$applySet",e.ApplyDelete="$$applyDelete",e.ApplyMethodCall="$$applyMethodCall",e))(cr||{});new Set(Object.values(cr));var Lt=(e=>(e.Sync="sync",e.Async="async",e))(Lt||{});let tc;function Eo(){return tc}function oa(e){tc=e}const nc=Symbol("modelAction");function ti(e){return typeof e=="function"&&nc in e}const L="$modelType",je="$modelId";function rc(e){return e===L}class ni extends Error{constructor(t){super(t),Object.setPrototypeOf(this,ni.prototype)}}function m(e){return new ni(e)}const nh={enumerable:!1,writable:!0,configurable:!1,value:void 0};function oc(e,t,n,r=!0){r?(Object.defineProperty(e,t,nh),e[t]=n):Object.defineProperty(e,t,{enumerable:!1,writable:r,configurable:!0,value:n})}function rt(e){if(!Ne(e))return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function Ne(e){return e!==null&&typeof e=="object"}function oe(e){switch(typeof e){case"number":case"string":case"boolean":case"undefined":case"bigint":return!0;default:return e===null}}function $o(e){return e instanceof Map||ee(e)}function Mo(e){return e instanceof Set||J(e)}function me(e){return Array.isArray(e)||fe(e)}const sc=!1;function jn(e,t){if(!Ne(e))throw m(`${t} must be an object`)}function ic(e,t){if(typeof e!="function")throw m(`${t} must be a function`)}function rh(e,t){if(!oe(e))throw m(`${t} must be a primitive`)}const ac=Symbol("runAfterNew"),oh=Symbol("runBeforeOnInit");function uc(e,t,n){let r=e[t];r&&Object.prototype.hasOwnProperty.call(e,t)||(r=r?r.slice():[],oc(e,t,r)),r.push(n)}function eo(e,t){const n=e[t];if(n)for(const r of n)r(e)}const sa=new Set;function cc(e,t,n){if(n){if(sa.has(n))return;sa.add(n)}switch(t="[mobx-keystone] "+t,e){case"warn":console.warn(t);break;case"error":console.error(t);break;default:throw m(`unknown log type - ${e}`)}}function At(e){let t,n=!1;return(...r)=>(n||(t=e(...r),n=!0),t)}const qe=e=>e,to={makeObservable:Xd.makeObservable};function sh(e){return`set${e[0].toUpperCase()}${e.slice(1)}`}function fc(){return to.makeObservable?6:5}const fr="mobx-keystone",no=Symbol("propsType"),ia=Symbol("fromSnapshotOverrideType"),aa=Symbol("toSnapshotOverrideType"),ri=Symbol("modelInitialized"),Dr={},Ce=new WeakMap;function lr(e){return Dr[e]}function Ze(e,t,n){let r=e.get(t);return r===void 0&&(r=n(),e.set(t,r)),r}const Os=new WeakMap,lc=new WeakMap;function ih(e,t){return e||t?e&&t?e.parent===t.parent&&e.path===t.path:!1:!0}function ah(){return Ot("parentAtom")}function uh(e){Ze(lc,e,ah).reportObserved()}function ua(e){var t;(t=lc.get(e))==null||t.reportChanged()}const Cn=new WeakMap;function gn(e){const t=Cn.get(e);return t??e}function qn(e){return ce(e)?e.$:e}const Xt=new WeakMap;function yt(e,t){return!t&&Cn.has(e)?!1:Xt.has(e)}function Ss(e){return!oe(e)&&yt(e,!1)}function se(e,t,n=!1){if(!n&&Cn.has(e))throw m(`${t} must be the model object instance instead of the '$' sub-object`);if(oe(e)||!yt(e,!0))throw m(`${t} must be a tree node (usually a model or a shallow / deep child part of a model 'data' object)`)}function ch(e,t="argument"){se(e,t,!1)}let Un=!1;function fh(e){const t=Un;Un=!0;try{Zr(()=>{e()})}finally{Un=t}}const Zn=Symbol("modelMetadata"),Yo=Symbol("modelUnwrappedClass"),As=Symbol("runAfterModelDecorator"),dc=Symbol("modelProperties");function dr(e){return e[dc]}function lh(e,t){e[dc]=t}const ne=Symbol("noDefaultValue"),oi={_setter:!1,_isId:!0,withSetter(e){const t=Object.create(this);return t._setter=e??!0,t},typedAs(){return oi}},ca={_defaultFn:ne,_defaultValue:ne,_typeChecker:void 0,_setter:!1,_isId:!1,_transform:void 0,_fromSnapshotProcessor:void 0,_toSnapshotProcessor:void 0,withSetter(e){const t=Object.create(this);return t._setter=e??!0,t},withTransform(e){const t=Object.create(this);return t._transform=hh(e),t},withSnapshotProcessor({fromSnapshot:e,toSnapshot:t}){let n;if(this._fromSnapshotProcessor&&e){const s=this._fromSnapshotProcessor,i=e;n=a=>s(i(a))}else e?n=e:n=this._fromSnapshotProcessor;let r;if(this._toSnapshotProcessor&&t){const s=this._toSnapshotProcessor,i=t;r=a=>i(s(a))}else t?r=t:r=this._toSnapshotProcessor;const o=Object.create(this);return o._fromSnapshotProcessor=n,o._toSnapshotProcessor=r,o}};function Ps(e){if(!(arguments.length>0))return ca;let n=fa.get(e);return n||(n=Object.create(ca),typeof e=="function"?n._defaultFn=e:n._defaultValue=e,fa.set(e,n)),n}const fa=new Map;let js=!1;const dh=()=>{js=!0};function hh(e){const t=new WeakMap,n=o=>o.originalValue==null?o.originalValue:e.transform(o),r=o=>o.transformedValue==null?o.transformedValue:e.untransform(o);return{transform(o,s,i,a){const u=Ze(t,s,()=>new Map);let f=u.get(i);f?.originalValue!==o&&(u.delete(i),f=void 0);const c=n({originalValue:o,cachedTransformedValue:f?.transformedValue,setOriginalValue:a});return u.set(i,{originalValue:o,transformedValue:c}),c},untransform(o,s,i){const a=Ze(t,s,()=>new Map);js=!1;const u=r({transformedValue:o,cacheTransformedValue:dh});return js?a.set(i,{originalValue:u,transformedValue:o}):a.delete(i),u}}}function Jn(e){return e._defaultFn!==ne?e._defaultFn():e._defaultValue!==ne?e._defaultValue:ne}let ph="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",bh=(e=21)=>{let t="",n=e|0;for(;n--;)t+=ph[Math.random()*64|0];return t},la=0;const vh=bh();function gh(){const e=la.toString(36)+"-"+vh;return la++,e}let ro={modelAutoTypeChecking:"devModeOnly",modelIdGenerator:gh,allowUndefinedArrayElements:!1,showDuplicateModelNameWarnings:!0};function og(e){ro=Object.freeze({...ro,...e})}function Io(){return ro}function hr(){switch(Io().modelAutoTypeChecking){case"devModeOnly":return sc;case"alwaysOff":return!1;case"alwaysOn":return!0;default:throw m(`invalid 'modelAutoTypeChecking' config value - ${ro.modelAutoTypeChecking}`)}}const da=new WeakMap;function Tn(e){let t=da.get(e);return t||(t={shallow:new Set,shallowAtom:void 0,deep:new Set,deepDirty:!0,deepAtom:void 0,extensionsData:vc()},da.set(e,t)),t}function Ro(e){const t=Tn(e);return t.shallowAtom||(t.shallowAtom=Ot("shallowChildrenAtom")),t.shallowAtom.reportObserved(),t.shallow}function mh(e){const t=Tn(e);return t.deepDirty&&hc(e),t.deepAtom||(t.deepAtom=Ot("deepChildrenAtom")),t.deepAtom.reportObserved(),t}function ha(e,t){t.deep.add(e),si.forEach((n,r)=>{n.addNode(e,t.extensionsData.get(r))})}const hc=S(e=>{var t;const n=Tn(e);if(!n.deepDirty)return n;n.deep=new Set,n.extensionsData=vc();const r=n.shallow.values();let o=r.next();for(;!o.done;){ha(o.value,n);const i=hc(o.value).deep.values();let a=i.next();for(;!a.done;)ha(a.value,n),a=i.next();o=r.next()}return n.deepDirty=!1,(t=n.deepAtom)==null||t.reportChanged(),n}),_h=S((e,t)=>{var n;const r=Tn(e);r.shallow.add(t),(n=r.shallowAtom)==null||n.reportChanged(),pc(e,r)}),yh=S((e,t)=>{var n;const r=Tn(e);r.shallow.delete(t),(n=r.shallowAtom)==null||n.reportChanged(),pc(e,r)});function pc(e,t){var n;let r=e,o=t;for(;r;)o.deepDirty=!0,(n=o.deepAtom)==null||n.reportChanged(),r=Hn(r,!1),r&&(o=Tn(r))}const si=new Map;function bc(e){const t={};return si.set(t,e),n=>n.extensionsData.get(t)}function vc(){const e=new WeakMap;return si.forEach((t,n)=>{e.set(n,t.initData())}),e}function wh(){return!!Eo()}function gc(){if(!wh())throw m("data changes must be performed inside model actions")}const Cs=[];function mc(){return!!Eo()}function xh(e){mc()?Cs.push(e):e()}let Qo=!1;function Oh(){if(!(mc()||Qo)){Qo=!0;try{for(;Cs.length>0;)Cs.shift()()}finally{Qo=!1}}}function Yt(e){if(ce(e))return e.constructor[Zn];if(vr(e))return e[Zn];throw m("modelClassOrInstance must be a model class or instance")}const Sh=new WeakMap;function Qt(e){return Ze(Sh,e,()=>Yt(e).modelIdProperty)}var mn=(e=>(e.OnInit="$$onInit",e.OnLazyInit="$$onLazyInit",e.OnAttachedToRootStore="$$onAttachedToRootStore",e.OnAttachedToRootStoreDisposer="$$onAttachedToRootStoreDisposer",e))(mn||{});new Set(Object.values(mn));var ii=(e=>(e.ParentFirst="parentFirst",e.ChildrenFirst="childrenFirst",e))(ii||{});function _c(e,t,n){return se(e,"root"),n==="parentFirst"?Ah(e,t):yc(e,t)}function Ah(e,t){const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);if(o!==void 0)return o;const s=Ro(r);n.length+=s.size;let i=n.length-1;const a=s.values();let u=a.next();for(;!u.done;)n[i--]=u.value,u=a.next()}}function yc(e,t){const n=Ro(e).values();let r=n.next();for(;!r.done;){const s=yc(r.value,t);if(s!==void 0)return s;r=n.next()}const o=t(e);if(o!==void 0)return o}function wc(e,t,n){let r=e.get(n);return r||(r=W(()=>jh(n,t,o=>wc(e,t,o))),e.set(n,r)),r.get()}function Ph(e){const t=new WeakMap;return{walk:n=>wc(t,e,n)}}function jh(e,t,n){let r;const o=t(e),s=Ro(e),i=s.values();let a=i.next();if(o===void 0&&s.size===1)return n(a.value);for(;!a.done;){const u=n(a.value);if(u){r||(r=new Map);const f=u.keys();let c=f.next();for(;!c.done;){const l=c.value,d=u.get(l);r.set(l,d),c=f.next()}}a=i.next()}return o!==void 0&&(r||(r=new Map),r.set(o,e)),r}const Ts=new WeakMap,Es=new WeakSet,xc=S("attachToRootStore",(e,t)=>{const n=[];_c(t,o=>{Es.has(o)||(Es.add(o),o instanceof yn&&o.onAttachedToRootStore&&(Ds(o,"onAttachedToRootStore",mn.OnAttachedToRootStore),n.push(o)))},ii.ParentFirst);const r=n.length;for(let o=0;o<r;o++){const s=n[o],i=s.onAttachedToRootStore(e);i&&Ts.set(s,i)}}),Oc=S("detachFromRootStore",e=>{const t=[];_c(e,r=>{if(!Es.delete(r))return;const o=Ts.get(r);if(o){const s=on({nameOrNameFn:mn.OnAttachedToRootStoreDisposer,fn:o,actionType:Lt.Sync}).bind(r);Ts.delete(r),t.push(s)}},ii.ChildrenFirst);const n=t.length;for(let r=0;r<n;r++)t[r]()}),Sc=new WeakMap;function Ch(){return{atom:void 0,is:!1}}const ai=e=>Ze(Sc,e,Ch),sg=S("registerRootStore",e=>{var t;se(e,"node");const n=ai(e);if(n.is)throw m("object already registered as root store");if(!a0(e))throw m("a root store must not have a parent");return n.is=!0,xc(e,e),(t=n.atom)==null||t.reportChanged(),e}),ig=S("unregisterRootStore",e=>{var t;if(!Th(e))throw m("not a root store");const n=ai(e);n.is=!1,Oc(e),(t=n.atom)==null||t.reportChanged()});function Th(e){se(e,"node");const t=ai(e);return t.atom||(t.atom=Ot("rootStore")),t.atom.reportObserved(),t.is}function es(e){var t;return!!((t=Sc.get(e))!=null&&t.is)}class Ve{constructor(t,n,r,o){E(this,"message"),this.path=t,this.expectedTypeName=n,this.actualValue=r,this.typeCheckedValue=o;let s=[];this.typeCheckedValue&&yt(this.typeCheckedValue,!0)&&(s=i0(this.typeCheckedValue,!1).path);const i=yt(this.actualValue,!0)?ge(this.actualValue):this.actualValue;this.message=`TypeCheckError: [/${[...s,...this.path].join("/")}] Expected a value of type <${this.expectedTypeName}> but got the value <${JSON.stringify(i)}> instead`}throw(){throw m(this.message)}}const Eh=[],$s=new WeakMap;var Ee=(e=>(e.Object="object",e.Array="array",e.Primitive="primitive",e.Any="any",e))(Ee||{});function $h(e){return me(e)?"array":Ne(e)?"object":oe(e)?"primitive":"any"}function Mh(e){let t=e;for(;t;){const n=$s.get(t);n&&($s.delete(t),n.forEach(r=>{r.invalidateCachedResult(t)})),t=s0(t,!1)}}const Ms=new WeakMap;function Ih(e){const t=Ms.get(e);t&&(t.forEach(n=>{n.invalidateSnapshotProcessorCachedResult(e)}),Ms.delete(e))}class _e{constructor(t,n,r,o,s,i,a){E(this,"checkResultCache"),E(this,"unchecked"),E(this,"_cachedTypeInfoGen"),E(this,"fromSnapshotProcessor",u=>this._fromSnapshotProcessor(u)),E(this,"_toSnapshotProcessorCache",new WeakMap),E(this,"toSnapshotProcessor",u=>{if(typeof u!="object"||u===null)return this._toSnapshotProcessor(u);if(this._toSnapshotProcessorCache.has(u))return this._toSnapshotProcessorCache.get(u);const f=this._toSnapshotProcessor(u);return this._toSnapshotProcessorCache.set(u,f),Ze(Ms,u,()=>new Set).add(this),f}),this.baseType=t,this._check=n,this.getTypeName=r,this.typeInfoGen=o,this.snapshotType=s,this._fromSnapshotProcessor=i,this._toSnapshotProcessor=a,this.unchecked=!n,this._cachedTypeInfoGen=At(o)}createCacheIfNeeded(){return this.checkResultCache||(this.checkResultCache=new WeakMap),this.checkResultCache}setCachedResult(t,n){this.createCacheIfNeeded().set(t,n),Ze($s,t,()=>new Set).add(this)}invalidateCachedResult(t){var n;(n=this.checkResultCache)==null||n.delete(t)}getCachedResult(t){var n;return(n=this.checkResultCache)==null?void 0:n.get(t)}check(t,n,r){if(this.unchecked)return null;if(!yt(t,!0))return this._check(t,n,r);let o=this.getCachedResult(t);return o===void 0&&(o=this._check(t,Eh,void 0),this.setCachedResult(t,o)),o?new Ve([...n,...o.path],o.expectedTypeName,o.actualValue,r):null}get typeInfo(){return this._cachedTypeInfoGen(this)}invalidateSnapshotProcessorCachedResult(t){this._toSnapshotProcessorCache.delete(t)}}const Ac=Symbol("lateTypeCheker");function wt(e,t){let n;const r=()=>n||(n=e(),n);r[Ac]=!0;const o=At(t);return Object.defineProperty(r,"typeInfo",{enumerable:!0,configurable:!1,get(){return o(r)}}),r}function ui(e){return typeof e=="function"&&Ac in e}class Le{constructor(t){this.thisType=t}}const ci=new WeakMap,Ut=new WeakMap;function Be(e){return ci.get(e)}function Rh(e,t){if(!(t&&e))return;const n=Be(t.parent);if(n)return{parentSnapshot:n,parentPath:t}}const kh=S("unsetInternalSnapshot",e=>{var t;const n=Be(e);n&&(ci.delete(e),(t=n.atom)==null||t.reportChanged())}),fi=S("setNewInternalSnapshot",(e,t,n,r=!1)=>{var o;const s=n?n(t):t,i={untransformed:t,transformFn:n,transformed:s,atom:void 0};Ut.set(t,r),s!==void 0&&s!==t&&Ut.set(s,r),ci.set(e,i),(o=i.atom)==null||o.reportChanged()}),li=S("updateInternalSnapshot",(e,t)=>{var n;const r=Be(e);let o=r.untransformed;Ut.get(o)?Array.isArray(o)?o=o.slice():o=Object.assign({},o):Ih(o),t(o),r.untransformed=o,r.transformed=r.transformFn?r.transformFn(o):o,Ut.set(r.untransformed,!1),r.transformed!==void 0&&Ut.set(r.transformed,!1),(n=r.atom)==null||n.reportChanged();const i=Rh(r,at(e,!1));if(i){const{parentSnapshot:a,parentPath:u}=i;if(a){const f=u.path;li(u.parent,c=>{c[f]=r.transformed})}}});function Dh(e){e.atom||(e.atom=Ot("snapshot")),e.atom.reportObserved()}function Oe(e){if(oe(e))return e;const t=Ut.get(e);if(t===void 0||t)return e;if(Array.isArray(e))for(let n=0;n<e.length;n++)Oe(e[n]);else{const n=Object.keys(e);for(let r=0;r<n.length;r++)Oe(e[n[r]])}return Ut.set(e,!0),e}const Pr=[];class Pc{constructor(){E(this,"patches",Pr),E(this,"invPatches",Pr)}reset(){this.patches=Pr,this.invPatches=Pr}record(t,n){this.patches=t,this.invPatches=n}emit(t){jc(t,this.patches,this.invPatches),this.reset()}}function jc(e,t,n){(t.length>0||n.length>0)&&(Vh(e,t,n),Lh(e,t,n))}const Nh=new WeakMap,pa=[];function Vh(e,t,n){for(let r=0;r<pa.length;r++){const o=pa[r];o(e,t,n)}}function ba(e,t,n,r){const o=Nh.get(e);if(!o||o.length===0)return;const s=u=>r.length>0?u.map(f=>Bh(f,r)):u,i=s(t),a=s(n);for(let u=0;u<o.length;u++){const f=o[u];f(i,a)}}function Lh(e,t,n){const r=[];ba(e,t,n,r);let o=at(e,!1);for(;o;)r.unshift(o.path),ba(o.parent,t,n,r),o=at(o.parent,!1)}function Bh(e,t){return{...e,path:[...t,...e.path]}}const va=e=>{if(oe(e))return e;const t=Be(e);return t?Oe(t.transformed):e};function un(e,t,n){return n===void 0?{op:"remove",path:e}:t===void 0?{op:"add",path:e,value:va(n)}:{op:"replace",path:e,value:va(n)}}function re(e,t,n){(e[t]!==n||!(t in e))&&St(e,t,n)}function zh(e,t,n){return e[t]!==n||!(t in e)?(St(e,t,n),!0):!1}var pr=(e=>(e[e.Model=0]="Model",e[e.Array=1]="Array",e[e.PlainObject=2]="PlainObject",e[e.Frozen=3]="Frozen",e))(pr||{});function Fh(e,t,n=0){const r=Gh(e,t,n);return r?r.parent:void 0}function Gh(e,t,n=0){se(e,"child");const r=[];let o=e,s=0,i;for(;i=at(o,!0);){if(r.unshift(i.path),o=i.parent,t(o))return{parent:o,path:r};if(s++,n>0&&s===n)break}}let Nr=!0;function di(e){const t=Nr;Nr=!1;try{e()}finally{Nr=t}}function Uh(){return Nr}var Pt=(e=>(e[e.Array=0]="Array",e[e.Frozen=1]="Frozen",e[e.Model=2]="Model",e[e.PlainObject=3]="PlainObject",e))(Pt||{});function Wh(e,t,n){if(!me(e))return Wt(t);const r=ge(e);return di(()=>{e.length>t.length&&e.splice(t.length,e.length-t.length);for(let o=0;o<e.length;o++){const s=e[o],i=lt(s,t[o],n,e);so(i,s,n),re(e,o,i)}for(let o=e.length;o<t.length;o++){const s=lt(void 0,t[o],n,e);so(s,void 0,n),e.push(s)}}),br(e,void 0,r),e}function Kh(){ko(Pt.Array,(e,t,n)=>{if(me(t))return Wh(e,t,n)})}const Cc="$frozen";class hi{constructor(t,n="devModeOnly"){E(this,"data"),st(t)&&(t=Hr(t));const r=n==="on"||sc;r&&Vr(t),this.data=t,r&&Object.freeze(this.data),De(this,void 0)}}function Tc(e,t="devModeOnly"){return new hi(e,t)}function Vr(e){if(!oe(e)){if(Array.isArray(e)){const t=e.length;for(let n=0;n<t;n++){const r=e[n];if(r===void 0&&!Io().allowUndefinedArrayElements)throw m("undefined is not supported inside arrays since it is not serializable in JSON, consider using null instead");Vr(r)}Object.freeze(e);return}if(rt(e)){const t=Object.keys(e),n=t.length;for(let r=0;r<n;r++){const o=t[r],s=e[o];Vr(o),Vr(s)}Object.freeze(e);return}throw m(`frozen data must be plainly serializable to JSON, but ${e} is not`)}}function pi(e){return rt(e)&&Cc in e}function qh(e,t){return e instanceof hi&&e.data===t.data?e:Tc(t.data)}function Zh(){ko(Pt.Frozen,(e,t)=>{if(pi(t))return qh(e,t)})}function Jh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ts,ga;function Hh(){return ga||(ga=1,ts=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){var i=s[o];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),ts}var Xh=Hh();const Yh=Jh(Xh);function Ec(e,t){return e+" "+t}class $c{constructor(t){E(this,"pool");var n;t=(n=Cn.get(t))!=null?n:t,this.pool=Qh(mh(t))}findModelByTypeAndId(t,n){return n?this.pool.get(Ec(t,n)):void 0}findModelForSnapshot(t){if(!Bo(t))return;const n=t[L],r=lr(n),o=Qt(r.class);return o?this.findModelByTypeAndId(n,t[o]):void 0}}const Qh=bc({initData(){return new Map},addNode(e,t){if(ce(e)){const n=e[je];n&&t.set(Ec(e[L],n),e)}}});function ma(e,t){se(e,"node"),jn(t,"snapshot"),ep().call(e,t)}function Mc(e){const t=this,n=()=>{const r=new $c(t);lt(t,e,r,void 0)};if(me(e)){if(!me(t))throw m("if the snapshot is an array the target must be an array too");n();return}if(pi(e))throw m("applySnapshot cannot be used over frozen objects");if(rt(e)&&e[L]===void 0&&ce(t)){const r=Ce.get(t.constructor);e={...e,[L]:r.name}}if(Bo(e)){const r=e[L],o=lr(r);if(!o)throw m(`model with name "${r}" not found in the registry`);if(!ce(t))throw m("the target for a model snapshot must be a model instance");if(t[L]!==r)throw m(`snapshot model type '${r}' does not match target model type '${t[L]}'`);const s=Qt(o.class);if(s){const i=e[s];if(t[je]!==i)throw m(`snapshot model id '${i}' does not match target model id '${t[je]}'`)}n();return}if(rt(e)){if(!(rt(t)||K(t)))throw m("if the snapshot is an object the target must be an object too");n();return}throw $o(e)?m("a snapshot must not contain maps"):Mo(e)?m("a snapshot must not contain sets"):m(`unsupported snapshot - ${e}`)}const ep=At(()=>on({nameOrNameFn:cr.ApplySnapshot,fn:Mc,actionType:Lt.Sync}));function Is(e,t){return e===t?!0:(Ss(e)?e=ge(e):st(e)&&(e=Hr(e)),Ss(t)?t=ge(t):st(t)&&(t=Hr(t)),Yh(e,t))}function tp(e,t,n,r){const o=t[L],s=lr(o);if(!s)throw m(`model with name "${o}" not found in the registry`);const i=n.findModelForSnapshot(t);if(i&&(e=i),!ce(e)||e[L]!==o)return Wt(t);const a=s.class,u=dr(a),f=Qt(a);if(f){const d=t[f];if(e[je]!==d)return Wt(t)}else if(me(r)&&!Is(e,t))return Wt(t);const c=e,l=ge(c);return di(()=>{const d=c.constructor,p=d.fromSnapshotProcessor?d.fromSnapshotProcessor(t):t,h=c.$,y=Object.keys(h),x=y.length;for(let b=0;b<x;b++){const w=y[b];if(!(w in p)){const j=u[w],$=j?Jn(j):ne;$===ne?mt(h,w):re(h,w,$)}}const O=Object.keys(p),g=O.length;for(let b=0;b<g;b++){const w=O[b];if(!rc(w)){const j=p[w],$=h[w];let B=lt($,j,n,c);if(B==null){const pe=u[w],z=pe?Jn(pe):ne;z!==ne&&(B=z)}so(B,$,n),re(h,w,B)}}}),br(c,void 0,l),c}function np(){ko(Pt.Model,(e,t,n,r)=>{if(Bo(t))return tp(e,t,n,r)})}function rp(e,t,n){if(!(rt(e)||K(e)))return Wt(t);const r=e,o=ge(r);return di(()=>{const s=Object.keys(r),i=s.length;for(let f=0;f<i;f++){const c=s[f];c in t||mt(r,c)}const a=Object.keys(t),u=a.length;for(let f=0;f<u;f++){const c=a[f],l=t[c],d=r[c],p=lt(d,l,n,r);so(p,d,n),re(r,c,p)}}),br(r,void 0,o),r}function op(){ko(Pt.PlainObject,(e,t,n)=>{if(rt(t))return rp(e,t,n)})}let _a=!1;function sp(){_a||(_a=!0,Kh(),Zh(),np(),op())}const oo=[];function ko(e,t){oo.push({priority:e,reconciler:t}),oo.sort((n,r)=>n.priority-r.priority)}function lt(e,t,n,r){if(oe(t))return t;if(ge(e)===t)return e;sp();const o=oo.length;for(let s=0;s<o;s++){const{reconciler:i}=oo[s],a=i(e,t,n,r);if(a!==void 0)return a}throw $o(t)?m("a snapshot must not contain maps"):Mo(t)?m("a snapshot must not contain sets"):m(`unsupported snapshot - ${t}`)}function so(e,t,n){if(e!==t&&ce(e)&&n.findModelByTypeAndId(e[L],e[je])){const r=Kc(e,!1);r&&St(r.parent,r.path,null)}}function io(e,t,n=!1){se(e,"node"),!(t.length<=0)&&ip().call(e,t,n)}function Ic(e,t=!1){const n=this,r=new $c(n);if(t){let o=e.length;for(;o--;){const s=e[o];if(me(s)){let i=s.length;for(;i--;)jr(n,s[i],r)}else jr(n,s,r)}}else{const o=e.length;for(let s=0;s<o;s++){const i=e[s];if(me(i)){const a=i.length;for(let u=0;u<a;u++)jr(n,i[u],r)}else jr(n,i,r)}}}const ip=At(()=>on({nameOrNameFn:cr.ApplyPatches,fn:Ic,actionType:Lt.Sync}));function jr(e,t,n){const{target:r,prop:o}=ap(e,t.path);if(me(r))switch(t.op){case"add":{const s=+o,i=lt(void 0,t.value,n,r);s<0?r.push(i):r.splice(s,0,i);break}case"remove":{const s=+o;r.splice(s,1);break}case"replace":{if(o==="length")r.length=t.value;else{const s=+o,i=lt(r[s],t.value,n,r);re(r,s,i)}break}default:throw m(`unsupported patch operation: ${t.op}`)}else switch(t.op){case"add":{const s=lt(void 0,t.value,n,r);re(r,o,s);break}case"remove":{mt(r,o);break}case"replace":{const s=lt(r[o],t.value,n,r);re(r,o,s);break}default:throw m(`unsupported patch operation: ${t.op}`)}}function ap(e,t){let n=qn(e);if(t.length===0)return{target:n};for(let r=0;r<=t.length-2;r++)n=qn(n[t[r]]);return{target:n,prop:t[t.length-1]}}function br(e,t,n){if(Uh()&&(Mh(e),hr())){const r=up(e);if(r){const o=r.typeCheck();o&&(fh(()=>{t?Ic.call(e,t.invPatches,!0):n&&Mc.call(e,n)}),o.throw())}}}function up(e){const t=gn(e);return e!==t&&(e=t,ce(e)&&Yt(e).dataType)?e:Fh(e,n=>ce(n)&&!!Yt(n).dataType)}function Rc(e,t,n){const r=e,o=r.length,s=fe(r)?r:R.array(void 0,mp);s!==r&&(s.length=r.length);let i,a;const u=()=>{i(),a()};Xt.set(s,u),xt(s,t,!1,!1,!1);const f=[];f.length=o;for(let c=0;c<o;c++){const l=r[c];if(oe(l))n||re(s,c,l),f[c]=l;else{const d={parent:s,path:c};let p;n?(p=l,xt(p,d,!1,!1,!1)):(p=De(l,d),re(s,c,p));const h=Be(p);f[c]=h.transformed}}return fi(s,f,void 0),i=jo(s,pp.bind(void 0,s)),a=ir(s,lp),s}function cp(e,t,n){n[e]=t}function fp(e,t,n,r){r.splice(e,t,...n)}const Wn=new Pc;function lp(e){const t=e.object,n=Be(t).untransformed;Wn.reset();let r;switch(e.type){case"splice":r=hp(e,n);break;case"update":r=dp(e,n);break}br(t,Wn),!Un&&r&&(li(t,r),Wn.emit(t))}function dp(e,t){const n=e.index,r=e.newValue,o=t[n];let s;oe(r)?s=r:s=Be(r).transformed;const i=cp.bind(void 0,n,s),a=[n];return Wn.record([{op:"replace",path:a,value:Oe(s)}],[{op:"replace",path:a,value:Oe(o)}]),i}function hp(e,t){const n=e.index,r=e.addedCount,o=e.removedCount,s=[];s.length=r;for(let c=0;c<r;c++){const l=e.added[c];oe(l)?s[c]=l:s[c]=Be(l).transformed}const i=t.length,a=fp.bind(void 0,n,o,s),u=[],f=[];if(r===o){const c=[],l=[];let d=0;for(let p=0;p<r;p++){const h=n+p,y=ya(t,h,n,o,s),x=t[h];if(y!==x){const O=[h-d];u.push({op:"remove",path:O}),f.push({op:"remove",path:O}),d++;const g=[h];c.push({op:"add",path:g,value:Oe(y)}),l.push({op:"add",path:g,value:Oe(x)})}}u.push(...c),f.push(...l),f.reverse()}else{const c=i-o;if(o>0){const l=n>=c;l&&u.push({op:"replace",path:["length"],value:c});for(let d=o-1;d>=0;d--){const p=n+d,h=[p];l||u.push({op:"remove",path:h}),f.push({op:"add",path:h,value:Oe(t[p])})}}if(r>0){const l=n>=c;l&&f.push({op:"replace",path:["length"],value:c});for(let d=0;d<r;d++){const p=n+d,h=[p];u.push({op:"add",path:h,value:Oe(ya(t,p,n,o,s))}),l||f.push({op:"remove",path:h})}}}return Wn.record(u,f),a}function pp(e,t){switch(gc(),t.type){case"splice":vp(t);break;case"update":bp(t,e);break}return t}function bp(e,t){const n=t[e.index];De(n,void 0),e.newValue=De(e.newValue,{parent:t,path:e.index})}function vp(e){for(let r=0;r<e.removedCount;r++){const o=e.object[e.index+r];De(o,void 0)}for(let r=0;r<e.added.length;r++)e.added[r]=De(e.added[r],{parent:e.object,path:e.index+r});const t=e.index+e.removedCount,n=e.index+e.added.length;if(t!==n)for(let r=t,o=n;r<e.object.length;r++,o++)xt(e.object[r],{parent:e.object,path:o},!0,!1,!1)}function gp(){Vo(pr.Array,(e,t)=>{if(me(e))return Rc(e,t,!1)})}const mp={deep:!1};function ya(e,t,n,r,o){const s=t-n;return s<0?e[t]:s<o.length?o[s]:e[t-o.length+r]}function _p(e,t){const n=R.array([],vi),r=e.length;for(let o=0;o<r;o++)n.push(No(e[o],t));return Rc(n,void 0,!0)}function yp(){Do(Pt.Array,(e,t)=>{if(me(e))return _p(e,t)})}function wp(){Do(Pt.Frozen,e=>{if(pi(e))return Tc(e.data)})}function xp(e,t){const n=e[L];if(!n)throw m(`a model snapshot must contain a type key (${L}), but none was found`);const r=lr(n);if(!r)throw m(`model with name "${n}" not found in the registry`);const o=Qt(r.class);if(o&&e[o]===void 0)throw m(`a model snapshot of type '${n}' must contain an id key (${o}), but none was found`);return new r.class(void 0,{snapshotInitialData:{unprocessedSnapshot:e,unprocessedModelType:typeof t.untypedSnapshot=="object"&&t.untypedSnapshot&&L in t.untypedSnapshot?t.untypedSnapshot[L]:void 0,snapshotToInitialData:t.snapshotToInitialData},generateNewIds:t.options.generateNewIds})}function Op(){Do(Pt.Model,(e,t)=>{if(Bo(e))return xp(e,t)})}function bi(e,t,n,r,o){const s=e,i=K(s)?s:R.object({},void 0,Sp);let a,u;const f=()=>{a(),u()};Xt.set(i,f),xt(i,t,!1,o,!1);const c={},l=Object.keys(s),d=l.length;for(let h=0;h<d;h++){const y=l[h],x=s[y];if(oe(x))r||re(i,y,x),c[y]=x;else{const O={parent:i,path:y};let g;r?(g=x,xt(g,O,!1,!1,!1)):(g=De(x,O),re(i,y,g));const b=Be(g);c[y]=b.transformed}}let p;if(n){c[L]=n;const h=lr(n);if(!h)throw m(`model with name "${n}" not found in the registry`);const y=h.class.toSnapshotProcessor;y&&(p=x=>y(x,gn(i)))}return fi(o?gn(i):i,c,p),a=jo(i,Ep),u=ir(i,jp),i}const Sp={deep:!1};function Ap(e,t,n){n[e]=t}function Pp(e,t){delete t[e]}const hn=new Pc;function jp(e){const t=e.object,n=gn(t),r=Be(n).untransformed;hn.reset();let o;switch(e.type){case"add":case"update":o=Tp(e,r);break;case"remove":o=Cp(e,r);break;default:throw m("assertion error: unsupported object change type")}br(t,hn),Un||(li(n,o),hn.emit(n))}function Cp(e,t){const n=e.name,r=t[n],o=Pp.bind(void 0,n),s=[n];return hn.record([{op:"remove",path:s}],[{op:"add",path:s,value:Oe(r)}]),o}function Tp(e,t){const n=e.name,r=e.newValue,o=t[n];let s;oe(r)?s=r:s=Be(r).transformed;const i=Ap.bind(void 0,n,s),a=[n];return e.type==="add"?hn.record([{op:"add",path:a,value:Oe(s)}],[{op:"remove",path:a}]):hn.record([{op:"replace",path:a,value:Oe(s)}],[{op:"replace",path:a,value:Oe(o)}]),i}function Ep(e){if(gc(),typeof e.name=="symbol")throw m("symbol properties are not supported");switch(e.type){case"add":e.newValue=De(e.newValue,{parent:e.object,path:String(e.name)});break;case"remove":{De(e.object[e.name],void 0);break}case"update":{const t=e.object[e.name],n=e.newValue;n!==t&&(De(t,void 0),e.newValue=De(n,{parent:e.object,path:String(e.name)}));break}default:throw m("assertion error: unsupported object change type")}return e}function $p(){Vo(pr.PlainObject,(e,t)=>{if(K(e)||rt(e))return bi(e,t,void 0,!1,!1)})}function Mp(e,t){const n=R.object({},void 0,vi),r=Object.keys(e),o=r.length;for(let s=0;s<o;s++){const i=r[s],a=e[i];St(n,i,No(a,t))}return bi(n,void 0,void 0,!0,!1)}function Ip(){Do(Pt.PlainObject,(e,t)=>{if(rt(e))return Mp(e,t)})}let wa=!1;function Rp(){wa||(wa=!0,yp(),wp(),Op(),Ip())}const ao=[];function Do(e,t){ao.push({priority:e,snapshotter:t}),ao.sort((n,r)=>n.priority-r.priority)}function Wt(e,t,n){let r,o,s;if(ui(e)||e instanceof _e||vr(e)){const i=ae(e);o=t,r=i.fromSnapshotProcessor(o),s=n}else r=e,o=r,s=t;return kp(r,o,s)}const kp=S("fromSnapshot",(e,t,n)=>{const o={options:{generateNewIds:!1,overrideRootModelId:void 0,...n},untypedSnapshot:t};return o.snapshotToInitialData=Dp.bind(void 0,o),No(e,o)});function No(e,t){if(oe(e))return e;Rp();const n=ao.length;for(let r=0;r<n;r++){const{snapshotter:o}=ao[r],s=o(e,t);if(s!==void 0)return s}throw $o(e)?m("a snapshot must not contain maps"):Mo(e)?m("a snapshot must not contain sets"):m(`unsupported snapshot - ${e}`)}function Dp(e,t){const n=R.object({},void 0,vi),r=Object.keys(t),o=r.length;for(let s=0;s<o;s++){const i=r[s];if(!rc(i)){const a=t[i];St(n,i,No(a,e))}}return n}const vi={deep:!1};function Np(e,t){se(e,"node");const n={generateNewIds:!0,...t},r=ge(e);return Wt(r,n)}const xt=S("setParent",(e,t,n,r,o)=>{if(oe(e))return e;let s=at(e,!1);if(ih(s,t))return e;if(es(e))throw m("root stores cannot be attached to any parents");if(r)return Cn.set(e,t.parent),e;if(t){const c=gn(t.parent);t.parent!==c&&(t={parent:c,path:t.path})}if(o&&t?.parent&&s?.parent&&ce(e)&&Yt(e).valueType&&(e=Np(e,{generateNewIds:!0}),s=at(e,!1)),s&&t){if(s.parent===t.parent&&n)return Os.set(e,t),ua(e),e;throw m("an object cannot be assigned a new parent when it already has one")}const i=t?void 0:Up(e),a=e instanceof yn;let u,f;if(a&&(u=co(e,!1),f=es(u)?u:void 0),s?.parent&&yh(s.parent,e),Os.set(e,t),t?.parent&&_h(t.parent,e),ua(e),a){const c=co(e,!1),l=es(c)?c:void 0;f!==l&&(f||l)&&xh(()=>{f&&Oc(e),l&&xc(l,e)})}return i?.(),e});function gi(e,t){const n=ae(e);return n.unchecked?null:n.check(t,[],t)}function Vp(e,t){return Xt.set(e,void 0),xt(e,t,!1,!1,!1),fi(e,{[Cc]:!0,data:e.data},void 0,!0),e}function Lp(){Vo(pr.Frozen,(e,t)=>{if(e instanceof hi)return Vp(e,t)})}function kc(e,t){return Xt.set(e,void 0),xt(e,t,!1,!1,!0),e}function Bp(){Vo(pr.Model,(e,t)=>{if(ce(e))return kc(e,t)})}let xa=!1;function zp(){xa||(xa=!0,gp(),Lp(),Bp(),$p())}function Fp(e,t){let n,r,o;if(arguments.length===1?(o=!1,n=e):(r=e,o=!0,n=t),!Ne(n))throw m("only objects can be turned into tree nodes");if(o&&hr()){const s=gi(r,n);s&&s.throw()}return yt(n,!0)?n:De(n,void 0)}const uo=[];function Vo(e,t){uo.push({priority:e,tweaker:t}),uo.sort((n,r)=>n.priority-r.priority)}function Gp(e,t){if(oe(e))return e;if(yt(e,!0))return e=xt(e,t,!1,!1,!0),e;if(mi(e))throw m("data models are not directly supported. you may insert the data in the tree instead ('$' property).");zp();const n=uo.length;for(let r=0;r<n;r++){const{tweaker:o}=uo[r],s=o(e,t);if(s!==void 0)return s}throw $o(e)?m("maps are not directly supported. consider using 'ObjectMap' / 'asMap' instead."):Mo(e)?m("sets are not directly supported. consider using 'ArraySet' / 'asSet' instead."):m(`tweak can only work over models, observable objects/arrays, or primitives, but got ${e} instead`)}const De=S("tweak",Gp);function Up(e){if(oe(e))return;const t=Xt.get(e);if(!t)return;const n=Array.from(Ro(e).values());for(let r=0;r<n.length;r++)xt(n[r],void 0,!1,!1,!1);return()=>{t(),Xt.delete(e),kh(e)}}const Rs=Symbol("modelInitializers");function Wp(e){return e[Rs]}function Dc(e,t){const n=Wp(e);if(n){const r=n.length;for(let o=0;o<r;o++)n[o](t)}}const Kp=S("newModel",(e,t,n)=>{const{modelClass:r}=n,o=r,s=e;if(!Ce.get(o))throw m(`no model info for class ${o.name} could be found - did you forget to add the @model decorator?`);if(s.$=t,Dc(o,s),hr()&&Nc(o).dataType){const a=s.typeCheck();a&&a.throw()}return s}),qp=new WeakMap;ec=no;class ks{constructor(t){if(E(this,ec),E(this,"$"),!Ne(t))throw m("data models can only work over data objects");const{modelClass:n}=arguments[1],r=n;let o;if(Ss(t))o=t;else{if(!Ce.get(r))throw m(`no model info for class ${r.name} could be found - did you forget to add the @model decorator?`);const f=dr(r),c=Object.assign({},t),l=Object.keys(f);for(let d=0;d<l.length;d++){const p=l[d],h=f[p];let y=c[p],x=!1;h._transform&&(x=!0,y=h._transform.untransform(y,this,p)),y==null&&(h._defaultFn!==ne?(x=!0,y=h._defaultFn()):h._defaultValue!==ne&&(x=!0,y=h._defaultValue)),x&&(c[p]=y)}o=Fp(c)}const s=Ze(qp,r,()=>new WeakMap),i=s.get(o);if(i)return i;s.set(o,this),Object.setPrototypeOf(this,r.prototype);const a=this;delete a[no],Kp(this,o,{modelClass:r})}typeCheck(){const t=_i(this.constructor);return gi(t,this.$)}toString(t){const n={withData:!0,...t},r=Ce.get(this.constructor),o=`${this.constructor.name}#${r.name}`;return n.withData?`[${o} ${JSON.stringify(ge(this))}]`:`[${o}]`}}function mi(e){return e instanceof ks}function _n(e){return!(typeof e!="function"||e!==ks&&!(e.prototype instanceof ks))}function Nc(e){if(mi(e))return e.constructor[Zn];if(_n(e))return e[Zn];throw m("modelClassOrInstance must be a model class or instance")}function nn(e){const n=rn(e).typeInfo;if(!n)throw m(`type info not found for ${e}`);return n}const Oa=new WeakMap;function _i(e){if(!_n(e)&&typeof e=="function"){const t=e;return wt(()=>_i(t()),r=>new Sa(r,t()))}else{const t=e,n=Oa.get(t);if(n)return n;const r=s=>new Sa(s,t),o=wt(()=>{const s=Ce.get(t),i=`DataModelData(${s.name})`,a=Nc(t).dataType;if(!a)throw m(`type checking cannot be performed over data model data of type '${s.name}' since that model type has no data type declared, consider adding a data type or using types.unchecked() instead`);const u=ae(a),f=new _e(Ee.Object,(c,l,d)=>u.check(c,l,d),()=>i,r,c=>u.snapshotType(c)?f:null,c=>u.fromSnapshotProcessor(c),c=>u.toSnapshotProcessor(c));return f},r);return Oa.set(t,o),o}}class Sa extends Le{constructor(t,n){super(t),E(this,"_props",At(()=>{const r=dr(this.modelClass),o={};return Object.keys(r).forEach(s=>{const i=r[s],a=i._typeChecker;let u;a&&(u=nn(a));let f=!1,c;i._defaultFn!==ne?(c=i._defaultFn,f=!0):i._defaultValue!==ne&&(c=i._defaultValue,f=!0),o[s]={type:a,typeInfo:u,hasDefault:f,default:c}}),o})),this.modelClass=n}get props(){return this._props()}get modelType(){return Ce.get(this.modelClass).name}}function Zp(){xi(e=>_n(e)?_i(e):void 0)}const Aa=new WeakMap;function yi(e){if(!vr(e)&&typeof e=="function"){const t=e;return wt(()=>yi(t()),r=>new Pa(r,t()))}else{const t=e,n=Aa.get(t);if(n)return n;const r=s=>new Pa(s,t),o=wt(()=>{const s=Ce.get(t),i=`Model(${s.name})`,a=Yt(t).dataType,u=a?ae(a):void 0,f=new _e(Ee.Object,(c,l,d)=>c instanceof t?u?u.check(c.$,l,d):null:new Ve(l,i,c,d),()=>i,r,c=>Ne(c)?c[L]!==void 0?c[L]===s.name?f:null:u&&u.snapshotType(c)?f:null:null,c=>c[L]?c:{...c,[L]:s.name},c=>c);return f},r);return Aa.set(t,o),o}}class Pa extends Le{constructor(t,n){super(t),E(this,"_props",At(()=>{const r=dr(this.modelClass),o={};return Object.keys(r).forEach(s=>{const i=r[s],a=i._typeChecker;let u;a&&(u=nn(a));let f=!1,c;i._defaultFn!==ne?(c=i._defaultFn,f=!0):i._defaultValue!==ne&&(c=i._defaultValue,f=!0),o[s]={type:a,typeInfo:u,hasDefault:f,default:c}}),o})),this.modelClass=n}get props(){return this._props()}get modelType(){return Ce.get(this.modelClass).name}}function Jp(){xi(e=>vr(e)?yi(e):void 0)}const En=[];function Vc(e){rh(e,"literal");let t;switch(e){case void 0:t="undefined";break;case null:t="null";break;default:t=JSON.stringify(e);break}const n=o=>new Hp(o,e),r=new _e(Ee.Primitive,(o,s,i)=>o===e?null:new Ve(s,t,o,i),()=>t,n,o=>o===e?r:null,qe,qe);return r}class Hp extends Le{constructor(t,n){super(t),this.literal=n}}const Lc=Vc(void 0);En.push(e=>e===void 0?Lc:void 0);const Bc=Vc(null);En.push(e=>e===null?Bc:void 0);const wi=new _e(Ee.Primitive,(e,t,n)=>typeof e=="boolean"?null:new Ve(t,"boolean",e,n),()=>"boolean",e=>new Xp(e),e=>typeof e=="boolean"?wi:null,qe,qe);En.push(e=>e===Boolean?wi:void 0);class Xp extends Le{}const Lo=new _e(Ee.Primitive,(e,t,n)=>typeof e=="number"?null:new Ve(t,"number",e,n),()=>"number",e=>new Yp(e),e=>typeof e=="number"?Lo:null,qe,qe);En.push(e=>e===Number?Lo:void 0);class Yp extends Le{}const $n=new _e(Ee.Primitive,(e,t,n)=>typeof e=="string"?null:new Ve(t,"string",e,n),()=>"string",e=>new Qp(e),e=>typeof e=="string"?$n:null,qe,qe);En.push(e=>e===String?$n:void 0);class Qp extends Le{}function e0(){En.forEach(e=>{xi(e)})}let ja=!1;function t0(){ja||(ja=!0,Jp(),Zp(),e0())}const zc=[];function xi(e){zc.push(e)}function Fc(e){t0();for(const t of zc){const n=t(e);if(n)return n}}function ae(e){let t=e;for(;;){if(t instanceof _e)return t;if(ui(t))t=t();else{const n=Fc(e);if(n)return ae(n);throw m("type checker could not be resolved")}}}function Gc(e){if(e instanceof _e||ui(e))return e;{const t=Fc(e);return t||void 0}}function rn(e){const t=Gc(e);if(t)return t;throw m("standard type could not be resolved")}function ge(e,t){let n=qe,r;if(arguments.length>=2?(n=ae(e).toSnapshotProcessor,r=t):r=e,oe(r))return n(r);se(r,"nodeOrPrimitive");const o=Be(r);if(!o)throw m("getSnapshot is not supported for this kind of object");return Oe(o.transformed),Dh(o),n(o.transformed)}const n0=S("newModel",(e,t,n)=>{const{modelInfo:r,modelIdPropertyName:o,modelProps:s,modelIdPropData:i}=Uc(n);if(o&&i){let f;t[o]?f=t[o]:f=i._defaultFn(),re(t,o,f)}const a=e;a[L]=r.name;const u=Object.keys(s);for(let f=0;f<u.length;f++){const c=u[f];if(c===o)continue;const l=s[c];let p=t[c],h=!1;if(l._transform&&(h=!0,p=l._transform.untransform(p,a,c)),p==null){const y=Jn(l);y!==ne?(h=!0,p=y):c in t||(h=!0)}h&&St(t,c,p)}if(Wc(a,t,n),hr()&&Yt(n).dataType){const f=a.typeCheck();f&&f.throw()}}),r0=S("fromSnapshotModel",(e,t,n,r)=>{const{modelInfo:o,modelIdPropertyName:s,modelProps:i,modelIdPropData:a}=Uc(n);let u,f=t.unprocessedSnapshot;a&&s&&(r?u=a._defaultFn():u=f[s]),n.fromSnapshotProcessor&&(f=n.fromSnapshotProcessor(f));const c=t.snapshotToInitialData(f),l=e;l[L]=o.name;const d=[],p=[];if(s){const O=c[s];if(zh(c,s,u)){const b=[s];d.push(un(b,O,u)),p.push(un(b,u,O))}}const h=Object.keys(i);for(let O=0;O<h.length;O++){const g=h[O];if(g===s)continue;const b=i[g],w=c[g];let j=w,$=!1;if(j==null){const B=Jn(b);B!==ne?($=!0,j=B):g in c||($=!0)}if($&&(St(c,g,j),j!==w)){const B=[g];d.push(un(B,w,j)),p.push(un(B,j,w))}}const y=t?.unprocessedModelType,x=o.name;if(y!==x){const O=[L];d.push(un(O,y,x)),p.push(un(O,x,y))}if(Wc(l,c,n),jc(l,d,p),hr()&&Yt(n).dataType){const O=l.typeCheck();O&&O.throw()}});function Uc(e){const t=Ce.get(e);if(!t)throw m(`no model info for class ${e.name} could be found - did you forget to add the @model decorator?`);const n=Qt(e),r=dr(e),o=n?r[n]:void 0;return{modelInfo:t,modelIdPropertyName:n,modelProps:r,modelIdPropData:o}}function Wc(e,t,n){kc(e,void 0),e.$=bi(t,{parent:e,path:"$"},e[L],!1,!0),Dc(n,e)}const Ca=Symbol("modelIdPropertyName");class yn{constructor(t){E(this,Qi),E(this,Yi),E(this,Xi),E(this,Hi),E(this,Ji),E(this,"$");const n=t,{snapshotInitialData:r,modelClass:o,generateNewIds:s}=arguments[1];Object.setPrototypeOf(this,o.prototype);const i=this;delete i[no],delete i[ia],delete i[aa],delete i[Ca],r?r0(this,r,o,!!s):(jn(n,"initialData"),n0(this,R.object(n,void 0,{deep:!1}),o))}get[(Qi=no,Yi=ia,Xi=aa,Hi=Ca,Ji=L,je)](){const t=Qt(this.constructor);return t?this.$[t]:void 0}set[je](t){const n=Qt(this.constructor);if(!n)throw m("$modelId cannot be set when there is no idProp set in the model");this.$[n]=t}getRefId(){return this[je]}typeCheck(){const t=yi(this.constructor);return gi(t,this)}toString(t){const n={withData:!0,...t},r=`${this.constructor.name}#${this[L]}`;return n.withData?`[${r} ${JSON.stringify(ge(this))}]`:`[${r}]`}}const o0=new Set([L,je,"onInit","$","getRefId","onAttachedToRootStore","typeCheck"]);function ce(e){return e instanceof yn}function vr(e){return!(typeof e!="function"||e!==yn&&!(e.prototype instanceof yn))}function Bo(e){return rt(e)&&L in e}function at(e,t){return t&&uh(e),Os.get(e)}function Kc(e,t){const n=Cn.get(e);if(n)return{parent:n,path:"$"};const r=at(e,t);return r&&ce(r.parent)?{parent:r.parent.$,path:r.path}:r}function Hn(e,t){var n;return(n=at(e,t))==null?void 0:n.parent}function s0(e,t){var n;return(n=Kc(e,t))==null?void 0:n.parent}function i0(e,t){let n=e;const r=[],o=[e];let s;for(;s=at(n,t);)n=s.parent,r.unshift(s.path),o.unshift(s.parent);return{root:n,path:r,pathObjects:o}}function co(e,t){let n=e,r;for(;r=at(n,t);)n=r.parent;return n}function a0(e){return se(e,"value"),!Hn(e,!0)}const ns={resolved:!1};function rs(e,t){let n=e;const r=t.length;for(let o=0;o<r;o++){if(!Ne(n))return ns;const s=t[o];if(me(n)&&+s>=n.length)return ns;if(ce(n)){const i=qn(n);if(s in i)n=i;else if(!(s in n))return ns}n=n[s]}return{resolved:!0,value:n}}const qc=Symbol("skipIdChecking");function os(e,t,n){var r;let o=qn(e);const s=t.length;for(let i=0;i<s;i++){if(!Ne(o))return{resolved:!1};const a=t[i];if(me(o)&&+a>=o.length)return{resolved:!1};const u=o[a];o=qn(u);const f=n[i];if(f!==qc){const c=ce(u)&&(r=u[je])!=null?r:null;if(f!==c)return{resolved:!1}}}return{resolved:!0,value:gn(o)}}const u0=new WeakMap;function c0(e){const t=[];let n=e;for(;n;){const r=u0.get(n);r&&r.length>0&&t.push(r),n=Hn(n,!1)}return t}function on({nameOrNameFn:e,fn:t,actionType:n,overrideContext:r,isFlowFinisher:o=!1}){let s=!1;const i=function(...a){const u=typeof e=="function"?e():e;s||(s=!0,t=S(u,t));const f=Eo(),c={actionName:u,type:n,target:this,args:a,parentContext:f,data:{},rootContext:void 0};r&&r(c,this),c.rootContext||(c.previousAsyncStepContext?c.rootContext=c.previousAsyncStepContext.rootContext:c.parentContext?c.rootContext=c.parentContext.rootContext:c.rootContext=c),oa(c);const l=c0(c.target);let d=l.length-1,p=0;const h=()=>{const y=l[d];if(!y)return t.apply(this,a);const x=y[p];return p++,p>=y.length&&(p=0,d--),(x.filter?x.filter(c):!0)?x.middleware(c,h):h()};try{const y=h();if(o){const x=y,O=x.value;return x.resolution==="accept"?x.accepter(O):x.rejecter(O),O}else return y}finally{oa(c.parentContext),Oh()}};return i[nc]=!0,i}function Ds(e,t,n){const r=e[t];if(ti(r))return;const o=on({nameOrNameFn:n,fn:r,actionType:Lt.Sync}),s=Object.getPrototypeOf(e);s[t]===r?s[t]=o:e[t]=o}const ss=Symbol("unboundMethod"),Ta=(e,t)=>{const n=ss in e?e[ss]:e,r=n.bind(t);return Object.getOwnPropertySymbols(n).forEach(o=>{r[o]=n[o]}),r[ss]=n,r};function f0(e,t,n){if(typeof t[1]!="object"){const r=t[0],o=t[1],s=t[2],i=is(r,o,!0),a=()=>{uc(r,ac,u=>{const f=n(i,u[o]);u[o]=Ta(f,u)})};if(s){if(s.get!==void 0)throw m(`@${e} cannot be used with getters`);if(s.value)return{enumerable:!1,writable:!0,configurable:!0,value:n(i,s.value)};a()}else a()}else{const r=t[1];switch(r.kind){case"method":{const o=t[0],s=r.name;let i=!1;r.addInitializer(function(){if(i)return;i=!0;const a=this;let u=this,f=Object.getPrototypeOf(u);for(;f&&f[s]===o;)u=f,f=Object.getPrototypeOf(u);u[s]=n(is(a,s,!1),u[s])});break}case"field":{const o=r.name;let s;return function(i){const a=this;s||(s=is(a,o,!1));const u=n(s,i);return Ta(u,a)}}default:throw m(`@${e} can only be used on fields or methods}`)}}}const l0=(e,t)=>{e.target=t.$};function is(e,t,n){if(_n(e)||mi(e)){const r=_n(e)?e:e.constructor;let o;const s=i=>{const a=Ce.get(i);o=`fn::${a.name}::${t}`,th(o,a.class,t)};return n?uc(r,As,s):s(r),{actionName:()=>o,overrideContext:l0}}else return{actionName:t,overrideContext:void 0}}const d0=Symbol("modelFlow");function h0(e){return typeof e=="function"&&d0 in e}const Ea=new Map;function p0(e,t,n){if(ic(t,e),Ea.has(e)&&cc("warn",`an standalone action with name "${e}" already exists (if you are using hot-reloading you may safely ignore this warning)`,`duplicateActionName - ${e}`),ti(t))throw m("the standalone action must not be previously marked as an action");if(h0(t))throw m("the standalone action must not be previously marked as a flow action");const r=on({nameOrNameFn:e,fn:t,actionType:Lt.Sync}),o=(s,...i)=>(ch(s,"target"),r.call(s,s,...i));return Ea.set(e,o),o}function Zc(e,t,n){se(e,"node",!0),v0().call(e,t,n)}function b0(e,t){!ce(this)&&st(this)?re(this,e,t):this[e]=t}const v0=At(()=>on({nameOrNameFn:cr.ApplySet,fn:b0,actionType:Lt.Sync}));function ze(...e){return f0("modelAction",e,(t,n)=>{if(ti(n))return n;if(typeof n!="function")throw m("modelAction has to be used over functions");return on({nameOrNameFn:t.actionName,fn:n,actionType:Lt.Sync,overrideContext:t.overrideContext})})}function g0(e,t){var n;const r=[];let o=e;for(let s=0;s<t.length;s++){o=o[t[s]];const i=ce(o)&&(n=o[je])!=null?n:null;r.push(i)}return r}function m0(e,t,n){return ic(e,"objFn"),wt(()=>{const r=e();jn(r,"objectSchema");const o=Object.entries(r),s=(...u)=>{const f=[];for(const[c,l]of o){const d=ae(l);let p="...";u.includes(d)||(p=d.getTypeName(...u,d)),f.push(`${c}: ${p};`)}return`{ ${f.join(" ")} }`},i=(u,f)=>{const c={},l=Object.keys(u);for(let d=0;d<l.length;d++){const p=l[d],h=r[p];if(h){const y=ae(h);c[p]=f==="from"?y.fromSnapshotProcessor(u[p]):y.toSnapshotProcessor(u[p])}else c[p]=u[p]}return c},a=new _e(Ee.Object,(u,f,c)=>{if(!Ne(u)||t)return new Ve(f,s(a),u,c);for(const[l,d]of o){const p=ae(d),h=u[l],y=p.check(h,[...f,l],c);if(y)return y}return null},s,n,u=>{if(!Ne(u))return null;for(const[f,c]of o){const l=ae(c),d=u[f];if(!l.snapshotType(d))return null}return a},u=>i(u,"from"),u=>i(u,"to"));return a},n)}function _0(e){return m0(e,!1,n=>new y0(n,e))}class y0 extends Le{constructor(t,n){super(t),E(this,"_props",At(()=>{const r=this._objTypeFn(),o={};return Object.keys(r).forEach(s=>{const i=rn(r[s]);o[s]={type:i,typeInfo:nn(i)}}),o})),this._objTypeFn=n}get props(){return this._props()}}const Jc=new _e(Ee.Any,null,()=>"any",e=>new w0(e),()=>Jc,qe,qe);function wn(){return Jc}class w0 extends Le{}function x0(e,...t){const n=t.slice();let r;const o=Gc(e);if(o)n.unshift(o);else{const i=e;r=a=>{const u=i(a);return ae(u)}}if(n.length<=0)throw m("or type must have at least 1 possible type");const s=i=>new O0(i,n.map(rn));return wt(()=>{const i=n.map(ae);if(i.some(c=>c.unchecked))return wn();const a=(...c)=>i.map(d=>c.includes(d)?"...":d.getTypeName(...c,d)).join(" | ");let u;i.some(c=>c.baseType!==i[0].baseType)?u=Ee.Any:u=i[0].baseType;const f=new _e(u,(c,l,d)=>i.some(h=>!h.check(c,l,d))?null:new Ve(l,a(f),c,d),a,s,c=>{const l=$h(c),d=i.filter(p=>p.baseType===l||p.baseType===Ee.Any);if(d.length===1&&d[0].baseType===l)return d[0];for(let p=0;p<d.length;p++){const h=d[p].snapshotType(c);if(h)return h}return null},c=>{const l=r?r(c):f.snapshotType(c);if(!l)throw m(`snapshot '${JSON.stringify(c)}' does not match the following type: ${a(f)}`);return l.fromSnapshotProcessor(c)},c=>{const l=r?r(c):f.snapshotType(c);if(!l)throw m(`snapshot '${JSON.stringify(c)}' does not match the following type: ${a(f)}`);return l.toSnapshotProcessor(c)});return f},s)}class O0 extends Le{constructor(t,n){super(t),E(this,"_orTypeInfos",At(()=>this.orTypes.map(nn))),this.orTypes=n}get orTypeInfos(){return this._orTypeInfos()}}const S0=Symbol("noDefaultValue"),$a=new WeakMap;function A0(e,t,n){let r=$a.get(e);r||(r=new Map,$a.set(e,r));let o=r.get(t);return o||(o=n(),r.set(t,o)),o}function vt(e,t){switch(typeof e){case"string":return vt($n,e);case"number":return vt(Lo,e);case"boolean":return vt(wi,e)}const n=arguments.length>=2,r=rn(e);return A0(r,n?t:S0,()=>{const o=n?x0(r,Lc,Bc):r,s=Object.create(n?Ps(t):Ps());return Object.assign(s,{_typeChecker:r,_fromSnapshotProcessor:P0.bind(void 0,o),_toSnapshotProcessor:j0.bind(void 0,r)}),s})}function P0(e,t){const n=ae(e).fromSnapshotProcessor;return n?n(t):t}function j0(e,t){const n=ae(e).toSnapshotProcessor;return n?n(t):t}function Ma(...e){const t=e.filter(r=>!!r);return t.length<=0?void 0:(r,...o)=>{let s=r;for(let i=0;i<t.length;i++)s=t[i](s,...o);return s}}function C0(e,t){var n;const r=(n=e._transform)==null?void 0:n.transform;if(!r)return function(){return this.$[t]};const o=(s,i)=>r(i,s,t,a=>{Zc(s.$,t,a)});return function(){const s=this.$[t];return o(this,s)}}const Hc=(e,t,n,r)=>{if(e._setter==="assign"&&!Eo()){Zc(n,t,r);return}let o=e._transform?e._transform.untransform(r,n,t):r;if(o==null){const s=Jn(e);s!==ne&&(o=s)}n.$[t]=o},T0=(e,t,n,r)=>n[ri]?(Hc(e,t,n,r),!0):!1,Xc=()=>Io().modelIdGenerator(),Yc=vt($n,Xc);Yc._isId=!0;const Qc=Ps(Xc);Qc._isId=!0;function E0({modelProps:e,baseModel:t,type:n,valueType:r,fromSnapshotProcessor:o,toSnapshotProcessor:s}){jn(e,"modelProps"),e=Object.assign(Object.create(null),e);const i=e,a=Object.keys(i).filter(b=>i[b]._isId);if(a.length>1)throw m(`expected at most one idProp but got many: ${JSON.stringify(a)}`);const u=Object.values(i).some(b=>!!b._typeChecker);let f;if(a.length>0){f=a[0];const b=i[f];let w=u?Yc:Qc;switch(b._setter){case!0:w=w.withSetter();break;case"assign":w=w.withSetter("assign");break}i[f]=w}let c;if(u){const b={};for(const[w,j]of Object.entries(i))b[w]=j._typeChecker?j._typeChecker:wn();c=_0(()=>b)}const l=yn,d=o0;let p;function h(b,w){var j;const $=(j=w?.modelClass)!=null?j:this.constructor,B=new l(b,{...w,modelClass:$});return oc(B,ri,!1,!0),p||(p=Object.keys(e).filter(pe=>!d.has(pe)&&Object.hasOwn(B,pe))),p.forEach(pe=>{delete B[pe]}),B}Object.assign(h,l);const y=l[Rs];y&&(h[Rs]=y.slice()),lh(h,i);{const b={dataType:c,modelIdProperty:f,valueType:r};h[Zn]=b}h.prototype=Object.create(l.prototype),h.prototype.constructor=h;let x=(b,w,j,$)=>{T0(b,w,j,$)&&(x=Hc)};for(const[b,w]of Object.entries(e)){if(!d.has(b)){const j=C0(w,b);Object.defineProperty(h.prototype,b,{get:j,set($){x(w,b,this,$)},enumerable:!0,configurable:!1})}if(w._setter===!0){const j=sh(b);if(!d.has(j)){const $=ze(h.prototype,j,{value:function(B){this[b]=B},writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(h.prototype,j,$)}}}const O=$0(i),g=M0(i);return h.fromSnapshotProcessor=Ma(o,O),h.toSnapshotProcessor=Ma(g,s),h}function $0(e){const t=Object.entries(e).filter(([n,r])=>r._fromSnapshotProcessor);if(!(t.length<=0))return n=>{const r={...n};for(const[o,s]of t)s._fromSnapshotProcessor&&(r[o]=s._fromSnapshotProcessor(n[o]));return r}}function M0(e){const t=Object.entries(e).filter(([n,r])=>r._toSnapshotProcessor);if(!(t.length<=0))return n=>{const r={...n};for(const[o,s]of t)s._toSnapshotProcessor&&(r[o]=s._toSnapshotProcessor(n[o]));return r}}function zo(e,t){const n=typeof e=="function"?e():e;return I0(n,void 0)}function I0(e,t,n){var r;return E0({modelProps:e,baseModel:t,type:"class",valueType:(r=void 0)!=null?r:!1,fromSnapshotProcessor:void 0,toSnapshotProcessor:void 0})}const Fo=e=>(t,...n)=>{const r=typeof n[1]=="object"?n[1]:void 0;return k0(e,t,r?.addInitializer)},ef=new WeakMap,tf=(e,t)=>{eo(t,ac);const n=ef.get(e);if(n.needsMakeObservable)to.makeObservable(t);else if(n.needsMakeObservable===void 0)if(fc()>=6)try{to.makeObservable(t),n.needsMakeObservable=!0}catch(r){const o=r;if(o.message!=="[MobX] No annotations were passed to makeObservable, but no decorator members have been found either"&&o.message!=="[MobX] No annotations were passed to makeObservable, but no decorated members have been found either")throw o;n.needsMakeObservable=!1}else n.needsMakeObservable=!1;t[ri]=!0,eo(t,oh),n.type==="class"&&t.onInit&&(Ds(t,"onInit",mn.OnInit),t.onInit()),n.type==="data"&&t.onLazyInit&&(Ds(t,"onLazyInit",mn.OnLazyInit),t.onLazyInit())},R0={construct(e,t){const n=new e(...t);return tf(e,n),n}},k0=(e,t,n)=>{const r=vr(t)?"class":_n(t)?"data":void 0;if(!r)throw m("clazz must be a class that extends from Model/DataModel");if(Dr[e]&&Io().showDuplicateModelNameWarnings&&cc("warn",`a model with name "${e}" already exists (if you are using hot-reloading you may safely ignore this warning)`,`duplicateModelName - ${e}`),Yo in t&&t[Yo]===t)throw m("a class already decorated with `@model` cannot be re-decorated");if(t.toString=()=>`class ${t.name}#${e}`,r==="class"&&(t[L]=e),ef.set(t,{needsMakeObservable:void 0,type:r}),n){n(function(){tf(t,this)});const o={name:e,class:t};Dr[e]=o,Ce.set(t,o),eo(t,As);return}else{const o=new Proxy(t,R0);o.prototype.constructor=o,o[Yo]=t;const s={name:e,class:o};return Dr[e]=s,Ce.set(o,s),Ce.set(t,s),eo(t,As),o}};function Ns(e){const t=n=>new D0(n,rn(e));return wt(()=>{const n=ae(e),r=(...s)=>`Array<${n.getTypeName(...s,n)}>`,o=new _e(Ee.Array,(s,i,a)=>{if(!me(s))return new Ve(i,r(o),s,a);if(!n.unchecked)for(let u=0;u<s.length;u++){const f=n.check(s[u],[...i,u],a);if(f)return f}return null},r,t,s=>{if(!me(s))return null;if(!n.unchecked){for(let i=0;i<s.length;i++)if(!n.snapshotType(s[i]))return null}return o},s=>n.unchecked?s:s.map(i=>n.fromSnapshotProcessor(i)),s=>n.unchecked?s:s.map(i=>n.toSnapshotProcessor(i)));return o},t)}class D0 extends Le{constructor(t,n){super(t),this.itemType=n}get itemTypeInfo(){return nn(this.itemType)}}var N0=Object.defineProperty,V0=Object.getOwnPropertyDescriptor,he=(e,t,n,r)=>{for(var o=r>1?void 0:r?V0(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&N0(t,n,o),o};function fo(e,t){if(e.type==="single")return[e];{const n=[];for(const r of e.events)t?n.unshift(...fo(r,!0)):n.push(...fo(r,!1));return n}}let kt=class extends zo({undoEvents:vt(Ns(wn()),()=>[]),redoEvents:vt(Ns(wn()),()=>[])}){constructor(){super(...arguments),E(this,"_groupStack",[])}_clearUndo(){Gt(()=>{this.undoEvents.length=0})}_clearRedo(){Gt(()=>{this.redoEvents.length=0})}enforceMaxLevels({maxUndoLevels:e,maxRedoLevels:t}){if(e!==void 0)for(;this.undoEvents.length>e;)this.undoEvents.shift();if(t!==void 0)for(;this.redoEvents.length>t;)this.redoEvents.shift()}_undo({maxRedoLevels:e}){Gt(()=>{const t=this.undoEvents.pop();this.redoEvents.push(t),this.enforceMaxLevels({maxRedoLevels:e})})}_redo({maxUndoLevels:e}){Gt(()=>{const t=this.redoEvents.pop();this.undoEvents.push(t),this.enforceMaxLevels({maxUndoLevels:e})})}_addUndo({event:e,maxUndoLevels:t}){Gt(()=>{this.undoEvents.push(e),this.redoEvents.length=0,this.enforceMaxLevels({maxUndoLevels:t})})}_addUndoToParentGroup(e,t){e.events.push(t)}get _currentGroup(){return this._groupStack[this._groupStack.length-1]}_startGroup(e,t,n){var r;let o=!1,s=!1;const i=this._currentGroup,a={type:"group",groupName:e,events:[]},u=i||(r=n?.attachedState)==null?void 0:r.save(),f={pause:()=>{if(s)throw m("cannot pause a group when it is already ended");if(!o)throw m("cannot pause a group when it is not running");if(this._currentGroup!==a)throw m("group out of order");this._groupStack.pop(),o=!1},resume:()=>{if(s)throw m("cannot resume a group when it is already ended");if(o)throw m("cannot resume a group when it is already running");this._groupStack.push(a),o=!0},end:()=>{var c;o&&f.pause(),s=!0,i?this._addUndoToParentGroup(i,a):this._addUndo({event:{...a,attachedState:{beforeEvent:u,afterEvent:(c=n?.attachedState)==null?void 0:c.save()}},maxUndoLevels:n?.maxUndoLevels})}};return t&&f.resume(),f}};he([ze],kt.prototype,"_clearUndo",1);he([ze],kt.prototype,"_clearRedo",1);he([ze],kt.prototype,"_undo",1);he([ze],kt.prototype,"_redo",1);he([ze],kt.prototype,"_addUndo",1);kt=he([Fo(`${fr}/UndoStore`)],kt);class ut{constructor(t,n,r,o){E(this,"store"),E(this,"_isUndoRecordingDisabled",!1),this.disposer=t,this.subtreeRoot=n,this.options=o,fc()>=6&&to.makeObservable(this),this.store=r??new kt({})}get undoQueue(){return this.store.undoEvents}get redoQueue(){return this.store.redoEvents}get undoLevels(){return this.undoQueue.length}get canUndo(){return this.undoLevels>0}clearUndo(){this.store._clearUndo()}get redoLevels(){return this.redoQueue.length}get canRedo(){return this.redoLevels>0}clearRedo(){this.store._clearRedo()}undo(){var t;if(!this.canUndo)throw m("nothing to undo");const n=this.undoQueue[this.undoQueue.length-1];Gt(()=>{var r,o,s;fo(n,!0).forEach(i=>{io(this.subtreeRoot,i.inversePatches,!0)}),(r=n.attachedState)!=null&&r.beforeEvent&&((s=(o=this.options)==null?void 0:o.attachedState)==null||s.restore(n.attachedState.beforeEvent))}),this.store._undo({maxRedoLevels:(t=this.options)==null?void 0:t.maxRedoLevels})}redo(){var t;if(!this.canRedo)throw m("nothing to redo");const n=this.redoQueue[this.redoQueue.length-1];Gt(()=>{var r,o,s;fo(n,!1).forEach(i=>{io(this.subtreeRoot,i.patches)}),(r=n.attachedState)!=null&&r.afterEvent&&((s=(o=this.options)==null?void 0:o.attachedState)==null||s.restore(n.attachedState.afterEvent))}),this.store._redo({maxUndoLevels:(t=this.options)==null?void 0:t.maxUndoLevels})}dispose(){this.disposer()}get isUndoRecordingDisabled(){return this._isUndoRecordingDisabled}withoutUndo(t){const n=this._isUndoRecordingDisabled;this._isUndoRecordingDisabled=!0;try{return t()}finally{this._isUndoRecordingDisabled=n}}createGroup(t){const n=this.store._startGroup(t,!1,this.options);return{continue(r){n.resume();try{return r()}finally{n.pause()}},end(){n.end()}}}withGroup(t,n){let r,o;typeof t=="string"?(r=t,o=n):o=t;const s=this.store._startGroup(r,!0,this.options);try{return o()}finally{s.end()}}withGroupFlow(t,n){let r,o;typeof t=="string"?(r=t,o=n):o=t;const s=o(),i=this.store._startGroup(r,!1,this.options),a=s.next.bind(s),u=s.throw.bind(s);return new Promise((c,l)=>{function d(y){i.resume();let x;try{x=a(y)}catch(O){i.end(),l(O);return}i.pause(),h(x)}function p(y){i.resume();let x;try{x=u(y)}catch(O){i.end(),l(O);return}i.pause(),h(x)}function h(y){y&&typeof y.then=="function"?y.then(h,l):y.done?(i.end(),c(y.value)):Promise.resolve(y.value).then(d,p)}d(void 0)})}}he([W],ut.prototype,"undoQueue",1);he([W],ut.prototype,"redoQueue",1);he([W],ut.prototype,"undoLevels",1);he([W],ut.prototype,"canUndo",1);he([S],ut.prototype,"clearUndo",1);he([W],ut.prototype,"redoLevels",1);he([W],ut.prototype,"canRedo",1);he([S],ut.prototype,"clearRedo",1);he([S],ut.prototype,"undo",1);he([S],ut.prototype,"redo",1);let as=!1;function Gt(e){const t=as;as=!0;try{return e()}finally{as=t}}function us(e){return e.type==="value"?e.value:e.value.get()}const L0=()=>Ot("contextValue");class B0{constructor(t){E(this,"defaultContextValue",R.box(void 0,{deep:!1})),E(this,"overrideContextValue",R.box(void 0,{deep:!1})),E(this,"nodeContextValue",new WeakMap),E(this,"nodeAtom",new WeakMap),E(this,"setDefault",S(n=>{this.defaultContextValue.set({type:"value",value:n})})),E(this,"setDefaultComputed",S(n=>{this.defaultContextValue.set({type:"computed",value:W(n)})})),E(this,"set",S((n,r)=>{se(n,"node"),this.nodeContextValue.set(n,{type:"value",value:r}),this.reportNodeAtomChanged(n)})),E(this,"setComputed",S((n,r)=>{this._setComputed(n,W(r))})),E(this,"unset",S(n=>{se(n,"node"),this.nodeContextValue.delete(n),this.reportNodeAtomChanged(n)})),E(this,"apply",S((n,r)=>{const o=this.overrideContextValue.get();this.overrideContextValue.set({type:"value",value:r});try{const s=n();return yt(s,!0)&&this.set(s,r),s}finally{this.overrideContextValue.set(o)}})),E(this,"applyComputed",S((n,r)=>{const o=W(r),s=this.overrideContextValue.get();this.overrideContextValue.set({type:"computed",value:o});try{const i=n();return yt(i,!0)&&this._setComputed(i,o),i}finally{this.overrideContextValue.set(s)}})),this.setDefault(t)}reportNodeAtomObserved(t){Ze(this.nodeAtom,t,L0).reportObserved()}reportNodeAtomChanged(t){var n;(n=this.nodeAtom.get(t))==null||n.reportChanged()}fastGet(t,n){n&&this.reportNodeAtomObserved(t);const r=this.nodeContextValue.get(t);if(r)return us(r);const o=Hn(t,n);if(!o){const s=this.overrideContextValue.get();return s?us(s):this.getDefault()}return this.fastGet(o,n)}get(t){return se(t,"node"),this.fastGet(t,!0)}fastGetProviderNode(t,n){if(n&&this.reportNodeAtomObserved(t),this.nodeContextValue.get(t))return t;const o=Hn(t,n);if(o)return this.fastGetProviderNode(o,n)}getProviderNode(t){return se(t,"node"),this.fastGetProviderNode(t,!0)}getDefault(){return us(this.defaultContextValue.get())}_setComputed(t,n){se(t,"node"),this.nodeContextValue.set(t,{type:"computed",value:n}),this.reportNodeAtomChanged(t)}}function nf(e){return new B0(e)}nf(!1);var z0=Object.defineProperty,F0=Object.getOwnPropertyDescriptor,Oi=(e,t,n,r)=>{for(var o=F0(t,n),s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=i(t,n,o)||o);return o&&z0(t,n,o),o};class gr extends zo({id:vt($n)}){get maybeCurrent(){return this.resolve()}get isValid(){return!!this.maybeCurrent}get current(){const t=this.maybeCurrent;if(!t)throw m(`a reference of type '${this[L]}' could not resolve an object with id '${this.id}'`);return t}}Oi([W],gr.prototype,"maybeCurrent");Oi([W],gr.prototype,"isValid");Oi([W],gr.prototype,"current");var G0=Object.defineProperty,U0=Object.getOwnPropertyDescriptor,Ia=(e,t,n,r)=>{for(var o=r>1?void 0:r?U0(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&G0(t,n,o),o};const Ra=new WeakMap;function rf(e,t,n,r){let o=class extends gr{constructor(){super(...arguments),E(this,"resolver"),E(this,"savedOldTarget")}resolve(){return this.resolver||(this.resolver=t(this)),this.resolver(this)}internalForceUpdateBackRefs(a){const u=this.savedOldTarget;this.savedOldTarget=a,q0(this,i,a,u)}forceUpdateBackRefs(){this.internalForceUpdateBackRefs(this.maybeCurrent)}onInit(){let a,u=!0;Zs(()=>this.maybeCurrent,f=>{this.internalForceUpdateBackRefs(f);const c=a,l=u;a=f,u=!1,!l&&r&&f!==c&&r(this,f,c)},{fireImmediately:!0})}};Ia([S],o.prototype,"forceUpdateBackRefs",1),o=Ia([Fo(e)],o);const s=a=>{let u;if(typeof a=="string"?u=a:(jn(a,"target"),u=n(a)),typeof u!="string")throw m("ref target object must have an id of string type");return new o({id:u})};s.refClass=o;const i=s;return i}function Si(e){if(ce(e)){const t=e.getRefId();if(t!==void 0&&typeof t!="string")throw m("'getRefId()' must return a string or undefined when present");return t}}const W0=new WeakMap;function K0(e,t,n=Si){const o=Ze(W0,n,()=>Ph(s=>n(s))).walk(e);return o?o.get(t):void 0}function Cr(e,t){let n=Ra.get(e);if(n||(n={all:R.set(void 0,{deep:!1}),byType:new WeakMap},Ra.set(e,n)),t){let r=n.byType.get(t);return r||(r=R.set(void 0,{deep:!1}),n.byType.set(t,r)),r}else return n.all}const q0=S("updateBackRefs",(e,t,n,r)=>{n!==r&&(r&&(Cr(r).delete(e),Cr(r,t).delete(e)),n&&(Cr(n).add(e),Cr(n,t).add(e)))});bc({initData(){return{all:new Set,byType:new WeakMap}},addNode(e,t){e instanceof gr&&(t.all.add(e),Ze(t.byType,e.constructor,()=>new Set).add(e))}});S("customRef",(e,t)=>{var n;const r=(n=t.getId)!=null?n:Si;return rf(e,()=>t.resolve,r,t.onResolvedValueChange)});S("rootRef",(e,t)=>{var n;const r=(n=t?.getId)!=null?n:Si,o=t?.onResolvedValueChange;return rf(e,i=>{let a;return()=>{const u=co(i,!0);if(Z0(i,u,a,r))return a;const f=K0(u,i.id,r);return f&&(a=f),f}},r,o)});function Z0(e,t,n,r){return!(!n||e.id!==r(n)||t!==co(n,!0))}function Q(e,t){return p0(e,t)}function J0(e,...t){return e.splice(...t)}const ve=`${fr}/arrayActions`;Q(`${ve}::set`,(e,t,n)=>{re(e,t,n)}),Q(`${ve}::delete`,(e,t)=>mt(e,String(t))),Q(`${ve}::setLength`,(e,t)=>{e.length=t}),Q(`${ve}::concat`,(e,...t)=>e.concat(...t)),Q(`${ve}::copyWithin`,(e,t,n,r)=>e.copyWithin(t,n,r)),Q(`${ve}::fill`,(e,t,n,r)=>e.fill(t,n,r)),Q(`${ve}::pop`,e=>e.pop()),Q(`${ve}::push`,(e,...t)=>e.push(...t)),Q(`${ve}::reverse`,e=>e.reverse()),Q(`${ve}::shift`,e=>e.shift()),Q(`${ve}::slice`,(e,t,n)=>e.slice(t,n)),Q(`${ve}::sort`,(e,t)=>e.sort(t)),Q(`${ve}::splice`,J0),Q(`${ve}::unshift`,(e,...t)=>e.unshift(...t)),Q(`${ve}::swap`,(e,t,n)=>{if(t<0||n<0||t>=e.length||n>=e.length)return!1;n<t&&([t,n]=[n,t]);const[r]=e.splice(t,1),[o]=e.splice(n-1,1);return e.splice(t,0,o),e.splice(n,0,r),!0});const Tr=`${fr}/objectActions`;Q(`${Tr}::set`,(e,t,n)=>{st(e)?re(e,t,n):e[t]=n}),Q(`${Tr}::assign`,(e,t)=>{jn(t,"partialObject");const n=Object.keys(t);if(st(e))for(const r of n){const o=t[r];re(e,r,o)}else for(const r of n)e[r]=t[r]}),Q(`${Tr}::delete`,(e,t)=>mt(e,t)),Q(`${Tr}::call`,(e,t,...n)=>e[t](...n));S(e=>{const t=Pe(()=>xo(()=>{const o=R.map(),s=Object.keys(e);for(let i=0;i<s.length;i++){const a=s[i];o.set(a,e[a])}return o}));t.dataObject=e;let n=!1,r=!1;return ir(e,S(o=>{if(!n){r=!0;try{switch(o.type){case"add":case"update":{t.set(o.name,o.newValue);break}case"remove":{t.delete(o.name);break}default:throw m("assertion error: unsupported object change type")}}finally{r=!1}}})),jo(t,S(o=>{if(n)return null;if(r)return o;n=!0;try{switch(o.type){case"add":case"update":{re(e,o.name,o.newValue);break}case"delete":{mt(e,o.name);break}default:throw m("assertion error: unsupported map change type")}return o}finally{n=!1}})),t});var H0=Object.defineProperty,X0=Object.getOwnPropertyDescriptor,Mn=(e,t,n,r)=>{for(var o=X0(t,n),s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=i(t,n,o)||o);return o&&H0(t,n,o),o};class In{constructor(t){E(this,"data"),E(this,"originalData"),se(t,"original"),this.originalData=t,this.data=Wt(this.originalSnapshot,{generateNewIds:!1})}commit(){ma(this.originalData,ge(this.data))}commitByPath(t){const n=rs(this.data,t);if(!n.resolved)throw m(`path ${JSON.stringify(t)} could not be resolved in draft object`);const r=cs(this.data,t);if(!os(this.originalData,t,r).resolved)throw m(`path ${JSON.stringify(t)} could not be resolved in original object`);io(this.originalData,[{path:t,op:"replace",value:ge(n.value)}])}reset(){ma(this.data,this.originalSnapshot)}resetByPath(t){const n=rs(this.originalData,t);if(!n.resolved)throw m(`path ${JSON.stringify(t)} could not be resolved in original object`);const r=cs(this.originalData,t);if(!os(this.data,t,r).resolved)throw m(`path ${JSON.stringify(t)} could not be resolved in draft object`);io(this.data,[{path:t,op:"replace",value:ge(n.value)}])}get isDirty(){return!Is(ge(this.data),this.originalSnapshot)}isDirtyByPath(t){const n=rs(this.data,t);if(!n.resolved)throw m(`path ${JSON.stringify(t)} could not be resolved in draft object`);const r=cs(this.data,t),o=os(this.originalData,t,r);return o.resolved?!Is(n.value,o.value):!0}get originalSnapshot(){return ge(this.originalData)}}Mn([S],In.prototype,"commit");Mn([S],In.prototype,"commitByPath");Mn([S],In.prototype,"reset");Mn([S],In.prototype,"resetByPath");Mn([W],In.prototype,"isDirty");Mn([W],In.prototype,"originalSnapshot");function cs(e,t){const n=g0(e,t);return n.length>0&&(n[n.length-1]=qc),n}nf();var Y0=Object.defineProperty,Q0=Object.getOwnPropertyDescriptor,Go=(e,t,n,r)=>{for(var o=r>1?void 0:r?Q0(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&Y0(t,n,o),o};let Xn=class extends zo({[je]:oi,items:vt(Ns(wn()),()=>[])}){constructor(){super(...arguments),E(this,ea,"ArraySet")}add(e){const t=this.items;return t.includes(e)||t.push(e),this}clear(){this.items.length=0}delete(e){const t=this.items,n=t.findIndex(r=>r===e);return n>=0?(t.splice(n,1),!0):!1}forEach(e,t){const n=this.items,r=n.length;for(let o=0;o<r;o++){const s=n[o];e.call(t,s,s,this)}}has(e){return this.items.includes(e)}get size(){return this.items.length}*keys(){for(const e of Jr(this.items))yield e}*values(){for(const e of Jr(this.items))yield e}*entries(){for(const e of this.items)yield[e,e]}[(ta=Symbol.iterator,ea=Symbol.toStringTag,ta)](){return this.values()}union(e){return new Set(this).union(e)}intersection(e){return new Set(this).intersection(e)}difference(e){return new Set(this).difference(e)}symmetricDifference(e){return new Set(this).symmetricDifference(e)}isSubsetOf(e){return new Set(this).isSubsetOf(e)}isSupersetOf(e){return new Set(this).isSupersetOf(e)}isDisjointFrom(e){return new Set(this).isDisjointFrom(e)}};Go([ze],Xn.prototype,"add",1);Go([ze],Xn.prototype,"clear",1);Go([ze],Xn.prototype,"delete",1);Xn=Go([Fo(`${fr}/ArraySet`)],Xn);function eb(e){const t=n=>new tb(n,rn(e));return wt(()=>{const n=ae(e),r=(...i)=>`Record<${n.getTypeName(...i,n)}>`,o=(i,a)=>{if(n.unchecked)return i;const u={},f=Object.keys(i);for(let c=0;c<f.length;c++){const l=f[c],d=a==="from"?n.fromSnapshotProcessor(i[l]):n.toSnapshotProcessor(i[l]);u[l]=d}return u},s=new _e(Ee.Object,(i,a,u)=>{if(!Ne(i))return new Ve(a,r(s),i,u);if(!n.unchecked){const f=Object.keys(i);for(let c=0;c<f.length;c++){const l=f[c],d=i[l],p=n.check(d,[...a,l],u);if(p)return p}}return null},r,t,i=>{if(!Ne(i))return null;if(!n.unchecked){const a=Object.keys(i);for(let u=0;u<a.length;u++){const f=a[u],c=i[f];if(!n.snapshotType(c))return null}}return s},i=>o(i,"from"),i=>o(i,"to"));return s},t)}class tb extends Le{constructor(t,n){super(t),this.valueType=n}get valueTypeInfo(){return nn(this.valueType)}}var nb=Object.defineProperty,rb=Object.getOwnPropertyDescriptor,Uo=(e,t,n,r)=>{for(var o=r>1?void 0:r?rb(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&nb(t,n,o),o};let Yn=class extends zo({[je]:oi,items:vt(eb(wn()),()=>({}))}){constructor(){super(...arguments),E(this,na,"ObjectMap")}clear(){const e=this.items,t=Object.keys(e),n=t.length;for(let r=0;r<n;r++){const o=t[r];mt(e,o)}}delete(e){return this.has(e)?(mt(this.items,e),!0):!1}forEach(e,t){const n=this.items,r=Object.keys(n),o=r.length;for(let s=0;s<o;s++){const i=r[s];e.call(t,n[i],i,this)}}get(e){return Ku(this.items,e)}has(e){return Js(this.items,e)}set(e,t){return re(this.items,e,t),this}get size(){return Rt(this.items).length}*keys(){for(const e of Rt(this.items))yield e}*values(){for(const e of Jr(this.items))yield e}*entries(){for(const e of Wu(this.items))yield e}[(ra=Symbol.iterator,na=Symbol.toStringTag,ra)](){return this.entries()}};Uo([ze],Yn.prototype,"clear",1);Uo([ze],Yn.prototype,"delete",1);Uo([ze],Yn.prototype,"set",1);Yn=Uo([Fo(`${fr}/ObjectMap`)],Yn);function of(e,t,n){const r=o=>new ob(o,rn(e),t,n);return wt(()=>{const o=ae(e),s=(...a)=>{const u=o.getTypeName(...a,o);return`${n||"refinementOf"}<${u}>`},i=new _e(o.baseType,(a,u,f)=>{const c=o.check(a,u,f);if(c)return c;const l=t(a);return l===!0||l==null?null:l===!1?new Ve(u,s(i),a,f):new Ve(l.path,l.expectedTypeName,l.actualValue,f)},s,r,a=>o.snapshotType(a),a=>o.fromSnapshotProcessor(a),a=>o.toSnapshotProcessor(a));return i},r)}class ob extends Le{constructor(t,n,r,o){super(t),this.baseType=n,this.checkFunction=r,this.typeName=o}get baseTypeInfo(){return nn(this.baseType)}}of(Lo,e=>Number.isInteger(e),"integer");of($n,e=>e!=="","nonEmpty");function sb(e){throw new Error("[mobx-utils] "+e)}function lo(e,t){t===void 0&&(t="Illegal state"),e||sb(t)}var sf=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(sf(Object.getPrototypeOf(e))||[])},ib=function(e){var t=sf(e),n=t.filter(function(r,o){return t.indexOf(r)===o});return n},ka=function(e){return ib(e).filter(function(t){return t!=="constructor"&&!~t.indexOf("__")})},Vs="pending",ho="fulfilled",Ai="rejected";function ab(e){switch(this.state){case Vs:return e.pending&&e.pending(this.value);case Ai:return e.rejected&&e.rejected(this.value);case ho:return e.fulfilled?e.fulfilled(this.value):this.value}}function Da(e,t){if(lo(arguments.length<=2,"fromPromise expects up to two arguments"),lo(typeof e=="function"||typeof e=="object"&&e&&typeof e.then=="function","Please pass a promise or function to fromPromise"),e.isPromiseBasedObservable===!0)return e;typeof e=="function"&&(e=new Promise(e));var n=e;e.then(S("observableFromPromise-resolve",function(o){n.value=o,n.state=ho}),S("observableFromPromise-reject",function(o){n.value=o,n.state=Ai})),n.isPromiseBasedObservable=!0,n.case=ab;var r=t&&(t.state===ho||t.state===Vs)?t.value:void 0;return Ao(n,{value:r,state:Vs},{},{deep:!1}),n}(function(e){e.reject=S("fromPromise.reject",function(n){var r=e(Promise.reject(n));return r.state=Ai,r.value=n,r});function t(n){n===void 0&&(n=void 0);var r=e(Promise.resolve(n));return r.state=ho,r.value=n,r}e.resolve=S("fromPromise.resolve",t)})(Da||(Da={}));var Er=function(e,t,n,r){var o=arguments.length,s=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};(function(){function e(t,n){var r=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Co(this),Zr(function(){r.current=n,r.subscription=t.subscribe(r)})}return Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(e.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.current=t}}),Object.defineProperty(e.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(e.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.current=t,this.dispose()}}),Er([R.ref],e.prototype,"current",void 0),Er([S.bound],e.prototype,"next",null),Er([S.bound],e.prototype,"complete",null),Er([S.bound],e.prototype,"error",null),e})();var po=function(){return po=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},po.apply(this,arguments)},Ln=function(e,t,n,r){var o=arguments.length,s=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},ub=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function e(t){var n=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:R.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:R.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(o){return n.localValues.has(o)}}),Co(this),lo(K(t),"createViewModel expects an observable object");var r=ka(this);ka(t).forEach(function(o){var s;if(!r.includes(o)&&!(o===A||o==="__mobxDidRunLazyInitializers")){if(lo(ub.indexOf(o)===-1,"The propertyname "+o+" is reserved and cannot be used with viewModels"),kr(t,o)){var i=it(t,o),a=i.derivation.bind(n),u=(s=i.setter_)===null||s===void 0?void 0:s.bind(n);n.localComputedValues.set(o,W(a,{set:u}))}var f=Object.getOwnPropertyDescriptor(t,o),c=f?{enumerable:f.enumerable}:{};Object.defineProperty(n,o,po(po({},c),{configurable:!0,get:function(){return kr(t,o)?n.localComputedValues.get(o).get():n.isPropertyDirty(o)?n.localValues.get(o):n.model[o]},set:S(function(l){kr(t,o)?n.localComputedValues.get(o).set(l):l!==n.model[o]?n.localValues.set(o,l):n.localValues.delete(o)})}))}})}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;Rt(this.localValues).forEach(function(n){var r=t.localValues.get(n),o=t.model[n];fe(o)?o.replace(r):ee(o)?(o.clear(),o.merge(r)):Gu(r)||(t.model[n]=r)}),this.localValues.clear()}}),Object.defineProperty(e.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(e.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.localValues.delete(t)}}),Ln([W],e.prototype,"isDirty",null),Ln([W],e.prototype,"changedValues",null),Ln([S.bound],e.prototype,"submit",null),Ln([S.bound],e.prototype,"reset",null),Ln([S.bound],e.prototype,"resetProperty",null),e})();var cb=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();(function(e){cb(t,e);function t(n,r,o){var s=o===void 0?{}:o,i=s.name,a=i===void 0?"ogm"+(Math.random()*1e3|0):i,u=s.keyToName,f=u===void 0?function(d){return""+d}:u,c=e.call(this)||this;Object.defineProperty(c,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),c._keyToName=f,c._groupBy=r,c._ogmInfoKey=Symbol("ogmInfo"+a),c._base=n;for(var l=0;l<n.length;l++)c._addItem(n[l]);return c._disposeBaseObserver=ir(c._base,function(d){if(d.type==="splice")Pe(function(){for(var p=0,h=d.removed;p<h.length;p++){var y=h[p];c._removeItem(y)}for(var x=0,O=d.added;x<O.length;x++){var g=O[x];c._addItem(g)}});else if(d.type==="update")Pe(function(){c._removeItem(d.oldValue),c._addItem(d.newValue)});else throw new Error("illegal state")}),c}return Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(n){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var n=0;n<this._base.length;n++){var r=this._base[n],o=r[this._ogmInfoKey];o.reaction(),delete r[this._ogmInfoKey]}}}),Object.defineProperty(t.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=e.prototype.get.call(this,n);return r===void 0&&(r=R([],{name:"GroupArray["+this._keyToName(n)+"]",deep:!1}),e.prototype.set.call(this,n,r)),r}}),Object.defineProperty(t.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=e.prototype.get.call(this,n);o.length===1?e.prototype.delete.call(this,n):(r===o.length-1||(o[r]=o[o.length-1],o[r][this._ogmInfoKey].groupArrIndex=r),o.length--)}}),Object.defineProperty(t.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this,o=this._groupBy(n),s=this._getGroupArr(o),i={groupByValue:o,groupArrIndex:s.length,reaction:Zs(function(){return r._groupBy(n)},function(a,u){var f=n[r._ogmInfoKey];r._removeFromGroupArr(f.groupByValue,f.groupArrIndex);var c=r._getGroupArr(a),l=c.length;c.push(n),f.groupByValue=a,f.groupArrIndex=l})};Object.defineProperty(n,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),s.push(n)}}),Object.defineProperty(t.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=n[this._ogmInfoKey];this._removeFromGroupArr(r.groupByValue,r.groupArrIndex),r.reaction(),delete n[this._ogmInfoKey]}}),t})(To);var fb=(function(){function e(t,n,r,o){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"versionChecker",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0});for(var s=this.closest=this.root=t,i=0;i<this.args.length-1&&(s=s.get(n[i]),s);i++)this.closest=s;this.closestIdx=i}return Object.defineProperty(e.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertCurrentVersion();var t=this.args.length;return this.closestIdx>=t-1&&this.closest.has(this.args[t-1])}}),Object.defineProperty(e.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertCurrentVersion(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.assertCurrentVersion();for(var n=this.args.length,r=this.closest,o=this.closestIdx;o<n-1;o++){var s=new Map;r.set(this.args[o],s),r=s}this.closestIdx=n-1,this.closest=r,r.set(this.args[n-1],t)}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertCurrentVersion(),!this.exists())throw new Error("Entry doesn't exist");var t=this.args.length;this.closest.delete(this.args[t-1]);for(var n=this.root,r=[n],o=0;o<t-1;o++)n=n.get(this.args[o]),r.push(n);for(var o=r.length-1;o>0;o--)r[o].size===0&&r[o-1].delete(this.args[o-1])}}),Object.defineProperty(e.prototype,"assertCurrentVersion",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.versionChecker(this.version))throw new Error("Concurrent modification exception")}}),e})(),lb=(function(){function e(){var t=this;Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"currentVersion",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"checkVersion",{enumerable:!0,configurable:!0,writable:!0,value:function(n){return t.currentVersion===n}})}return Object.defineProperty(e.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(this.argsLength===-1)this.argsLength=t.length;else if(this.argsLength!==t.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+t.length);return this.currentVersion>=Number.MAX_SAFE_INTEGER&&(this.currentVersion=0),this.currentVersion++,new fb(this.store,t,this.currentVersion,this.checkVersion)}}),e})(),bo=function(){return bo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},bo.apply(this,arguments)},Na=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)r[o]=s[i];return r};function ag(e,t){if(t===void 0&&(t=!1),It(e))throw new Error("computedFn shouldn't be used on actions");var n=!1,r=0,o=typeof t=="boolean"?{keepAlive:t}:t,s=new lb;return function(){for(var i=this,a,u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var c=s.entry(u);if(c.exists())return c.get().get();if(!o.keepAlive&&!xu()){!n&&((a=o.requiresReaction)!==null&&a!==void 0?a:Pu().computedRequiresReaction)&&(console.warn("Invoking a computedFn from outside a reactive context won't be memoized and is cleaned up immediately, unless keepAlive is set."),n=!0);var l=e.apply(this,u);return o.onCleanup&&o.onCleanup.apply(o,Na([l],u)),l}var d,p=W(function(){return d=e.apply(i,u)},bo(bo({},o),{name:"computedFn("+(o.name||e.name)+"#"+ ++r+")"}));return c.set(p),o.keepAlive||So(p,function(){s.entry(u).delete(),o.onCleanup&&o.onCleanup.apply(o,Na([d],u)),d=void 0}),p.get()}}class ug extends Ft{constructor(t){super(t),Co(this,{_m:R,set:S,delete:S,clear:S})}}const cg=e=>{const t=Fr.createContext(void 0),n=()=>Fr.useContext(t);return{ctx:t,use:()=>Vf(n(),()=>`"${e}" is not provided`),useIfProvided:n,provider:t.Provider}};function db(e,t,n,r){var o=arguments.length,s=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}class af{constructor(){Me(this,"callback",null);Me(this,"ref",{observer:()=>this.observer,_current:null,get current(){return this._current},set current(t){this._current!==t&&(this._current&&this.observer().unobserve(this._current),this._current=t,t&&this.observer().observe(t))}})}setCallback(t){this.callback=t}get observer(){return new ResizeObserver(t=>this.observed(t))}observed(t){if(!this.callback)return;const n=t.find(r=>r.target===this.ref.current);n&&this.callback(n)}destroy(){this.ref.current=null}}db([On],af.prototype,"observer",null);const fg=e=>{const t=Fr.useRef(void 0);return t.current||(t.current=new af),t.current.callback=e,Fr.useEffect(()=>()=>{t.current&&(t.current.destroy(),t.current=void 0)},[]),t.current};const{abs:xn,atan2:uf,cos:zt,floor:hb,log:dt,min:cf,max:Pi,round:ie,sign:Va,sin:pb,sqrt:Lr,cbrt:bb,PI:Qe,hypot:ff}=Math;function ue(e,t,n){return e+(t-e)*n}function vb(e,t,n){return(n-e)/(t-e)}function te(e,t=0,n=1){return e<t?t:e>n?n:e}function fs(e,t,n,r=1e-8){let o=t,s;for(;n--&&xn(s=e(o))>r;){const i=(e(o+r)-s)/r;console.log("fx / dfdx",s/i,"fx",s,"x",o),o=o-s/i}return o}function gb(e,t,n,r){let o=e(t);for(;r--;){const s=(t+n)/2,i=e(s);Va(o)==Va(i)?(t=s,o=i):n=s}return(t+n)/2}const Ls=Qe/180,ji=180/Qe;function Qn(...e){return e[0]instanceof Je?e[0]:e.length>1&&typeof e[e.length-1]=="string"?Et(e.slice(0,e.length-1),e[e.length-1]):Array.isArray(e[0])?Et(e[0]):Et(e)}class Je{constructor(t,n,r,o=1){this.r=t,this.g=n,this.b=r,this.a=o}mix(t,n,r="rgb"){return Br(this,t,n,r)}rgb(t=!0,n=!0){const r=a=>(t&&(a=ie(a)),n&&(a=te(a,0,255)),a),{r:o,g:s,b:i}=this;return[r(o),r(s),r(i)]}rgba(t=!0,n=!0){const r=u=>(t&&(u=ie(u)),n&&(u=te(u,0,255)),u),{r:o,g:s,b:i,a}=this;return[r(o),r(s),r(i),a]}hex(t="rgb"){const{r:n,g:r,b:o,a:s}=this;return Ob(n,r,o,s,t)}hsl(){const{r:t,g:n,b:r}=this;return zb(t,n,r)}hsv(){const{r:t,g:n,b:r}=this;return Gb(t,n,r)}hcg(){const{r:t,g:n,b:r}=this;return Wb(t,n,r)}css(t="rgb"){if(t=="rgb"){const{r:n,g:r,b:o,a:s}=this;return $b(n,r,o,s)}else{if(t=="hsl")return Mb(this.hsl(),this.alpha());throw new Error}}name(t=!1){const n=this.num(),r=Object.keys(ht).find(o=>ht[o]==n);if(!r&&t){const[o,s,i]=this.lab();return Yb(Object.keys(ht),a=>{const[u,f,c]=lf(ht[a]).lab();return-ff(o-u,s-f,i-c)})}return r}cmyk(){const{r:t,g:n,b:r}=this;return Nb(t,n,r)}gl(){const{r:t,g:n,b:r,a:o}=this;return[t/255,n/255,r/255,o]}luminance(t){const{r:n,g:r,b:o,a:s}=this,[,i]=Bs(n,r,o);if(t===void 0)return i;const a=(u,f,c)=>(c-u)/(f-u);return t>i?Br(this,Ba,a(i,1,t),"xyz").alpha(s):Br(La,this,a(0,i,t),"xyz").alpha(s)}temperature(){const{r:t,g:n,b:r}=this;return Bb(t,n,r)}set(t,n){const[r,o]=t.split("."),s=this[r](),i=r.indexOf(o);if(i==-1)throw new Error("invalid channel");return s[i]=typeof n=="number"?n:n(s[i]),Qn(s,r).alpha(this.a)}clipped(){const{r:t,g:n,b:r}=this;return!(0<=t&&t<=255&&0<=n&&n<=255&&0<=r&&r<=255)}textColor(){return this.luminance()>.5?La:Ba}alpha(t){if(t===void 0)return this.a;const{r:n,g:r,b:o}=this;return Fa(n,r,o,t)}darker(t=1){const[n,r,o]=this.lab();return yb(n-Ka*t,r,o,this.alpha())}brighter(t=1){return this.darker(-t)}saturate(t=1){const[n,r,o]=this.lch();return _b(n,Pi(0,r+t*Ka),o,this.alpha())}desaturate(t=1){return this.saturate(-t)}premultiplied(){const{r:t,g:n,b:r,a:o}=this;return Fa(t*o,n*o,r*o,o)}hsi(){const{r:t,g:n,b:r}=this;return Xb(t,n,r)}lab(){const{r:t,g:n,b:r}=this;return yf(t,n,r)}num(t="rgb"){const{r:n,g:r,b:o,a:s}=this;return Sb(n,r,o,s,t)}lch(){const{r:t,g:n,b:r}=this;return Db(t,n,r)}xyz(){const{r:t,g:n,b:r}=this;return Bs(t,n,r)}equals(t){const{r:n,g:r,b:o,a:s}=this,{r:i,g:a,b:u,a:f}=t;return n==i&&r==a&&o==u&&s==f}hashCode(){return this.num("rgba")}toSource(){const{r:t,g:n,b:r,a:o}=this;return"chroma.rgb("+t+", "+n+", "+r+(o===1?")":", "+o+")")}}Je.prototype.toString=Je.prototype.css;Je.prototype.kelvin=Je.prototype.temperature;const La=new Je(0,0,0,1),Ba=new Je(255,255,255,1),mb={OrRd:[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072],PuBu:[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496],BuPu:[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347],Oranges:[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060],BuGn:[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435],YlOrBr:[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150],YlGn:[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705],Reds:[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221],RdPu:[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234],Greens:[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435],YlGnBu:[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800],Purples:[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893],GnBu:[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801],Greys:[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0],YlOrRd:[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646],PuRd:[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239],Blues:[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683],PuBuGn:[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510],Viridis:[4456788,4728695,4147850,3237774,2524047,2071946,7130714,11984427,16705573],Spectral:[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770],RdYlGn:[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679],RdBu:[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065],PiYG:[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529],PRGn:[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435],RdYlBu:[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237],BrBG:[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408],RdGy:[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618],PuOr:[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195],Set2:[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947],Accent:[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886],Set1:[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329],Set3:[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463],Dark2:[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886],Paired:[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696],Pastel2:[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772],Pastel1:[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906]},ht={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflower:6591981,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,laserlemon:16777044,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrod:16448210,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,maroon2:8323072,maroon3:11546720,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,purple2:8323199,purple3:10494192,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Br(e,t,n=.5,r="rgb"){const o=Qn(e),s=Qn(t),i=ke[r]&&ke[r](o,s,n,r);if(!i)throw new Error("color mode "+r+" is not supported");return i.alpha(ue(o.alpha(),s.alpha(),n))}function lg(e){const[t,n,r,o]=pf(e);return new Je(t,n,r,o)}function _b(...e){return Et(e,"lch")}function za(...e){return Et(e,"hsl")}function yb(...e){return Et(e,"lab")}function lf(e){const[t,n,r]=Ko(e);return new Je(t,n,r)}function Fa(...e){return Et(e,"rgb")}function Ga(...e){const t=(n=>t._at(n));return Object.getOwnPropertyNames(Ua.prototype).forEach(n=>t[n]=Ua.prototype[n]),Array.isArray(e[0])&&(e=e[0]),e.length==1&&typeof e[0]=="string"&&(e=mb[e[0]]),t._init(typeof e[0]=="function"?e[0]:e.map(n=>Qn(n))),t}class Ua{classes(t){if(t===void 0)return this._classes;if(Array.isArray(t))this._classes=t,this.domain(t[0],t[t.length-1]);else{if(t%1!=0||t<1)throw new Error("invalid classes param");this._classes=df(this.domain(),"e",t)}return this}domain(...t){if(t[0]===void 0)return typeof this._colors!="function"?this._pos.map(n=>ue(this._min,this._max,n)):[this._min,this._max];if(this._min=t[0],this._max=t[t.length-1],t.length==2)typeof this._colors!="function"&&(this._pos=this._colors.map((n,r)=>r/(this._colors.length-1)));else if(typeof this._colors!="function"&&t.length==this._colors.length)this._pos=t.map(n=>vb(this._min,this._max,n));else throw new Error("invalid domain "+t);return this}mode(t){return t===void 0?this._mode:(this._mode=t,this._resetCache(),this)}out(t){return this._out=t,this}correctLightness(t=!0){if(this._correctLightness!=t){this._resetCache();const n=this._colors;if(t&&typeof n!="function"){let r=0;for(let o=1;o<n.length;o++){const s=n[o].lab()[0]-n[o-1].lab()[0];if(r==0)r=s;else if(r*s<0)throw new Error("scale color lightnesses must be monotonic")}}}return this._correctLightness=t,this}padding(t,n=t){return t?(this._paddingLeft=t,this._paddingRight=n,this):[this._paddingLeft,this._paddingRight]}colors(t,n="hex"){let r;if(t===void 0)r=this._colors.slice();else if(t==1)r=[this._color((this._min+this._max)/2)];else if(t>1)r=Array.from({length:t},(o,s)=>this._color(ue(this._min,this._max,s/(t-1))));else{let o;this._classes&&this._classes.length>2?o=Array.from({length:this._classes.length-1},(s,i)=>(this._classes[i]+this._classes[i+1])*.5):o=this.domain(),r=o.map(s=>this._color(s))}return n!="color"?r.map(o=>o[n]()):r}cache(t){return t===void 0?!!this._cache:(this._cache=t?this._cache||new Map:void 0,this)}gamma(t){return t===void 0?this._gamma:(this._gamma=t,this)}_at(t){const n=this._color(t);return this._out?n[this._out]():n}_init(t){this._colors=t,typeof t!="function"&&(this._pos=t.map((n,r)=>r/(t.length-1))),this._mode="rgb",this.domain(0,1),this._paddingLeft=0,this._paddingRight=0,this._correctLightness=!1,this._cache=new Map,this._gamma=1}_getClass(t){return this._classes.findIndex(n=>t<=n)-1}_color(t,n=!1){let r;if(n)r=t;else{const i=this._min,a=this._max;this._classes&&this._classes.length>2?r=this._getClass(t)/(this._classes.length-2):a!==i?r=(t-i)/(a-i):r=1,this._correctLightness&&(r=this._tCorrectedLightness(r))}r=r**this._gamma,r=(this._paddingLeft+r)/(1+this._paddingLeft+this._paddingRight),r=te(r,0,1);const o=r,s=this._cache&&this._cache.get(o);if(s)return s;{let i;if(Array.isArray(this._colors))for(let a=0;a<this._pos.length;a++){const u=this._pos[a];if(r<=u){i=this._colors[a];break}if(r>=u&&a==this._pos.length-1){i=this._colors[a];break}if(r>u&&r<this._pos[a+1]){r=(r-u)/(this._pos[a+1]-u),i=Br(this._colors[a],this._colors[a+1],r,this._mode);break}}else i=this._colors(r);return this._cache&&this._cache.set(o,i),i}}_tCorrectedLightness(t){const n=this._color(0,!0).lab()[0],r=this._color(1,!0).lab()[0],o=ue(n,r,t);return gb(s=>this._color(s,!0).lab()[0]-o,0,1,8)}_resetCache(){this._cache&&this._cache.clear()}}var Wa;(function(e){function t(){return Ga([za(180,1,.9),za(250,.7,.4)])}e.cool=t;function n(){return Ga(["#000","#f00","#ff0","#fff"]).mode("rgb")}e.hot=n})(Wa||(Wa={}));function wb(e){const t={min:1/0,max:-1/0,sum:0,values:[],count:0};function n(r){r!=null&&!isNaN(r)&&(t.values.push(r),t.sum+=r,r<t.min&&(t.min=r),r>t.max&&(t.max=r),t.count+=1)}return e.forEach(r=>n(r)),t.domain=[t.min,t.max],t.limits=function(r,o){return df(this,r,o)},t}function df(e,t="e",n=7){const r=Array.isArray(e)?wb(e):e,{min:o,max:s,values:i}=r;if(i.sort((a,u)=>a-u),n==1)return[o,s];if(t.startsWith("c"))return[o,s];if(t.startsWith("e"))return Array.from({length:n+1},(a,u)=>ue(o,s,u/n));if(t.startsWith("l")){if(o<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*dt(o),u=Math.LOG10E*dt(s);return Array.from({length:n+1},(f,c)=>10**ue(a,u,c/n))}else{if(t.startsWith("q"))return Array.from({length:n+1},(a,u)=>{const f=(i.length-1)*u/n,c=hb(f);return c==f?i[c]:ue(i[c],i[c+1],f-c)});if(t.startsWith("k")){const a=i.length,u=new Array(a),f=new Array(n);let c=!0,l=0,d=Array.from({length:n+1},(x,O)=>ue(o,s,O/n));do{f.fill(0);for(let O=0;O<i.length;O++){const g=i[O],b=xf(d,w=>-xn(w-g));f[b]++,u[O]=b}const x=new Array(n).fill(0);for(let O=0;O<u.length;O++){const g=u[O];x[g]+=i[O]}for(let O=0;O<x.length;O++)x[O]/=f[O];c=x.some((O,g)=>O!=d[g]),d=x}while(l++<200&&c);const p=Array.from({length:n},()=>[]);for(let x=0;x<u.length;x++){const O=u[x];p[O].push(i[x])}const h=[];for(const x of p)h.push(x[0],x[x.length-1]);h.sort((x,O)=>x-O);const y=[];y.push(h[0]);for(let x=1;x<h.length;x+=2){const O=h[x];!isNaN(O)&&y.indexOf(O)==-1&&y.push(O)}return y}else throw new Error("unknown mode")}}const ke={},H={};function xb(e,t,n,r){const o=e[r](),s=t[r]();return Et([ue(o[0],s[0],n),ue(o[1],s[1],n),ue(o[2],s[2],n),ue(e.alpha(),t.alpha(),n)],r)}ke.xyz=ke.rgb=ke.lab=xb;ke.num=function(e,t,n){const r=e.num(),o=t.num();return lf(ue(r,o,n))};ke.lrgb=function(e,t,n){const[r,o,s,i]=e.rgba(!1,!1),[a,u,f,c]=t.rgba(!1,!1);return new Je(Lr(r**2*(1-n)+a**2*n),Lr(o**2*(1-n)+u**2*n),Lr(s**2*(1-n)+f**2*n),ue(i,c,n))};function Et(e,t){if(Array.isArray(e[0])&&(e=e[0]),!t)if(e.length==1&&e[0]in ht)t="name";else if(e.length==1&&typeof e[0]=="string")t="css";else if(e.length==3)t="rgb";else if(e.length==4&&typeof e[3]=="number"&&e[3]>=0&&e[3]<=1)t="rgb";else if(e.length==1&&typeof e[0]=="number"&&e[0]>=0&&e[0]<=16777215)t="num";else throw new Error("could not guess mode. args "+JSON.stringify(e));const n=H[t](...e);return new Je(n[0],n[1],n[2],n[3]!==void 0?n[3]:1)}function hf(e){let t;if(t=e.match(/^#?([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})?$/i))return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),t[4]?parseInt(t[4],16)/255:1];if(t=e.match(/^#?([A-F\d])([A-F\d])([A-F\d])([A-F\d])?$/i))return[parseInt(t[1],16)*17,parseInt(t[2],16)*17,parseInt(t[3],16)*17,t[4]?parseInt(t[4],16)*17/255:1];throw new Error("invalid hex color: "+e)}function Ob(e,t,n,r,o="rgb"){e=te(ie(e),0,255),t=te(ie(t),0,255),n=te(ie(n),0,255);const i=(e<<16|t<<8|n).toString(16).padStart(6,"0"),a=ie(te(r)*255).toString(16).padStart(2,"0");return"#"+(o=="argb"?a+i:o=="rgba"?i+a:i)}H.lrgb=H.rgb;H.hex=hf;H.hsl=bf;function Wo(e){return(e%360+360)%360}H.hsv=Fb;function Ko(e){if(!(typeof e=="number"&&e>=0&&e<=16777215))throw new Error("unknown num color: "+e);const t=e>>16,n=e>>8&255,r=e&255;return[t,n,r,1]}function Sb(e,t,n,r=1,o="rgb"){const s=ie(e)<<16|ie(t)<<8|ie(n);return o==="rgb"?s:o==="rgba"?s<<8|ie(r*255)<<24:ie(r*255)<<24|s}H.num=Ko;const Rn="\\s*",U="([+-]?(?:\\d*\\.?)?\\d+(?:[eE][+-]?\\d+)?)",Ab=new RegExp(["^rgba?\\(",U,",",U,",",U,"(?:,",U+"(%)?",")?\\)$"].join(Rn),"i"),Pb=new RegExp(["^rgba?\\(",U,U,U,"(?:/",U+"(%)?",")?\\)$"].join(Rn),"i"),jb=new RegExp(["^rgba?\\(",U+"%",",",U+"%",",",U+"%","(?:,",U+"(%)?",")?\\)$"].join(Rn),"i"),Cb=new RegExp(["^rgba?\\(",U+"%",U+"%",U+"%","(?:/",U+"(%)?",")?\\)$"].join(Rn),"i"),Tb=new RegExp(["^hsla?\\(",U+"(deg|rad|turn)?",",",U+"%",",",U+"%","(?:,",U+"(%)?",")?\\)$"].join(Rn),"i"),Eb=new RegExp(["^hsla?\\(",U+"(deg|rad|turn)?\\s+"+U+"%",U+"%","(?:/",U+"(%)?",")?\\)$"].join(Rn),"i");function pf(e){if(ht&&ht.hasOwnProperty(e))return Ko(ht[e.toLowerCase()]);let t;if(t=e.match(Ab)||e.match(Pb))return[te(+t[1],0,255),te(+t[2],0,255),te(+t[3],0,255),t[4]?te(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(jb)||e.match(Cb))return[te(+t[1]/100)*255,te(+t[2]/100)*255,te(+t[3]/100)*255,t[4]?te(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(Tb)||e.match(Eb)){const n={deg:1,rad:ji,turn:360},r=t[2]?t[2].toLowerCase():"deg";return bf((+t[1]*n[r]%360+360)%360,te(+t[3]/100),te(+t[4]/100),t[5]?te(t[6]?+t[5]/100:+t[5]):1)}else return hf(e)}function $b(e,t,n,r=1){return r>=1?"rgb("+[e,t,n].map(ie).join(",")+")":"rgba("+[e,t,n].map(ie).join(",")+","+r+")"}function $r(e){return ie(e*100)/100}function Mb([e,t,n],r){const o=r<1?"hsla":"hsl";return o+"("+$r(e)+","+$r(t*100)+"%,"+$r(n*100)+"%"+(o=="hsla"?","+$r(r):"")+")"}H.css=pf;H.name=function(e){return Ko(ht[e])};function Ib(e,t,n){return[e,zt(n*Ls)*t,pb(n*Ls)*t]}function Rb(e,t,n,r=1){const[,o,s]=Ib(e,t,n);return vf(e,o,s,r)}function kb(e,t,n){const r=ff(t,n),o=(uf(n,t)*ji+360)%360;return[e,r,o]}function Db(e,t,n){const[r,o,s]=yf(e,t,n);return kb(r,o,s)}H.lch=Rb;function Nb(e,t,n){e/=255,t/=255,n/=255;const r=1-Pi(e,t,n);if(r==1)return[0,0,0,1];const o=(1-e-r)/(1-r),s=(1-t-r)/(1-r),i=(1-n-r)/(1-r);return[o,s,i,r]}function Vb(e,t,n,r,o=1){if(r==1)return[0,0,0,o];const s=255*(1-e)*(1-r),i=255*(1-t)*(1-r),a=255*(1-n)*(1-r);return[s,i,a,o]}H.cmyk=Vb;H.gl=function(e,t,n,r=1){return[e*255,t*255,n*255,r]};function ls(e){const t=e/255;return t<=.04045?t/12.92:((t+.055)/1.055)**2.4}function ds(e){return e<=.0031308?255*(12.92*e):255*((1+.055)*e**(1/2.4)-.055)}function Lb(e){const t=e/100;let n,r,o;return t<66?(n=255,r=-155.25485562709179-.44596950469579133*(t-2)+104.49216199393888*dt(t-2),o=t<20?0:-254.76935184120902+.8274096064007395*(t-10)+115.67994401066147*dt(t-10)):(n=351.97690566805693+.114206453784165*(t-55)-40.25366309332127*dt(t-55),r=325.4494125711974+.07943456536662342*(t-50)-28.0852963507957*dt(t-50),o=255),[n,r,o]}H.rgb=(...e)=>e;function Bb(e,t,n){return console.log(n-e),t+n<158.61?(console.log("0 < t < 20"),ie(fs(r=>t-(-155.25485562709179-.44596950469579133*(r-2)+104.49216199393888*dt(r-2)),15,4)*100)):n-e<0?(console.log("20 < t < 66"),ie(fs(r=>n-(-254.76935184120902+.8274096064007395*(r-10)+115.67994401066147*dt(r-10)),43,4)*100)):(console.log("0 < t < 400, start= "+(-1.4*(e+t)+755)),ie(fs(r=>e-(351.97690566805693+.114206453784165*(r-55)-40.25366309332127*dt(r-55)),-1.4*(e+t)+755,8)*100))}H.temperature=H.kelvin=H.K=Lb;function Ci(e,t,n){const r=cf(e,t,n),o=Pi(e,t,n),s=o-r;let i;return s==0?i=0:e==o?i=(t-n)/s+(t<n?6:0):t==o?i=2+(n-e)/s:i=4+(e-t)/s,[i*60,r,o]}function Ti(e,t,n,r,o){const s=r*255,i=t*255+s,a=n*255+s;return e<60?[i,a,s,o]:e<120?[a,i,s,o]:e<180?[s,i,a,o]:e<240?[s,a,i,o]:e<300?[a,s,i,o]:[i,s,a,o]}function bf(e,t,n,r=1){e=Wo(e);const o=(1-xn(2*n-1))*t;return Ti(e,o,o*(1-xn(e/60%2-1)),n-o/2,r)}function zb(e,t,n){const[r,o,s]=Ci(e/255,t/255,n/255),i=(s+o)/2;let a;return s==o?a=0:a=i<.5?(s-o)/(s+o):(s-o)/(2-s-o),[r,a,i]}function Fb(e,t,n,r=1){e=Wo(e);const o=n*t;return Ti(e,o,o*(1-xn(e/60%2-1)),n-o,r)}function Gb(e,t,n){const[r,o,s]=Ci(e,t,n),i=s-o,a=s/255,u=s==0?0:i/s;return[r,u,a]}function Ub(e,t,n,r=1){e=Wo(e);const o=n*(1-t);return Ti(e,t,t*(1-xn(e/60%2-1)),o,r)}function Wb(e,t,n){const[r,o,s]=Ci(e,t,n),i=(s-o)/255,a=i<1?o/255/(1-i):0;return[r,i,a]}H.hcg=Ub;function vf(e,t,n,r=1){const[o,s,i]=Kb(e,t,n);return wf(o,s,i,r)}function Kb(e,t,n){function r(o){return o>Zb?o**3:_f*(o-4/29)}return[gf*r((e+16)/116+t/500),zr*r((e+16)/116),mf*r((e+16)/116-n/200)]}function qb(e,t,n){function r(o){return o>Jb?bb(o):o/_f+4/29}return[116*r(t/zr)-16,500*(r(e/gf)-r(t/zr)),200*(r(t/zr)-r(n/mf))]}const Ka=18,gf=.95047,zr=1,mf=1.08883,Zb=.206896552,_f=.12841855,Jb=.008856452;function yf(e,t,n){const[r,o,s]=Bs(e,t,n);return qb(r,o,s)}function Bs(e,t,n){const r=ls(e),o=ls(t),s=ls(n),i=.4124564*r+.3575761*o+.1804375*s,a=.2126729*r+.7151522*o+.072175*s,u=.0193339*r+.119192*o+.9503041*s;return[i,a,u]}function wf(e,t,n,r=1){const o=3.2404542*e-1.5371385*t-.4985314*n,s=-.969266*e+1.8760108*t+.041556*n,i=.0556434*e-.2040259*t+1.0572252*n;return[ds(o),ds(s),ds(i),r]}H.xyz=wf;H.lab=vf;function Hb(e,t,n,r=1){let o,s,i,a=e*Ls;return a<2*Qe/3?(i=(1-t)/3,o=(1+t*zt(a)/zt(Qe/3-a))/3,s=1-(i+o)):a<4*Qe/3?(a-=2*Qe/3,o=(1-t)/3,s=(1+t*zt(a)/zt(Qe/3-a))/3,i=1-(o+s)):(a-=4*Qe/3,s=(1-t)/3,i=(1+t*zt(a)/zt(Qe/3-a))/3,o=1-(s+i)),[3*n*o*255,3*n*s*255,3*n*i*255,r]}function Xb(e,t,n){const r=e/255,o=t/255,s=n/255,i=(r+o+s)/3;if(r==o&&o==s)return[0,0,i];{const a=.5*(2*r-o-s),u=Lr(3)/2*(o-s),f=uf(u,a),l=1-cf(r,o,s)/i;return[(f<0?2*Qe+f:f)*ji,l,i]}}H.hsi=Hb;ke.hsv=ke.hsl=ke.hsi=ke.lch=ke.hcg=function(t,n,r,o){const[s,i,a]=t[o](),[u,f,c]=n[o]();function l(d,p,h){const y=Wo(p-d+180)-180;return d+h*y}return Qn((o.charAt(0)=="h"?l:ue)(s,u,r),ue(i,f,r),(o.charAt(2)=="h"?l:ue)(a,c,r),o)};function xf(e,t){let n=-1/0,r=-1;for(let o=0;o<e.length;o++){const s=t(e[o]);s>n&&(n=s,r=o)}return r}function Yb(e,t){return e[xf(e,t)]}function X(e,t,n){function r(a,u){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:u,constr:i,traits:new Set},enumerable:!1}),a._zod.traits.has(e))return;a._zod.traits.add(e),t(a,u);const f=i.prototype,c=Object.keys(f);for(let l=0;l<c.length;l++){const d=c[l];d in a||(a[d]=f[d].bind(a))}}const o=n?.Parent??Object;class s extends o{}Object.defineProperty(s,"name",{value:e});function i(a){var u;const f=n?.Parent?new s:this;r(f,a),(u=f._zod).deferred??(u.deferred=[]);for(const c of f._zod.deferred)c();return f}return Object.defineProperty(i,"init",{value:r}),Object.defineProperty(i,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class Kn extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Qb={};function kn(e){return Qb}function ev(e,t){return typeof t=="bigint"?t.toString():t}function tv(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const qa=Symbol("evaluating");function ft(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==qa)return r===void 0&&(r=qa,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}const Of="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Za(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function nv(e){if(Za(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Za(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function rv(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function sn(e){return{}}function Bn(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function zn(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Mr(e){return typeof e=="string"?e:e?.message}function Dn(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=Mr(e.inst?._zod.def?.error?.(e))??Mr(t?.error?.(e))??Mr(n.customError?.(e))??Mr(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}const Sf=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ev,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ov=X("$ZodError",Sf),qo=X("$ZodError",Sf,{Parent:Error}),sv=e=>(t,n,r,o)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new Kn;if(i.issues.length){const a=new(o?.Err??e)(i.issues.map(u=>Dn(u,s,kn())));throw Of(a,o?.callee),a}return i.value},iv=sv(qo),av=e=>async(t,n,r,o)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise&&(i=await i),i.issues.length){const a=new(o?.Err??e)(i.issues.map(u=>Dn(u,s,kn())));throw Of(a,o?.callee),a}return i.value},uv=av(qo),cv=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new Kn;return s.issues.length?{success:!1,error:new(e??ov)(s.issues.map(i=>Dn(i,o,kn())))}:{success:!0,data:s.value}},Af=cv(qo),fv=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(i=>Dn(i,o,kn())))}:{success:!0,data:s.value}},Pf=fv(qo),lv=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},dv=/^-?\d+(?:\.\d+)?/,hv=/^(?:true|false)$/i,pv=/^null$/i,bv={major:4,minor:1,patch:13},jt=X("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=bv;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(i,a,u)=>{let f=Bn(i),c;for(const l of a){if(l._zod.def.when){if(!l._zod.def.when(i))continue}else if(f)continue;const d=i.issues.length,p=l._zod.check(i);if(p instanceof Promise&&u?.async===!1)throw new Kn;if(c||p instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await p,i.issues.length!==d&&(f||(f=Bn(i,d)))});else{if(i.issues.length===d)continue;f||(f=Bn(i,d))}}return c?c.then(()=>i):i},s=(i,a,u)=>{if(Bn(i))return i.aborted=!0,i;const f=o(a,r,u);if(f instanceof Promise){if(u.async===!1)throw new Kn;return f.then(c=>e._zod.parse(c,u))}return e._zod.parse(f,u)};e._zod.run=(i,a)=>{if(a.skipChecks)return e._zod.parse(i,a);if(a.direction==="backward"){const f=e._zod.parse({value:i.value,issues:[]},{...a,skipChecks:!0});return f instanceof Promise?f.then(c=>s(c,i,a)):s(f,i,a)}const u=e._zod.parse(i,a);if(u instanceof Promise){if(a.async===!1)throw new Kn;return u.then(f=>o(f,r,a))}return o(u,r,a)}}e["~standard"]={validate:o=>{try{const s=Af(e,o);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return Pf(e,o).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}}),vv=X("$ZodString",(e,t)=>{jt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??lv(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),gv=X("$ZodNumber",(e,t)=>{jt.init(e,t),e._zod.pattern=e._zod.bag.pattern??dv,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const s=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...s?{received:s}:{}}),n}}),mv=X("$ZodBoolean",(e,t)=>{jt.init(e,t),e._zod.pattern=hv,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),_v=X("$ZodNull",(e,t)=>{jt.init(e,t),e._zod.pattern=pv,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const o=n.value;return o===null||n.issues.push({expected:"null",code:"invalid_type",input:o,inst:e}),n}});function Ja(e,t,n){e.issues.length&&t.issues.push(...zn(n,e.issues)),t.value[n]=e.value}const yv=X("$ZodArray",(e,t)=>{jt.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const s=[];for(let i=0;i<o.length;i++){const a=o[i],u=t.element._zod.run({value:a,issues:[]},r);u instanceof Promise?s.push(u.then(f=>Ja(f,n,i))):Ja(u,n,i)}return s.length?Promise.all(s).then(()=>n):n}});function Ha(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const o=e.filter(s=>!Bn(s));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(i=>Dn(i,r,kn())))}),t)}const wv=X("$ZodUnion",(e,t)=>{jt.init(e,t),ft(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),ft(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),ft(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),ft(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${o.map(s=>tv(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,s)=>{if(n)return r(o,s);let i=!1;const a=[];for(const u of t.options){const f=u._zod.run({value:o.value,issues:[]},s);if(f instanceof Promise)a.push(f),i=!0;else{if(f.issues.length===0)return f;a.push(f)}}return i?Promise.all(a).then(u=>Ha(u,o,e,s)):Ha(a,o,e,s)}}),xv=X("$ZodRecord",(e,t)=>{jt.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!nv(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const s=[],i=t.keyType._zod.values;if(i){n.value={};const a=new Set;for(const f of i)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){a.add(typeof f=="number"?f.toString():f);const c=t.valueType._zod.run({value:o[f],issues:[]},r);c instanceof Promise?s.push(c.then(l=>{l.issues.length&&n.issues.push(...zn(f,l.issues)),n.value[f]=l.value})):(c.issues.length&&n.issues.push(...zn(f,c.issues)),n.value[f]=c.value)}let u;for(const f in o)a.has(f)||(u=u??[],u.push(f));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:u})}else{n.value={};for(const a of Reflect.ownKeys(o)){if(a==="__proto__")continue;const u=t.keyType._zod.run({value:a,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(c=>Dn(c,r,kn())),input:a,path:[a],inst:e}),n.value[u.value]=u.value;continue}const f=t.valueType._zod.run({value:o[a],issues:[]},r);f instanceof Promise?s.push(f.then(c=>{c.issues.length&&n.issues.push(...zn(a,c.issues)),n.value[u.value]=c.value})):(f.issues.length&&n.issues.push(...zn(a,f.issues)),n.value[u.value]=f.value)}}return s.length?Promise.all(s).then(()=>n):n}}),Ov=X("$ZodLazy",(e,t)=>{jt.init(e,t),ft(e._zod,"innerType",()=>t.getter()),ft(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),ft(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),ft(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),ft(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)});var Xa;class Sv{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Av(){return new Sv}(Xa=globalThis).__zod_globalRegistry??(Xa.__zod_globalRegistry=Av());function Pv(e,t){return new e({type:"string",...sn()})}function jv(e,t){return new e({type:"number",checks:[],...sn()})}function Cv(e,t){return new e({type:"boolean",...sn()})}function Tv(e,t){return new e({type:"null",...sn()})}const Bt=X("ZodMiniType",(e,t)=>{if(!e._zod)throw new Error("Uninitialized schema in ZodMiniType.");jt.init(e,t),e.def=t,e.type=t.type,e.parse=(n,r)=>iv(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>Af(e,n,r),e.parseAsync=async(n,r)=>uv(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>Pf(e,n,r),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>rv(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e))}),Ev=X("ZodMiniString",(e,t)=>{vv.init(e,t),Bt.init(e,t)});function Ei(e){return Pv(Ev)}const $v=X("ZodMiniNumber",(e,t)=>{gv.init(e,t),Bt.init(e,t)});function Mv(e){return jv($v)}const Iv=X("ZodMiniBoolean",(e,t)=>{mv.init(e,t),Bt.init(e,t)});function Rv(e){return Cv(Iv)}const kv=X("ZodMiniNull",(e,t)=>{_v.init(e,t),Bt.init(e,t)});function Dv(e){return Tv(kv)}const Nv=X("ZodMiniArray",(e,t)=>{yv.init(e,t),Bt.init(e,t)});function Vv(e,t){return new Nv({type:"array",element:e,...sn()})}const Lv=X("ZodMiniUnion",(e,t)=>{wv.init(e,t),Bt.init(e,t)});function jf(e,t){return new Lv({type:"union",options:e,...sn()})}const Bv=X("ZodMiniRecord",(e,t)=>{xv.init(e,t),Bt.init(e,t)});function Cf(e,t,n){return new Bv({type:"record",keyType:e,valueType:t,...sn()})}const zv=X("ZodMiniLazy",(e,t)=>{Ov.init(e,t),Bt.init(e,t)});function Fv(e){return new zv({type:"lazy",getter:e})}const Gv=jf([Ei(),Mv(),Rv(),Dv()]),zs=Fv(()=>jf([Gv,Vv(zs),Cf(Ei(),zs)]));Cf(Ei(),zs);export{fg as A,Qn as B,lg as C,og as D,sg as E,ig as F,Vf as G,qv as H,Dd as I,Zs as J,Hr as K,zs as L,zo as M,ug as O,ot as R,gd as a,cg as b,vd as c,W as d,Zr as e,S as f,Kv as g,qs as h,Wt as i,Fo as j,Jv as k,Qv as l,Co as m,Hv as n,R as o,Ps as p,Zv as q,rg as r,ge as s,Xv as t,ng as u,Yv as v,eg as w,ag as x,tg as y,On as z};
