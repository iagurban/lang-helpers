var pf=Object.defineProperty;var bf=(e,t,n)=>t in e?pf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ke=(e,t,n)=>bf(e,typeof t!="symbol"?t+"":t,n);import{r as Vr}from"./vendor-CMkasI8C.js";function Cg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}class gf extends Error{constructor(t){super("Programming error"+(t?`: ${t}`:""))}}const vf=(e,t)=>{if(!e)throw new gf(t?.())};class Bt{constructor(t){ke(this,"_m");this._m=new Map(t)}clear(){this._m.clear()}delete(t){return this._m.delete(t)}forEach(t){for(const[n,r]of this._m)t(r,n,this)}get(t){return this._m.get(t)}has(t){return this._m.has(t)}set(t,n){return this._m.set(t,n),this}get size(){return this._m.size}static groupedBy(t,n){const r=new Bt;for(const o of t)r.update(n(o),s=>s?(s.push(o),s):[o]);return r}static mappedBy(t,n){const r=new Bt;for(const o of t)r.set(n(o),o);return r}getOrCreate(t,n,r){let o=this.get(t);return o==null?this.set(t,o=n(t)):r&&r(o,t),o}update(t,n){return this.set(t,n(this.get(t),t))}mapEntries(t){return new Bt([...this.entries()].map(([n,r])=>[n,t(r,n)]))}toArray(t){return[...this.entries()].map(([n,r])=>t(r,n))}valuesToArray(t){return[...this.values()].map(n=>t(n))}deleteKeys(t){for(const n of t)this.delete(n);return this}assign(t){for(const[n,r]of t)this.set(n,r);return this}backup(t){const n=t?t(this):new Bt(this);return()=>{this.clear(),this.assign(n)}}filter(t){return new Bt([...this.entries()].filter(([n,r])=>t(r,n)))}freeze(){const t={value(){throw new Error("Can not mutate frozen ExMap")},configurable:!1,enumerable:!1};for(const n of["set","delete","clear"])Object.defineProperty(this,n,t);return Object.freeze(this),this}[Symbol.iterator](){return this._m[Symbol.iterator]()}entries(){return this._m.entries()}keys(){return this._m.keys()}values(){return this._m.values()}get[Symbol.toStringTag](){return"ExMap"}}const le=(e,t)=>Object.assign(e,{type:t}),Do=Symbol("gettrTag:cachedTypeSymbol"),Va=(e,t,n=!0)=>(Object.defineProperty(e,"type",{get:n?()=>e[Do]??(e[Do]=t()):t,set:void 0,enumerable:!0,configurable:!0}),e),La=e=>e.type??"[unknown]",_f=(e,t=[])=>{const n=t.filter(r=>r!=null&&r!==!1);return n.length===0?e:`${e}(${n.join(", ")})`};le(e=>e!=null,"[defined]");le(e=>e!==void 0,"!undefined");le(e=>e!==null,"!null");const Tg=le(e=>!!e,"[truthy]"),jg=le(e=>e===void 0,"undefined");le(e=>e===null,"null");le(e=>e==null,"(null|undefined)");le(e=>typeof e=="symbol","symbol");le(e=>e instanceof Error,"error");le(e=>e instanceof RegExp,"regexp");le(e=>e instanceof Map,"map");le(e=>e instanceof Set,"set");const mf=le(e=>Array.isArray(e),"readonly-array");function $g(e,t,n){if(!t(e)){const r=n(e);throw typeof r=="string"?new Error(r):r}return e}const yf=(e,t)=>n=>e(n)&&t(n),wf=e=>({push(t){this.run=yf(this.run,t)},run:e}),kg=(e={})=>{const t=(()=>{const r=wf(a=>!0),{minLength:o,maxLength:s,check:i}=e;return o!=null&&r.push(a=>a.length>=o),s!=null&&r.push(a=>a.length<=s),i!=null&&r.push(i),r.run})(),{item:n}=e;return Va(r=>{if(!Array.isArray(r)||!t(r))return!1;if(n==null)return!0;for(const o of r)if(!n(o))return!1;return!0},()=>_f(`${n?La(n):"unknown"}[]`,[e.minLength!=null&&`len>=${e.minLength}`,e.maxLength!=null&&`len<=${e.maxLength}`,e.check&&(e.checkName??"custom")]))},Eg=le(e=>typeof e=="boolean","boolean"),Mg=le(e=>typeof e=="object"&&e!=null&&!Array.isArray(e),"some-object"),Rg=(...e)=>Va(t=>{for(const n of e)if(n(t))return!0;return!1},()=>`(${e.map(t=>La(t)).join(" | ")})`),Ig=le(e=>typeof e=="string","string");class yi extends Error{}const xf=(e,t="arg is null")=>{if(e==null){if(typeof t=="string")throw new yi(t);const n=t();throw typeof n=="string"?new yi(n):n}return e},Dg=(e,t)=>Array.from({length:e},(n,r)=>t(r)),wi=(e,t,n)=>(Object.defineProperty(e,t,{value:n,writable:!1,enumerable:!0,configurable:!0}),n);function On(e,t,n,r){if(n===!0)return wi(e,t,r);const{get:o,set:s}=n;if(!o||s)throw new Error("decorator must be called on getters only");return{get(){return wi(this,t,o.call(this))},enumerable:!0,configurable:!0}}const Of=globalThis.crypto?.getRandomValues?(()=>{const e=t=>{const n=new Uint8Array(t);return globalThis.crypto.getRandomValues(n),n};return Object.assign(e,{hex:t=>Array.from(e(t)).map(n=>n.toString(16).padStart(2,"0")).join("")})})():(e=>Object.assign(t=>e.randomBytes(t),{hex:t=>e.randomBytes(t).toString("hex")}))(typeof require=="function"?require("crypto"):{randomBytes:Object.assign(()=>{throw new Error("Secure random generation not supported")},{hex:()=>{throw new Error("Secure random generation not supported")}})});function Qn(e,t,n,r){var o=arguments.length,s=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}class Sf{constructor(t,n=20){ke(this,"base");ke(this,"powers",[1n]);if(this.base=t,t<2n)throw new Error("mapping length must be > 1");this.get(Math.max(1,n)-1)}get(t){let n=this.powers.length-1;for(;t>n++;)this.powers.push(this.base*this.powers[this.powers.length-1]);return this.powers[t]}}class Sn{constructor(t){ke(this,"parts");ke(this,"from10",t=>{if(typeof t=="number"&&Math.floor(t)!==t)throw new Error(`n is floating ${t}`);let n=BigInt(t);if(n<0n)throw new Error(`n is negative: ${n}`);const{base:r,digits:o}=this;if(r===10n)throw new Error("mapping length must be != 10");const s=[];do s.push(o[Number(n%r)]),n/=r;while(n>0n);return String.fromCharCode(...s.reverse())});ke(this,"to10",t=>{const{byChar:n,powers:r}=this;let o=0n;for(let s=t.length-1;s>=0;--s){const i=n.get(t.charCodeAt(s));if(i===void 0)throw new Error(`invalid char '${t[s]}' in '${t}'`);o+=i*r.get(t.length-1-s)}return o});ke(this,"mask",t=>{const n=this.digits[this.digits.length-1];return String.fromCharCode(...Array.from({length:t},()=>n))});ke(this,"random",t=>{if(t<1||Math.floor(t)!==t)throw new Error(`random length must be integer > 0, got ${t}`);return String.fromCharCode(...Array.from({length:t},()=>this.digits[Math.random()*this.digits.length|0]))});ke(this,"fixedWidthRandomGenerator",t=>{const n=c=>{const l=Number(this.to10(this.mask(c)));if(l<=0||!Number.isFinite(l))throw new Error(`invalid mask: ${l}`);const d=BigInt(l),p=Math.ceil(Math.log2(l)),h=Math.max(1,Math.ceil(p/8)),w=1n<<BigInt(8*h),x=w-w%d;return()=>{for(;;){const O=Of(h);let v=0n;for(let b=0;b<h;b++)v=v<<8n|BigInt(O[b]);if(v<x)return Number(v%d)}}};if(t<1||Math.floor(t)!==t)throw new Error(`length must be integer < 1, got ${t}`);const r=String.fromCharCode(this.digits[0]),o=this.maxSafeExponent,s=t%o,i=Math.floor(t/o),a=(c,l)=>this.from10(c()).padStart(l,r),u=c=>{const l=[];for(let d=0;d<i;++d)l.push(a(c,o));return l.join("")};if(s>0){const c=n(s);if(i>0){const l=n(o);return()=>u(l)+a(c,s)}return()=>a(c,t)}vf(i>0);const f=n(o);return()=>u(f)});this.parts=t}get base(){return BigInt(this.digits.length)}get digits(){return[...this.digitsSet].sort((n,r)=>n-r)}get digitsSet(){const t=new Set;for(const[n,r]of this.parts.entries())if(mf(r)){if(r.length!==2||r[0].length!==1||r[1].length!==1)throw new Error(`parts[${n}] must be ['a','z'] (to add a range) or 'abc0xyz' (to add by char)`);const[o,s]=Array.from(r).map(i=>i.codePointAt(0));if(o>s)throw new Error(`parts[${n}] 'from' must be <= 'to', got '${o}' > '${s}'`);for(let i=0;i<s-o+1;++i)t.add(o+i)}else for(let o=0;o<r.length;++o)t.add(r.codePointAt(o));if(t.size<2)throw new Error("empty digits set");return t}get powers(){return new Sf(this.base)}get byChar(){return new Map([...this.digits].map((t,n)=>[t,BigInt(n)]))}get maxSafeInteger(){return this.from10(BigInt(Number.MAX_SAFE_INTEGER))}get maxSafeExponent(){return this.maxSafeInteger.length-1}}Qn([On],Sn.prototype,"digits",null);Qn([On],Sn.prototype,"digitsSet",null);Qn([On],Sn.prototype,"powers",null);Qn([On],Sn.prototype,"byChar",null);Qn([On],Sn.prototype,"maxSafeInteger",null);const Af=e=>{const t={};for(const[n,r]of Object.entries(e))t[n]=t[`b${n}`]=new Sn(r);return t},Pf={...Af({2:[["0","1"]],3:[["0","2"]],4:[["0","3"]],6:[["0","5"]],8:[["0","7"]],10:[["0","9"]],16:[["0","9"],["a","f"]],62:[["0","9"],["a","z"],["A","Z"]],70:[["0","9"],["a","z"],["A","Z"],"!@$&%+_="],88:[["0","9"],["a","z"],["A","Z"],`_+-=~!?@#:*&^%$.,{}[]<>'"/`]})},{b62:{from10:Cf,to10:Tf,mask:jf,fixedWidthRandomGenerator:Ba}}=Pf,$f=Ba(16);Ba(12);const za=e=>{const t=Number(Tf(jf(e)));return()=>Cf(Date.now()%t).padStart(e,"0")},kf=za(4);za(2);const Ng=()=>`${kf()}${$f()}`;var mr={exports:{}},xi;function Vg(){return xi||(xi=1,(function(e,t){const{hasOwnProperty:n}=Object.prototype,r=O();r.configure=O,r.stringify=r,r.default=r,t.stringify=r,t.configure=O,e.exports=r;const o=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function s(v){return v.length<5e3&&!o.test(v)?`"${v}"`:JSON.stringify(v)}function i(v,b){if(v.length>200||b)return v.sort(b);for(let y=1;y<v.length;y++){const C=v[y];let k=y;for(;k!==0&&v[k-1]>C;)v[k]=v[k-1],k--;v[k]=C}return v}const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function u(v){return a.call(v)!==void 0&&v.length!==0}function f(v,b,y){v.length<y&&(y=v.length);const C=b===","?"":" ";let k=`"0":${C}${v[0]}`;for(let B=1;B<y;B++)k+=`${b}"${B}":${C}${v[B]}`;return k}function c(v){if(n.call(v,"circularValue")){const b=v.circularValue;if(typeof b=="string")return`"${b}"`;if(b==null)return b;if(b===Error||b===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function l(v){let b;if(n.call(v,"deterministic")&&(b=v.deterministic,typeof b!="boolean"&&typeof b!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return b===void 0?!0:b}function d(v,b){let y;if(n.call(v,b)&&(y=v[b],typeof y!="boolean"))throw new TypeError(`The "${b}" argument must be of type boolean`);return y===void 0?!0:y}function p(v,b){let y;if(n.call(v,b)){if(y=v[b],typeof y!="number")throw new TypeError(`The "${b}" argument must be of type number`);if(!Number.isInteger(y))throw new TypeError(`The "${b}" argument must be an integer`);if(y<1)throw new RangeError(`The "${b}" argument must be >= 1`)}return y===void 0?1/0:y}function h(v){return v===1?"1 item":`${v} items`}function w(v){const b=new Set;for(const y of v)(typeof y=="string"||typeof y=="number")&&b.add(String(y));return b}function x(v){if(n.call(v,"strict")){const b=v.strict;if(typeof b!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(b)return y=>{let C=`Object can not safely be stringified. Received type ${typeof y}`;throw typeof y!="function"&&(C+=` (${y.toString()})`),new Error(C)}}}function O(v){v={...v};const b=x(v);b&&(v.bigint===void 0&&(v.bigint=!1),"circularValue"in v||(v.circularValue=Error));const y=c(v),C=d(v,"bigint"),k=l(v),B=typeof k=="function"?k:void 0,pe=p(v,"maximumDepth"),z=p(v,"maximumBreadth");function gr(fe,g,P,R,E,D){let T=g[fe];switch(typeof T=="object"&&T!==null&&typeof T.toJSON=="function"&&(T=T.toJSON(fe)),T=R.call(g,fe,T),typeof T){case"string":return s(T);case"object":{if(T===null)return"null";if(P.indexOf(T)!==-1)return y;let M="",K=",";const q=D;if(Array.isArray(T)){if(T.length===0)return"[]";if(pe<P.length+1)return'"[Array]"';P.push(T),E!==""&&(D+=E,M+=`
${D}`,K=`,
${D}`);const ye=Math.min(T.length,z);let Xe=0;for(;Xe<ye-1;Xe++){const _r=gr(String(Xe),T,P,R,E,D);M+=_r!==void 0?_r:"null",M+=K}const Ye=gr(String(Xe),T,P,R,E,D);if(M+=Ye!==void 0?Ye:"null",T.length-1>z){const _r=T.length-z-1;M+=`${K}"... ${h(_r)} not stringified"`}return E!==""&&(M+=`
${q}`),P.pop(),`[${M}]`}let F=Object.keys(T);const Y=F.length;if(Y===0)return"{}";if(pe<P.length+1)return'"[Object]"';let N="",be="";E!==""&&(D+=E,K=`,
${D}`,N=" ");const ze=Math.min(Y,z);k&&!u(T)&&(F=i(F,B)),P.push(T);for(let ye=0;ye<ze;ye++){const Xe=F[ye],Ye=gr(Xe,T,P,R,E,D);Ye!==void 0&&(M+=`${be}${s(Xe)}:${N}${Ye}`,be=K)}if(Y>z){const ye=Y-z;M+=`${be}"...":${N}"${h(ye)} not stringified"`,be=K}return E!==""&&be.length>1&&(M=`
${D}${M}
${q}`),P.pop(),`{${M}}`}case"number":return isFinite(T)?String(T):b?b(T):"null";case"boolean":return T===!0?"true":"false";case"undefined":return;case"bigint":if(C)return String(T);default:return b?b(T):void 0}}function vr(fe,g,P,R,E,D){switch(typeof g=="object"&&g!==null&&typeof g.toJSON=="function"&&(g=g.toJSON(fe)),typeof g){case"string":return s(g);case"object":{if(g===null)return"null";if(P.indexOf(g)!==-1)return y;const T=D;let M="",K=",";if(Array.isArray(g)){if(g.length===0)return"[]";if(pe<P.length+1)return'"[Array]"';P.push(g),E!==""&&(D+=E,M+=`
${D}`,K=`,
${D}`);const Y=Math.min(g.length,z);let N=0;for(;N<Y-1;N++){const ze=vr(String(N),g[N],P,R,E,D);M+=ze!==void 0?ze:"null",M+=K}const be=vr(String(N),g[N],P,R,E,D);if(M+=be!==void 0?be:"null",g.length-1>z){const ze=g.length-z-1;M+=`${K}"... ${h(ze)} not stringified"`}return E!==""&&(M+=`
${T}`),P.pop(),`[${M}]`}P.push(g);let q="";E!==""&&(D+=E,K=`,
${D}`,q=" ");let F="";for(const Y of R){const N=vr(Y,g[Y],P,R,E,D);N!==void 0&&(M+=`${F}${s(Y)}:${q}${N}`,F=K)}return E!==""&&F.length>1&&(M=`
${D}${M}
${T}`),P.pop(),`{${M}}`}case"number":return isFinite(g)?String(g):b?b(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(C)return String(g);default:return b?b(g):void 0}}function Nn(fe,g,P,R,E){switch(typeof g){case"string":return s(g);case"object":{if(g===null)return"null";if(typeof g.toJSON=="function"){if(g=g.toJSON(fe),typeof g!="object")return Nn(fe,g,P,R,E);if(g===null)return"null"}if(P.indexOf(g)!==-1)return y;const D=E;if(Array.isArray(g)){if(g.length===0)return"[]";if(pe<P.length+1)return'"[Array]"';P.push(g),E+=R;let N=`
${E}`;const be=`,
${E}`,ze=Math.min(g.length,z);let ye=0;for(;ye<ze-1;ye++){const Ye=Nn(String(ye),g[ye],P,R,E);N+=Ye!==void 0?Ye:"null",N+=be}const Xe=Nn(String(ye),g[ye],P,R,E);if(N+=Xe!==void 0?Xe:"null",g.length-1>z){const Ye=g.length-z-1;N+=`${be}"... ${h(Ye)} not stringified"`}return N+=`
${D}`,P.pop(),`[${N}]`}let T=Object.keys(g);const M=T.length;if(M===0)return"{}";if(pe<P.length+1)return'"[Object]"';E+=R;const K=`,
${E}`;let q="",F="",Y=Math.min(M,z);u(g)&&(q+=f(g,K,z),T=T.slice(g.length),Y-=g.length,F=K),k&&(T=i(T,B)),P.push(g);for(let N=0;N<Y;N++){const be=T[N],ze=Nn(be,g[be],P,R,E);ze!==void 0&&(q+=`${F}${s(be)}: ${ze}`,F=K)}if(M>z){const N=M-z;q+=`${F}"...": "${h(N)} not stringified"`,F=K}return F!==""&&(q=`
${E}${q}
${D}`),P.pop(),`{${q}}`}case"number":return isFinite(g)?String(g):b?b(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(C)return String(g);default:return b?b(g):void 0}}function Vn(fe,g,P){switch(typeof g){case"string":return s(g);case"object":{if(g===null)return"null";if(typeof g.toJSON=="function"){if(g=g.toJSON(fe),typeof g!="object")return Vn(fe,g,P);if(g===null)return"null"}if(P.indexOf(g)!==-1)return y;let R="";const E=g.length!==void 0;if(E&&Array.isArray(g)){if(g.length===0)return"[]";if(pe<P.length+1)return'"[Array]"';P.push(g);const q=Math.min(g.length,z);let F=0;for(;F<q-1;F++){const N=Vn(String(F),g[F],P);R+=N!==void 0?N:"null",R+=","}const Y=Vn(String(F),g[F],P);if(R+=Y!==void 0?Y:"null",g.length-1>z){const N=g.length-z-1;R+=`,"... ${h(N)} not stringified"`}return P.pop(),`[${R}]`}let D=Object.keys(g);const T=D.length;if(T===0)return"{}";if(pe<P.length+1)return'"[Object]"';let M="",K=Math.min(T,z);E&&u(g)&&(R+=f(g,",",z),D=D.slice(g.length),K-=g.length,M=","),k&&(D=i(D,B)),P.push(g);for(let q=0;q<K;q++){const F=D[q],Y=Vn(F,g[F],P);Y!==void 0&&(R+=`${M}${s(F)}:${Y}`,M=",")}if(T>z){const q=T-z;R+=`${M}"...":"${h(q)} not stringified"`}return P.pop(),`{${R}}`}case"number":return isFinite(g)?String(g):b?b(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(C)return String(g);default:return b?b(g):void 0}}function hf(fe,g,P){if(arguments.length>1){let R="";if(typeof P=="number"?R=" ".repeat(Math.min(P,10)):typeof P=="string"&&(R=P.slice(0,10)),g!=null){if(typeof g=="function")return gr("",{"":fe},[],g,R,"");if(Array.isArray(g))return vr("",fe,[],w(g),R,"")}if(R.length!==0)return Nn("",fe,[],R,"")}return Vn("",fe,[])}return hf}})(mr,mr.exports)),mr.exports}function j(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Ef={};function io(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Ef}var Fa=Object.assign,Lr=Object.getOwnPropertyDescriptor,tt=Object.defineProperty,er=Object.prototype,ts=[];Object.freeze(ts);var $s={};Object.freeze($s);var Mf=typeof Proxy<"u",Rf=Object.toString();function Ga(){Mf||j("Proxy not available")}function Ua(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var fn=function(){};function Te(e){return typeof e=="function"}function Ut(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function ao(e){return e!==null&&typeof e=="object"}function gt(e){if(!ao(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Rf}function Wa(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function tr(e,t,n){tt(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Ka(e,t,n){tt(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Rt(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return ao(r)&&r[n]===!0}}function An(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function If(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function ut(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var qa=typeof Object.getOwnPropertySymbols<"u";function Df(e){var t=Object.keys(e);if(!qa)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return er.propertyIsEnumerable.call(e,r)})):t}var pn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:qa?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Za(e){return e===null?null:typeof e=="object"?""+e:e}function ht(e,t){return er.hasOwnProperty.call(e,t)}var Nf=Object.getOwnPropertyDescriptors||function(t){var n={};return pn(t).forEach(function(r){n[r]=Lr(t,r)}),n};function Se(e,t){return!!(e&t)}function Ae(e,t,n){return n?e|=t:e&=~t,e}function Oi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Vf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bf(r.key),r)}}function Pn(e,t,n){return t&&Vf(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ln(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=zf(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kt.apply(null,arguments)}function Ja(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ns(e,t)}function ns(e,t){return ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ns(e,t)}function Lf(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Bf(e){var t=Lf(e,"string");return typeof t=="symbol"?t:t+""}function zf(e,t){if(e){if(typeof e=="string")return Oi(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(e,t):void 0}}var et=Symbol("mobx-stored-annotations");function Ge(e){function t(n,r){if(rr(r))return e.decorate_20223_(n,r);nr(n,r,e)}return Object.assign(t,e)}function nr(e,t,n){ht(e,et)||tr(e,et,kt({},e[et])),Hf(n)||(e[et][t]=n)}function Ff(e){return ht(e,et)||tr(e,et,kt({},e[et])),e[et]}function rr(e){return typeof e=="object"&&typeof e.kind=="string"}var S=Symbol("mobx administration"),It=(function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=I.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return hu(this)},t.reportChanged=function(){we(),pu(this),xe()},t.toString=function(){return this.name_},Pn(e,[{key:"isBeingObserved",get:function(){return Se(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Se(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Se(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ae(this.flags_,e.diffValueMask_,r===1)}}])})();It.isBeingObservedMask_=1;It.isPendingUnobservationMask_=2;It.diffValueMask_=4;var ks=Rt("Atom",It);function Ot(e,t,n){t===void 0&&(t=fn),n===void 0&&(n=fn);var r=new It(e);return t!==fn&&Ou(r,t),n!==fn&&Ds(r,n),r}function Gf(e,t){return e===t}function Uf(e,t){return Gs(e,t)}function Wf(e,t){return Gs(e,t,1)}function Kf(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Wt={identity:Gf,structural:Uf,default:Kf,shallow:Wf};function Kt(e,t,n){return st(e)?e:Array.isArray(e)?V.array(e,{name:n}):gt(e)?V.object(e,void 0,{name:n}):An(e)?V.map(e,{name:n}):ut(e)?V.set(e,{name:n}):typeof e=="function"&&!Zt(e)&&!gn(e)?Wa(e)?Jt(e):bn(n,e):e}function qf(e,t,n){if(e==null||W(e)||de(e)||re(e)||Z(e))return e;if(Array.isArray(e))return V.array(e,{name:n,deep:!1});if(gt(e))return V.object(e,void 0,{name:n,deep:!1});if(An(e))return V.map(e,{name:n,deep:!1});if(ut(e))return V.set(e,{name:n,deep:!1})}function uo(e){return e}function Zf(e,t){return Gs(e,t)?t:e}var Ha="override",Jf=Ge({annotationType_:Ha,make_:Xf,extend_:Yf,decorate_20223_:Qf});function Hf(e){return e.annotationType_===Ha}function Xf(e,t){return 0}function Yf(e,t,n,r){j("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function Qf(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function or(e,t){return{annotationType_:e,options_:t,make_:el,extend_:tl,decorate_20223_:nl}}function el(e,t,n,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(Zt(n.value))return 1;var s=Xa(e,this,t,n,!1);return tt(r,t,s),2}function tl(e,t,n,r){var o=Xa(e,this,t,n);return e.defineProperty_(t,o,r)}function nl(e,t){var n=t.kind,r=t.name,o=t.addInitializer,s=this,i=function(f){var c,l,d,p;return Et((c=(l=s.options_)==null?void 0:l.name)!=null?c:r.toString(),f,(d=(p=s.options_)==null?void 0:p.autoAction)!=null?d:!1)};if(n=="field")return function(u){var f,c=u;return Zt(c)||(c=i(c)),(f=s.options_)!=null&&f.bound&&(c=c.bind(this),c.isMobxAction=!0),c};if(n=="method"){var a;return Zt(e)||(e=i(e)),(a=this.options_)!=null&&a.bound&&o(function(){var u=this,f=u[r].bind(u);f.isMobxAction=!0,u[r]=f}),e}j("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function Xa(e,t,n,r,o){var s,i,a,u,f,c,l;o===void 0&&(o=m.safeDescriptors);var d=r.value;if((s=t.options_)!=null&&s.bound){var p;d=d.bind((p=e.proxy_)!=null?p:e.target_)}return{value:Et((i=(a=t.options_)==null?void 0:a.name)!=null?i:n.toString(),d,(u=(f=t.options_)==null?void 0:f.autoAction)!=null?u:!1,(c=t.options_)!=null&&c.bound?(l=e.proxy_)!=null?l:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function Ya(e,t){return{annotationType_:e,options_:t,make_:rl,extend_:ol,decorate_20223_:sl}}function rl(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!ht(e.target_,t)||!gn(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(gn(n.value))return 1;var s=Qa(e,this,t,n,!1,!1);return tt(r,t,s),2}function ol(e,t,n,r){var o,s=Qa(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,s,r)}function sl(e,t){var n,r=t.name,o=t.addInitializer;return gn(e)||(e=Jt(e)),(n=this.options_)!=null&&n.bound&&o(function(){var s=this,i=s[r].bind(s);i.isMobXFlow=!0,s[r]=i}),e}function Qa(e,t,n,r,o,s){s===void 0&&(s=m.safeDescriptors);var i=r.value;if(gn(i)||(i=Jt(i)),o){var a;i=i.bind((a=e.proxy_)!=null?a:e.target_),i.isMobXFlow=!0}return{value:i,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function Es(e,t){return{annotationType_:e,options_:t,make_:il,extend_:al,decorate_20223_:ul}}function il(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function al(e,t,n,r){return e.defineComputedProperty_(t,kt({},this.options_,{get:n.get,set:n.set}),r)}function ul(e,t){var n=this,r=t.name,o=t.addInitializer;return o(function(){var s=tn(this)[S],i=kt({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),s.values_.set(r,new Ke(i))}),function(){return this[S].getObservablePropValue_(r)}}function co(e,t){return{annotationType_:e,options_:t,make_:cl,extend_:fl,decorate_20223_:ll}}function cl(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function fl(e,t,n,r){var o,s;return e.defineObservableProperty_(t,n.value,(o=(s=this.options_)==null?void 0:s.enhancer)!=null?o:Kt,r)}function ll(e,t){var n=this,r=t.kind,o=t.name,s=new WeakSet;function i(a,u){var f,c,l=tn(a)[S],d=new jt(u,(f=(c=n.options_)==null?void 0:c.enhancer)!=null?f:Kt,"ObservableObject."+o.toString(),!1);l.values_.set(o,d),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||i(this,e.get.call(this)),this[S].getObservablePropValue_(o)},set:function(u){return s.has(this)||i(this,u),this[S].setObservablePropValue_(o,u)},init:function(u){return s.has(this)||i(this,u),u}}}var dl="true",hl=eu();function eu(e){return{annotationType_:dl,options_:e,make_:pl,extend_:bl,decorate_20223_:gl}}function pl(e,t,n,r){var o,s;if(n.get)return J.make_(e,t,n,r);if(n.set){var i=Zt(n.set)?n.set:Et(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:m.safeDescriptors?e.isPlainObject_:!0,set:i})===null?0:2:(tt(r,t,{configurable:!0,set:i}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(Wa(n.value)){var u,f=(u=this.options_)!=null&&u.autoBind?Jt.bound:Jt;return f.make_(e,t,n,r)}var c=(a=this.options_)!=null&&a.autoBind?bn.bound:bn;return c.make_(e,t,n,r)}var l=((o=this.options_)==null?void 0:o.deep)===!1?V.ref:V;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var d;n.value=n.value.bind((d=e.proxy_)!=null?d:e.target_)}return l.make_(e,t,n,r)}function bl(e,t,n,r){var o,s;if(n.get)return J.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:m.safeDescriptors?e.isPlainObject_:!0,set:Et(t.toString(),n.set)},r);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var i;n.value=n.value.bind((i=e.proxy_)!=null?i:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?V.ref:V;return a.extend_(e,t,n,r)}function gl(e,t){j("'"+this.annotationType_+"' cannot be used as a decorator")}var vl="observable",_l="observable.ref",ml="observable.shallow",yl="observable.struct",tu={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(tu);function yr(e){return e||tu}var rs=co(vl),wl=co(_l,{enhancer:uo}),xl=co(ml,{enhancer:qf}),Ol=co(yl,{enhancer:Zf}),nu=Ge(rs);function wr(e){return e.deep===!0?Kt:e.deep===!1?uo:Al(e.defaultDecorator)}function Sl(e){var t;return e?(t=e.defaultDecorator)!=null?t:eu(e):void 0}function Al(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Kt}function ru(e,t,n){if(rr(t))return rs.decorate_20223_(e,t);if(Ut(t)){nr(e,t,rs);return}return st(e)?e:gt(e)?V.object(e,t,n):Array.isArray(e)?V.array(e,t):An(e)?V.map(e,t):ut(e)?V.set(e,t):typeof e=="object"&&e!==null?e:V.box(e,t)}Fa(ru,nu);var Pl={box:function(t,n){var r=yr(n);return new jt(t,wr(r),r.name,!0,r.equals)},array:function(t,n){var r=yr(n);return(m.useProxies===!1||r.proxy===!1?Dd:Cd)(t,wr(r),r.name)},map:function(t,n){var r=yr(n);return new Bs(t,wr(r),r.name)},set:function(t,n){var r=yr(n);return new zs(t,wr(r),r.name)},object:function(t,n,r){return Dt(function(){return Ns(m.useProxies===!1||r?.proxy===!1?tn({},r):Od({},r),t,n)})},ref:Ge(wl),shallow:Ge(xl),deep:nu,struct:Ge(Ol)},V=Fa(ru,Pl),ou="computed",Cl="computed.struct",os=Es(ou),Tl=Es(Cl,{equals:Wt.structural}),J=function(t,n){if(rr(n))return os.decorate_20223_(t,n);if(Ut(n))return nr(t,n,os);if(gt(t))return Ge(Es(ou,t));var r=gt(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Ke(r)};Object.assign(J,os);J.struct=Ge(Tl);var Si,Ai,Br=0,jl=1,$l=(Si=(Ai=Lr(function(){},"name"))==null?void 0:Ai.configurable)!=null?Si:!1,Pi={value:"action",configurable:!0,writable:!1,enumerable:!1};function Et(e,t,n,r){n===void 0&&(n=!1);function o(){return su(e,n,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},$l&&(Pi.value=e,tt(o,"name",Pi)),o}function su(e,t,n,r,o){var s=iu(e,t);try{return n.apply(r,o)}catch(i){throw s.error_=i,i}finally{au(s)}}function iu(e,t,n,r){var o=!1,s=0,i=m.trackingDerivation,a=!t||!i;we();var u=m.allowStateChanges;a&&(en(),u=fo(!0));var f=po(!0),c={runAsAction_:a,prevDerivation_:i,prevAllowStateChanges_:u,prevAllowStateReads_:f,notifySpy_:o,startTime_:s,actionId_:jl++,parentActionId_:Br};return Br=c.actionId_,c}function au(e){Br!==e.actionId_&&j(30),Br=e.parentActionId_,e.error_!==void 0&&(m.suppressReactionErrors=!0),lo(e.prevAllowStateChanges_),dn(e.prevAllowStateReads_),xe(),e.runAsAction_&&pt(e.prevDerivation_),m.suppressReactionErrors=!1}function Ms(e,t){var n=fo(e);try{return t()}finally{lo(n)}}function fo(e){var t=m.allowStateChanges;return m.allowStateChanges=e,t}function lo(e){m.allowStateChanges=e}var jt=(function(e){function t(r,o,s,i,a){var u;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=Wt.default),u=e.call(this,s)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=o,u.name_=s,u.equals=a,u.value_=o(r,void 0,s),u}Ja(t,e);var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){o=this.prepareNewValue_(o),o!==m.UNCHANGED&&this.setNewValue_(o)},n.prepareNewValue_=function(o){if(Ee(this)){var s=Me(this,{object:this,type:nt,newValue:o});if(!s)return m.UNCHANGED;o=s.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?m.UNCHANGED:o},n.setNewValue_=function(o){var s=this.value_;this.value_=o,this.reportChanged(),Ue(this)&&We(this,{type:nt,object:this,newValue:o,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return sr(this,o)},n.observe_=function(o,s){return s&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:nt,newValue:this.value_,oldValue:void 0}),ir(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Za(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t})(It),Rs=Rt("ObservableValue",jt),Ke=(function(){function e(n){this.dependenciesState_=I.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=I.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Fr(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=zr.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||j(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Et("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Wt.structural:Wt.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){zl(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&j(32,this.name_,this.derivation),m.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)ss(this)&&(this.warnAboutUntrackedRead_(),we(),this.value_=this.computeValue_(!1),xe());else if(hu(this),ss(this)){var r=m.trackingContext;this.keepAlive_&&!r&&(m.trackingContext=this),this.trackAndCompute()&&Bl(this),m.trackingContext=r}var o=this.value_;if($r(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter&&j(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else j(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===I.NOT_TRACKING_,s=this.computeValue_(!0),i=o||$r(r)||$r(s)||!this.equals_(r,s);return i&&(this.value_=s),i},t.computeValue_=function(r){this.isComputing=!0;var o=fo(!1),s;if(r)s=uu(this,this.derivation,this.scope_);else if(m.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(i){s=new Fr(i)}return lo(o),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(is(this),this.value_=void 0)},t.observe_=function(r,o){var s=this,i=!0,a=void 0;return Is(function(){var u=s.get();if(!i||o){var f=en();r({observableKind:"computed",debugObjectName:s.name_,type:nt,object:s,newValue:u,oldValue:a}),pt(f)}i=!1,a=u})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Za(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Pn(e,[{key:"isComputing",get:function(){return Se(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Se(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Se(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Se(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Se(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ae(this.flags_,e.diffValueMask_,r===1)}}])})();Ke.isComputingMask_=1;Ke.isRunningSetterMask_=2;Ke.isBeingObservedMask_=4;Ke.isPendingUnobservationMask_=8;Ke.diffValueMask_=16;var qt=Rt("ComputedValue",Ke),I;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(I||(I={}));var zr;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(zr||(zr={}));var Fr=function(t){this.cause=void 0,this.cause=t};function $r(e){return e instanceof Fr}function ss(e){switch(e.dependenciesState_){case I.UP_TO_DATE_:return!1;case I.NOT_TRACKING_:case I.STALE_:return!0;case I.POSSIBLY_STALE_:{for(var t=po(!0),n=en(),r=e.observing_,o=r.length,s=0;s<o;s++){var i=r[s];if(qt(i)){if(m.disableErrorBoundaries)i.get();else try{i.get()}catch{return pt(n),dn(t),!0}if(e.dependenciesState_===I.STALE_)return pt(n),dn(t),!0}}return cu(e),pt(n),dn(t),!1}}}function kl(){return m.trackingDerivation!==null}function uu(e,t,n){var r=po(!0);cu(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++m.runId;var o=m.trackingDerivation;m.trackingDerivation=e,m.inBatch++;var s;if(m.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(i){s=new Fr(i)}return m.inBatch--,m.trackingDerivation=o,El(e),dn(r),s}function El(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=I.UP_TO_DATE_,o=0,s=e.unboundDepsCount_,i=0;i<s;i++){var a=n[i];a.diffValue===0&&(a.diffValue=1,o!==i&&(n[o]=a),o++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=o,e.newObserving_=null,s=t.length;s--;){var u=t[s];u.diffValue===0&&lu(u,e),u.diffValue=0}for(;o--;){var f=n[o];f.diffValue===1&&(f.diffValue=0,Ll(f,e))}r!==I.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function is(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)lu(t[n],e);e.dependenciesState_=I.NOT_TRACKING_}function ho(e){var t=en();try{return e()}finally{pt(t)}}function en(){var e=m.trackingDerivation;return m.trackingDerivation=null,e}function pt(e){m.trackingDerivation=e}function po(e){var t=m.allowStateReads;return m.allowStateReads=e,t}function dn(e){m.allowStateReads=e}function cu(e){if(e.dependenciesState_!==I.UP_TO_DATE_){e.dependenciesState_=I.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=I.UP_TO_DATE_}}var Ml=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],zn=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},kr=!0,fu=!1,m=(function(){var e=io();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(kr=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new zn().version&&(kr=!1),kr?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new zn):(setTimeout(function(){fu||j(35)},1),new zn)})();function Rl(){if((m.pendingReactions.length||m.inBatch||m.isRunningReactions)&&j(36),fu=!0,kr){var e=io();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),m=new zn}}function Il(){return m}function Dl(){var e=new zn;for(var t in e)Ml.indexOf(t)===-1&&(m[t]=e[t]);m.allowStateChanges=!m.enforceActions}function Nl(e){return e.observers_&&e.observers_.size>0}function Vl(e){return e.observers_}function Ll(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function lu(e,t){e.observers_.delete(t),e.observers_.size===0&&du(e)}function du(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,m.pendingUnobservations.push(e))}function we(){m.inBatch++}function xe(){if(--m.inBatch===0){bu();for(var e=m.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Ke&&n.suspend_())}m.pendingUnobservations=[]}}function hu(e){var t=m.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&m.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&m.inBatch>0&&du(e),!1)}function pu(e){e.lowestObserverState_!==I.STALE_&&(e.lowestObserverState_=I.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===I.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=I.STALE_}))}function Bl(e){e.lowestObserverState_!==I.STALE_&&(e.lowestObserverState_=I.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===I.POSSIBLY_STALE_?t.dependenciesState_=I.STALE_:t.dependenciesState_===I.UP_TO_DATE_&&(e.lowestObserverState_=I.UP_TO_DATE_)}))}function zl(e){e.lowestObserverState_===I.UP_TO_DATE_&&(e.lowestObserverState_=I.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===I.UP_TO_DATE_&&(t.dependenciesState_=I.POSSIBLY_STALE_,t.onBecomeStale_())}))}var ot=(function(){function e(n,r,o,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=I.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=zr.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,m.pendingReactions.push(this),bu())},t.runReaction_=function(){if(!this.isDisposed){we(),this.isScheduled=!1;var r=m.trackingContext;if(m.trackingContext=this,ss(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}m.trackingContext=r,xe()}},t.track=function(r){if(!this.isDisposed){we(),this.isRunning=!0;var o=m.trackingContext;m.trackingContext=this;var s=uu(this,r,void 0);m.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&is(this),$r(s)&&this.reportExceptionInDerivation_(s.cause),xe()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(m.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";m.suppressReactionErrors||console.error(s,r),m.globalReactionErrorHandlers.forEach(function(i){return i(r,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(we(),is(this),xe()))},t.getDisposer_=function(r){var o=this,s=function i(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",i)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[S]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(s[Symbol.dispose]=s),s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Pn(e,[{key:"isDisposed",get:function(){return Se(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Se(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Se(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Se(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Ae(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Se(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Ae(this.flags_,e.diffValueMask_,r===1)}}])})();ot.isDisposedMask_=1;ot.isScheduledMask_=2;ot.isTrackPendingMask_=4;ot.isRunningMask_=8;ot.diffValueMask_=16;function Fl(e){return m.globalReactionErrorHandlers.push(e),function(){var t=m.globalReactionErrorHandlers.indexOf(e);t>=0&&m.globalReactionErrorHandlers.splice(t,1)}}var Gl=100,as=function(t){return t()};function bu(){m.inBatch>0||m.isRunningReactions||as(Ul)}function Ul(){m.isRunningReactions=!0;for(var e=m.pendingReactions,t=0;e.length>0;){++t===Gl&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}m.isRunningReactions=!1}var Gr=Rt("Reaction",ot);function Wl(e){var t=as;as=function(r){return e(function(){return t(r)})}}function Fn(){return!1}function gu(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var vu="action",Kl="action.bound",_u="autoAction",ql="autoAction.bound",mu="<unnamed action>",us=or(vu),Zl=or(Kl,{bound:!0}),cs=or(_u,{autoAction:!0}),Jl=or(ql,{autoAction:!0,bound:!0});function yu(e){var t=function(r,o){if(Te(r))return Et(r.name||mu,r,e);if(Te(o))return Et(r,o,e);if(rr(o))return(e?cs:us).decorate_20223_(r,o);if(Ut(o))return nr(r,o,e?cs:us);if(Ut(r))return Ge(or(e?_u:vu,{name:r,autoAction:e}))};return t}var A=yu(!1);Object.assign(A,us);var bn=yu(!0);Object.assign(bn,cs);A.bound=Ge(Zl);bn.bound=Ge(Jl);function fs(e){return su(e.name||mu,!1,e,this,void 0)}function Zt(e){return Te(e)&&e.isMobxAction===!0}function Is(e,t){var n,r,o,s;t===void 0&&(t=$s);var i=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,u;if(a)u=new ot(i,function(){this.track(l)},t.onError,t.requiresObservable);else{var f=wu(t),c=!1;u=new ot(i,function(){c||(c=!0,f(function(){c=!1,u.isDisposed||u.track(l)}))},t.onError,t.requiresObservable)}function l(){e(u)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||u.schedule_(),u.getDisposer_((s=t)==null?void 0:s.signal)}var Hl=function(t){return t()};function wu(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Hl}function xu(e,t,n){var r,o,s;n===void 0&&(n=$s);var i=(r=n.name)!=null?r:"Reaction",a=A(i,n.onError?Xl(n.onError,t):t),u=!n.scheduler&&!n.delay,f=wu(n),c=!0,l=!1,d,p=n.compareStructural?Wt.structural:n.equals||Wt.default,h=new ot(i,function(){c||u?w():l||(l=!0,f(w))},n.onError,n.requiresObservable);function w(){if(l=!1,!h.isDisposed){var x=!1,O=d;h.track(function(){var v=Ms(!1,function(){return e(h)});x=c||!p(d,v),d=v}),(c&&n.fireImmediately||!c&&x)&&a(d,O,h),c=!1}}return(o=n)!=null&&(o=o.signal)!=null&&o.aborted||h.schedule_(),h.getDisposer_((s=n)==null?void 0:s.signal)}function Xl(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var Yl="onBO",Ql="onBUO";function Ou(e,t,n){return Su(Yl,e,t,n)}function Ds(e,t,n){return Su(Ql,e,t,n)}function Su(e,t,n,r){var o=typeof r=="function"?_t(t,n):_t(t),s=Te(r)?r:n,i=e+"L";return o[i]?o[i].add(s):o[i]=new Set([s]),function(){var a=o[i];a&&(a.delete(s),a.size===0&&delete o[i])}}var ed="never",xr="always",td="observed";function nd(e){e.isolateGlobalState===!0&&Rl();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(m.useProxies=t===xr?!0:t===ed?!1:typeof Proxy<"u"),t==="ifavailable"&&(m.verifyProxies=!0),n!==void 0){var r=n===xr?xr:n===td;m.enforceActions=r,m.allowStateChanges=!(r===!0||r===xr)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(m[o]=!!e[o])}),m.allowStateReads=!m.observableRequiresReaction,e.reactionScheduler&&Wl(e.reactionScheduler)}function Ns(e,t,n,r){var o=Nf(t);return Dt(function(){var s=tn(e,r)[S];pn(o).forEach(function(i){s.extend_(i,o[i],n&&i in n?n[i]:!0)})}),e}function rd(e,t){return Au(_t(e,t))}function Au(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=sd(e.observing_).map(Au)),t}function od(e,t){return Pu(_t(e,t))}function Pu(e){var t={name:e.name_};return Nl(e)&&(t.observers=Array.from(Vl(e)).map(Pu)),t}function sd(e){return Array.from(new Set(e))}var id=0;function bo(){this.message="FLOW_CANCELLED"}bo.prototype=Object.create(Error.prototype);function ad(e){return e instanceof bo}var No=Ya("flow"),ud=Ya("flow.bound",{bound:!0}),Jt=Object.assign(function(t,n){if(rr(n))return No.decorate_20223_(t,n);if(Ut(n))return nr(t,n,No);var r=t,o=r.name||"<unnamed flow>",s=function(){var a=this,u=arguments,f=++id,c=A(o+" - runid: "+f+" - init",r).apply(a,u),l,d=void 0,p=new Promise(function(h,w){var x=0;l=w;function O(y){d=void 0;var C;try{C=A(o+" - runid: "+f+" - yield "+x++,c.next).call(c,y)}catch(k){return w(k)}b(C)}function v(y){d=void 0;var C;try{C=A(o+" - runid: "+f+" - yield "+x++,c.throw).call(c,y)}catch(k){return w(k)}b(C)}function b(y){if(Te(y?.then)){y.then(b,w);return}return y.done?h(y.value):(d=Promise.resolve(y.value),d.then(O,v))}O(void 0)});return p.cancel=A(o+" - runid: "+f+" - cancel",function(){try{d&&Ci(d);var h=c.return(void 0),w=Promise.resolve(h.value);w.then(fn,fn),Ci(w),l(new bo)}catch(x){l(x)}}),p};return s.isMobXFlow=!0,s},No);Jt.bound=Ge(ud);function Ci(e){Te(e.cancel)&&e.cancel()}function cd(e){return e}function gn(e){return e?.isMobXFlow===!0}function fd(e,t,n){var r;return re(e)||de(e)||Rs(e)?r=mt(e):W(e)&&(r=mt(e,t)),r.dehancer=typeof t=="function"?t:n,function(){r.dehancer=void 0}}function go(e,t,n){return Te(n)?dd(e,t,n):ld(e,t)}function ld(e,t){return mt(e).intercept_(t)}function dd(e,t,n){return mt(e,t).intercept_(n)}function Cu(e,t){if(t===void 0)return qt(e);if(W(e)===!1||!e[S].values_.has(t))return!1;var n=_t(e,t);return qt(n)}function hd(e){return Cu(e)}function pd(e,t){return Cu(e,t)}function Tu(e,t){return e?t!==void 0?W(e)?e[S].values_.has(t):!1:W(e)||!!e[S]||ks(e)||Gr(e)||qt(e):!1}function st(e){return Tu(e)}function bd(e,t){return Tu(e,t)}function Ht(e){if(W(e))return e[S].keys_();if(re(e)||Z(e))return Array.from(e.keys());if(de(e))return e.map(function(t,n){return n});j(5)}function Ur(e){if(W(e))return Ht(e).map(function(t){return e[t]});if(re(e))return Ht(e).map(function(t){return e.get(t)});if(Z(e))return Array.from(e.values());if(de(e))return e.slice();j(6)}function ju(e){if(W(e))return Ht(e).map(function(t){return[t,e[t]]});if(re(e))return Ht(e).map(function(t){return[t,e.get(t)]});if(Z(e))return Array.from(e.entries());if(de(e))return e.map(function(t,n){return[n,t]});j(7)}function St(e,t,n){if(arguments.length===2&&!Z(e)){we();var r=t;try{for(var o in r)St(e,o,r[o])}finally{xe()}return}W(e)?e[S].set_(t,n):re(e)?e.set(t,n):Z(e)?e.add(t):de(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&j("Invalid index: '"+t+"'"),we(),t>=e.length&&(e.length=t+1),e[t]=n,xe()):j(8)}function vt(e,t){W(e)?e[S].delete_(t):re(e)||Z(e)?e.delete(t):de(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):j(9)}function Vs(e,t){if(W(e))return e[S].has_(t);if(re(e))return e.has(t);if(Z(e))return e.has(t);if(de(e))return t>=0&&t<e.length;j(10)}function $u(e,t){if(Vs(e,t)){if(W(e))return e[S].get_(t);if(re(e))return e.get(t);if(de(e))return e[t];j(11)}}function gd(e,t,n){if(W(e))return e[S].defineProperty_(t,n);j(39)}function ku(e){if(W(e))return e[S].ownKeys_();j(38)}function vo(e,t,n,r){return Te(n)?_d(e,t,n,r):vd(e,t,n)}function vd(e,t,n){return mt(e).observe_(t,n)}function _d(e,t,n,r){return mt(e,t).observe_(n,r)}function Or(e,t,n){return e.set(t,n),n}function cn(e,t){if(e==null||typeof e!="object"||e instanceof Date||!st(e))return e;if(Rs(e)||qt(e))return cn(e.get(),t);if(t.has(e))return t.get(e);if(de(e)){var n=Or(t,e,new Array(e.length));return e.forEach(function(i,a){n[a]=cn(i,t)}),n}if(Z(e)){var r=Or(t,e,new Set);return e.forEach(function(i){r.add(cn(i,t))}),r}if(re(e)){var o=Or(t,e,new Map);return e.forEach(function(i,a){o.set(a,cn(i,t))}),o}else{var s=Or(t,e,{});return ku(e).forEach(function(i){er.propertyIsEnumerable.call(e,i)&&(s[i]=cn(e[i],t))}),s}}function Wr(e,t){return cn(e,new Map)}function md(){}function Fe(e,t){t===void 0&&(t=void 0),we();try{return e.apply(t)}finally{xe()}}function yd(e,t,n){return arguments.length===1||t&&typeof t=="object"?wd(e,t):Eu(e,t,n||{})}function Eu(e,t,n){var r;if(typeof n.timeout=="number"){var o=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!i[S].isDisposed)if(i(),n.onError)n.onError(o);else throw o},n.timeout)}n.name="When";var s=Et("When-effect",t),i=Is(function(a){var u=Ms(!1,e);u&&(a.dispose(),r&&clearTimeout(r),s())},n);return i}function wd(e,t){var n;if(t!=null&&(n=t.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,o,s=new Promise(function(i,a){var u,f=Eu(e,i,kt({},t,{onError:a}));r=function(){f(),a(new Error("WHEN_CANCELLED"))},o=function(){f(),a(new Error("WHEN_ABORTED"))},t==null||(u=t.signal)==null||u.addEventListener==null||u.addEventListener("abort",o)}).finally(function(){var i;return t==null||(i=t.signal)==null||i.removeEventListener==null?void 0:i.removeEventListener("abort",o)});return s.cancel=r,s}function an(e){return e[S]}var xd={has:function(t,n){return an(t).has_(n)},get:function(t,n){return an(t).get_(n)},set:function(t,n,r){var o;return Ut(n)?(o=an(t).set_(n,r,!0))!=null?o:!0:!1},deleteProperty:function(t,n){var r;return Ut(n)?(r=an(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return(o=an(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return an(t).ownKeys_()},preventExtensions:function(t){j(13)}};function Od(e,t){var n,r;return Ga(),e=tn(e,t),(r=(n=e[S]).proxy_)!=null?r:n.proxy_=new Proxy(e,xd)}function Ee(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function sr(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Ua(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Me(e,t){var n=en();try{for(var r=[].concat(e.interceptors_||[]),o=0,s=r.length;o<s&&(t=r[o](t),t&&!t.type&&j(14),!!t);o++);return t}finally{pt(n)}}function Ue(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function ir(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Ua(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function We(e,t){var n=en(),r=e.changeListeners_;if(r){r=r.slice();for(var o=0,s=r.length;o<s;o++)r[o](t);pt(n)}}function Mu(e,t,n){return Dt(function(){var r,o=tn(e,n)[S];(r=t)!=null||(t=Ff(e)),pn(t).forEach(function(s){return o.make_(s,t[s])})}),e}var Vo=Symbol("mobx-keys");function Sd(e,t,n){return gt(e)?Ns(e,e,t,n):(Dt(function(){var r=tn(e,n)[S];if(!e[Vo]){var o=Object.getPrototypeOf(e),s=new Set([].concat(pn(e),pn(o)));s.delete("constructor"),s.delete(S),tr(o,Vo,s)}e[Vo].forEach(function(i){return r.make_(i,t&&i in t?t[i]:!0)})}),e)}var Ti="splice",nt="update",Ad=1e4,Pd={get:function(t,n){var r=t[S];return n===S?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):ht(Kr,n)?Kr[n]:t[n]},set:function(t,n,r){var o=t[S];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){j(15)}},Ls=(function(){function e(n,r,o,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=s,this.atom_=new It(n),this.enhancer_=function(i,a){return r(i,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return sr(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),ir(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&j("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var s=new Array(r-o),i=0;i<r-o;i++)s[i]=void 0;this.spliceWithArray_(o,0,s)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&j(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&Vu(r+o+1)},t.spliceWithArray_=function(r,o,s){var i=this,a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?o=a-r:o==null?o=0:o=Math.max(0,Math.min(o,a-r)),s===void 0&&(s=ts),Ee(this)){var u=Me(this,{object:this.proxy_,type:Ti,index:r,removedCount:o,added:s});if(!u)return ts;o=u.removedCount,s=u.added}if(s=s.length===0?s:s.map(function(l){return i.enhancer_(l,void 0)}),this.legacyMode_){var f=s.length-o;this.updateArrayLength_(a,f)}var c=this.spliceItemsIntoValues_(r,o,s);return(o!==0||s.length!==0)&&this.notifyArraySplice_(r,s,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function(r,o,s){if(s.length<Ad){var i;return(i=this.values_).splice.apply(i,[r,o].concat(s))}else{var a=this.values_.slice(r,r+o),u=this.values_.slice(r+o);this.values_.length+=s.length-o;for(var f=0;f<s.length;f++)this.values_[r+f]=s[f];for(var c=0;c<u.length;c++)this.values_[r+s.length+c]=u[c];return a}},t.notifyArrayChildUpdate_=function(r,o,s){var i=!this.owned_&&Fn(),a=Ue(this),u=a||i?{observableKind:"array",object:this.proxy_,type:nt,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:s}:null;this.atom_.reportChanged(),a&&We(this,u)},t.notifyArraySplice_=function(r,o,s){var i=!this.owned_&&Fn(),a=Ue(this),u=a||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Ti,index:r,removed:s,added:o,removedCount:s.length,addedCount:o.length}:null;this.atom_.reportChanged(),a&&We(this,u)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var s=this.values_;if(this.legacyMode_&&r>s.length&&j(17,r,s.length),r<s.length){var i=s[r];if(Ee(this)){var a=Me(this,{type:nt,object:this.proxy_,index:r,newValue:o});if(!a)return;o=a.newValue}o=this.enhancer_(o,i);var u=o!==i;u&&(s[r]=o,this.notifyArrayChildUpdate_(r,o,i))}else{for(var f=new Array(r+1-s.length),c=0;c<f.length-1;c++)f[c]=void 0;f[f.length-1]=o,this.spliceWithArray_(s.length,0,f)}},e})();function Cd(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),Ga(),Dt(function(){var o=new Ls(n,t,r,!1);Ka(o.values_,S,o);var s=new Proxy(o.values_,Pd);return o.proxy_=s,e&&e.length&&o.spliceWithArray_(0,0,e),s})}var Kr={clear:function(){return this.splice(0)},replace:function(t){var n=this[S];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var i=this[S];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,n)}return i.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[S].spliceWithArray_(t,n,r)},push:function(){for(var t=this[S],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[S].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[S],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return m.trackingDerivation&&j(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){m.trackingDerivation&&j(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[S],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};G("at",$e);G("concat",$e);G("flat",$e);G("includes",$e);G("indexOf",$e);G("join",$e);G("lastIndexOf",$e);G("slice",$e);G("toString",$e);G("toLocaleString",$e);G("toSorted",$e);G("toSpliced",$e);G("with",$e);G("every",He);G("filter",He);G("find",He);G("findIndex",He);G("findLast",He);G("findLastIndex",He);G("flatMap",He);G("forEach",He);G("map",He);G("some",He);G("toReversed",He);G("reduce",Ru);G("reduceRight",Ru);function G(e,t){typeof Array.prototype[e]=="function"&&(Kr[e]=t(e))}function $e(e){return function(){var t=this[S];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function He(e){return function(t,n){var r=this,o=this[S];o.atom_.reportObserved();var s=o.dehanceValues_(o.values_);return s[e](function(i,a){return t.call(n,i,a,r)})}}function Ru(e){return function(){var t=this,n=this[S];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(s,i,a){return o(s,i,a,t)},r[e].apply(r,arguments)}}var Td=Rt("ObservableArrayAdministration",Ls);function de(e){return ao(e)&&Td(e[S])}var jd={},Tt="add",qr="delete",Bs=(function(){function e(n,r,o){var s=this;r===void 0&&(r=Kt),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[S]=jd,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,Te(Map)||j(18),Dt(function(){s.keysAtom_=Ot("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!m.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var i=s=new jt(this.has_(r),uo,"ObservableMap.key?",!1);this.hasMap_.set(r,i),Ds(i,function(){return o.hasMap_.delete(r)})}return s.get()},t.set=function(r,o){var s=this.has_(r);if(Ee(this)){var i=Me(this,{type:s?nt:Tt,object:this,newValue:o,name:r});if(!i)return this;o=i.newValue}return s?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(Ee(this)){var s=Me(this,{type:qr,object:this,name:r});if(!s)return!1}if(this.has_(r)){var i=Fn(),a=Ue(this),u=a||i?{observableKind:"map",debugObjectName:this.name_,type:qr,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Fe(function(){var f;o.keysAtom_.reportChanged(),(f=o.hasMap_.get(r))==null||f.setNewValue_(!1);var c=o.data_.get(r);c.setNewValue_(void 0),o.data_.delete(r)}),a&&We(this,u),!0}return!1},t.updateValue_=function(r,o){var s=this.data_.get(r);if(o=s.prepareNewValue_(o),o!==m.UNCHANGED){var i=Fn(),a=Ue(this),u=a||i?{observableKind:"map",debugObjectName:this.name_,type:nt,object:this,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),a&&We(this,u)}},t.addValue_=function(r,o){var s=this;Fe(function(){var f,c=new jt(o,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,c),o=c.value_,(f=s.hasMap_.get(r))==null||f.setNewValue_(!0),s.keysAtom_.reportChanged()});var i=Fn(),a=Ue(this),u=a||i?{observableKind:"map",debugObjectName:this.name_,type:Tt,object:this,name:r,newValue:o}:null;a&&We(this,u)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return ji({next:function(){var i=o.next(),a=i.done,u=i.value;return{done:a,value:a?void 0:r.get(u)}}})},t.entries=function(){var r=this,o=this.keys();return ji({next:function(){var i=o.next(),a=i.done,u=i.value;return{done:a,value:a?void 0:[u,r.get(u)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,o){for(var s=ln(this),i;!(i=s()).done;){var a=i.value,u=a[0],f=a[1];r.call(o,f,u,this)}},t.merge=function(r){var o=this;return re(r)&&(r=new Map(r)),Fe(function(){gt(r)?Df(r).forEach(function(s){return o.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var i=s[0],a=s[1];return o.set(i,a)}):An(r)?(If(r)||j(19,r),r.forEach(function(s,i){return o.set(i,s)})):r!=null&&j(20,r)}),this},t.clear=function(){var r=this;Fe(function(){ho(function(){for(var o=ln(r.keys()),s;!(s=o()).done;){var i=s.value;r.delete(i)}})})},t.replace=function(r){var o=this;return Fe(function(){for(var s=$d(r),i=new Map,a=!1,u=ln(o.data_.keys()),f;!(f=u()).done;){var c=f.value;if(!s.has(c)){var l=o.delete(c);if(l)a=!0;else{var d=o.data_.get(c);i.set(c,d)}}}for(var p=ln(s.entries()),h;!(h=p()).done;){var w=h.value,x=w[0],O=w[1],v=o.data_.has(x);if(o.set(x,O),o.data_.has(x)){var b=o.data_.get(x);i.set(x,b),v||(a=!0)}}if(!a)if(o.data_.size!==i.size)o.keysAtom_.reportChanged();else for(var y=o.data_.keys(),C=i.keys(),k=y.next(),B=C.next();!k.done;){if(k.value!==B.value){o.keysAtom_.reportChanged();break}k=y.next(),B=C.next()}o.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return ir(this,r)},t.intercept_=function(r){return sr(this,r)},Pn(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),re=Rt("ObservableMap",Bs);function ji(e){return e[Symbol.toStringTag]="MapIterator",Us(e)}function $d(e){if(An(e)||re(e))return e;if(Array.isArray(e))return new Map(e);if(gt(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return j(21,e)}var kd={},zs=(function(){function e(n,r,o){var s=this;r===void 0&&(r=Kt),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[S]=kd,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,Te(Set)||j(22),this.enhancer_=function(i,a){return r(i,a,o)},Dt(function(){s.atom_=Ot(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Fe(function(){ho(function(){for(var o=ln(r.data_.values()),s;!(s=o()).done;){var i=s.value;r.delete(i)}})})},t.forEach=function(r,o){for(var s=ln(this),i;!(i=s()).done;){var a=i.value;r.call(o,a,a,this)}},t.add=function(r){var o=this;if(Ee(this)){var s=Me(this,{type:Tt,object:this,newValue:r});if(!s)return this;r=s.newValue}if(!this.has(r)){Fe(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var i=!1,a=Ue(this),u=a||i?{observableKind:"set",debugObjectName:this.name_,type:Tt,object:this,newValue:r}:null;a&&We(this,u)}return this},t.delete=function(r){var o=this;if(Ee(this)){var s=Me(this,{type:qr,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var i=!1,a=Ue(this),u=a||i?{observableKind:"set",debugObjectName:this.name_,type:qr,object:this,oldValue:r}:null;return Fe(function(){o.atom_.reportChanged(),o.data_.delete(r)}),a&&We(this,u),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return $i({next:function(){var s=r.next(),i=s.value,a=s.done;return a?{value:void 0,done:a}:{value:[i,i],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=this.data_.values();return $i({next:function(){var i=o.next(),a=i.value,u=i.done;return u?{value:void 0,done:u}:{value:r.dehanceValue_(a),done:u}}})},t.intersection=function(r){if(ut(r)&&!Z(r))return r.intersection(this);var o=new Set(this);return o.intersection(r)},t.union=function(r){if(ut(r)&&!Z(r))return r.union(this);var o=new Set(this);return o.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(ut(r)&&!Z(r))return r.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(ut(r)&&!Z(r))return r.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(r)},t.replace=function(r){var o=this;return Z(r)&&(r=new Set(r)),Fe(function(){Array.isArray(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):ut(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):r!=null&&j("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return ir(this,r)},t.intercept_=function(r){return sr(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Pn(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Z=Rt("ObservableSet",zs);function $i(e){return e[Symbol.toStringTag]="SetIterator",Us(e)}var ki=Object.create(null),Ei="remove",Iu=(function(){function e(n,r,o,s){r===void 0&&(r=new Map),s===void 0&&(s=hl),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=s,this.keysAtom_=new It("ObservableObject.keys"),this.isPlainObject_=gt(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var s=this.values_.get(r);if(s instanceof Ke)return s.set(o),!0;if(Ee(this)){var i=Me(this,{type:nt,object:this.proxy_||this.target_,name:r,newValue:o});if(!i)return null;o=i.newValue}if(o=s.prepareNewValue_(o),o!==m.UNCHANGED){var a=Ue(this),u=!1,f=a||u?{type:nt,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),a&&We(this,f)}return!0},t.get_=function(r){return m.trackingDerivation&&!ht(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,s){return s===void 0&&(s=!1),ht(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):s?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!m.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new jt(r in this.target_,uo,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var s;if((s=this.target_[et])!=null&&s[r])return;j(1,o.annotationType_,this.name_+"."+r.toString())}for(var i=this.target_;i&&i!==er;){var a=Lr(i,r);if(a){var u=o.make_(this,r,a,i);if(u===0)return;if(u===1)break}i=Object.getPrototypeOf(i)}Ri(this,o,r)}},t.extend_=function(r,o,s,i){if(i===void 0&&(i=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,o,i);var a=s.extend_(this,r,o,i);return a&&Ri(this,s,r),a},t.defineProperty_=function(r,o,s){s===void 0&&(s=!1);try{we();var i=this.delete_(r);if(!i)return i;if(Ee(this)){var a=Me(this,{object:this.proxy_||this.target_,name:r,type:Tt,newValue:o.value});if(!a)return null;var u=a.newValue;o.value!==u&&(o=kt({},o,{value:u}))}if(s){if(!Reflect.defineProperty(this.target_,r,o))return!1}else tt(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{xe()}return!0},t.defineObservableProperty_=function(r,o,s,i){i===void 0&&(i=!1);try{we();var a=this.delete_(r);if(!a)return a;if(Ee(this)){var u=Me(this,{object:this.proxy_||this.target_,name:r,type:Tt,newValue:o});if(!u)return null;o=u.newValue}var f=Mi(r),c={configurable:m.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:f.get,set:f.set};if(i){if(!Reflect.defineProperty(this.target_,r,c))return!1}else tt(this.target_,r,c);var l=new jt(o,s,"ObservableObject.key",!1);this.values_.set(r,l),this.notifyPropertyAddition_(r,l.value_)}finally{xe()}return!0},t.defineComputedProperty_=function(r,o,s){s===void 0&&(s=!1);try{we();var i=this.delete_(r);if(!i)return i;if(Ee(this)){var a=Me(this,{object:this.proxy_||this.target_,name:r,type:Tt,newValue:void 0});if(!a)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var u=Mi(r),f={configurable:m.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,r,f))return!1}else tt(this.target_,r,f);this.values_.set(r,new Ke(o)),this.notifyPropertyAddition_(r,void 0)}finally{xe()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),!ht(this.target_,r))return!0;if(Ee(this)){var s=Me(this,{object:this.proxy_||this.target_,name:r,type:Ei});if(!s)return null}try{var i;we();var a=Ue(this),u=!1,f=this.values_.get(r),c=void 0;if(!f&&(a||u)){var l;c=(l=Lr(this.target_,r))==null?void 0:l.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(f&&(this.values_.delete(r),f instanceof jt&&(c=f.value_),pu(f)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(r in this.target_),a||u){var d={type:Ei,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:c,name:r};a&&We(this,d)}}finally{xe()}return!0},t.observe_=function(r,o){return ir(this,r)},t.intercept_=function(r){return sr(this,r)},t.notifyPropertyAddition_=function(r,o){var s,i=Ue(this),a=!1;if(i||a){var u=i||a?{type:Tt,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;i&&We(this,u)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),pn(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function tn(e,t){var n;if(ht(e,S))return e;var r=(n=t?.name)!=null?n:"ObservableObject",o=new Iu(e,new Map,String(r),Sl(t));return tr(e,S,o),e}var Ed=Rt("ObservableObjectAdministration",Iu);function Mi(e){return ki[e]||(ki[e]={get:function(){return this[S].getObservablePropValue_(e)},set:function(n){return this[S].setObservablePropValue_(e,n)}})}function W(e){return ao(e)?Ed(e[S]):!1}function Ri(e,t,n){var r;(r=e.target_[et])==null||delete r[n]}var Md=Nu(0),Lo=0,Du=function(){};function Rd(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}Rd(Du,Array.prototype);var Fs=(function(e){function t(r,o,s,i){var a;return s===void 0&&(s="ObservableArray"),i===void 0&&(i=!1),a=e.call(this)||this,Dt(function(){var u=new Ls(s,o,i,!0);u.proxy_=a,Ka(a,S,u),r&&r.length&&a.spliceWithArray(0,0,r),Object.defineProperty(a,"0",Md)}),a}Ja(t,e);var n=t.prototype;return n.concat=function(){this[S].atom_.reportObserved();for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return de(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,o=0;return Us({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},Pn(t,[{key:"length",get:function(){return this[S].getArrayLength_()},set:function(o){this[S].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(Du);Object.entries(Kr).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&tr(Fs.prototype,t,n)});function Nu(e){return{enumerable:!1,configurable:!0,get:function(){return this[S].get_(e)},set:function(n){this[S].set_(e,n)}}}function Id(e){tt(Fs.prototype,""+e,Nu(e))}function Vu(e){if(e>Lo){for(var t=Lo;t<e+100;t++)Id(t);Lo=e}}Vu(1e3);function Dd(e,t,n){return new Fs(e,t,n)}function _t(e,t){if(typeof e=="object"&&e!==null){if(de(e))return t!==void 0&&j(23),e[S].atom_;if(Z(e))return e.atom_;if(re(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||j(25,t,Zr(e)),n}if(W(e)){if(!t)return j(26);var r=e[S].values_.get(t);return r||j(27,t,Zr(e)),r}if(ks(e)||qt(e)||Gr(e))return e}else if(Te(e)&&Gr(e[S]))return e[S];j(28)}function mt(e,t){if(e||j(29),t!==void 0)return mt(_t(e,t));if(ks(e)||qt(e)||Gr(e)||re(e)||Z(e))return e;if(e[S])return e[S];j(24,e)}function Zr(e,t){var n;if(t!==void 0)n=_t(e,t);else{if(Zt(e))return e.name;W(e)||re(e)||Z(e)?n=mt(e):n=_t(e)}return n.name_}function Dt(e){var t=en(),n=fo(!0);we();try{return e()}finally{xe(),lo(n),pt(t)}}var Ii=er.toString;function Gs(e,t,n){return n===void 0&&(n=-1),ls(e,t,n)}function ls(e,t,n,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var i=Ii.call(e);if(i!==Ii.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=Di(e),t=Di(t);var a=i==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var u=e.constructor,f=t.constructor;if(u!==f&&!(Te(u)&&u instanceof u&&Te(f)&&f instanceof f)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var c=r.length;c--;)if(r[c]===e)return o[c]===t;if(r.push(e),o.push(t),a){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!ls(e[c],t[c],n-1,r,o))return!1}else{var l=Object.keys(e),d=l.length;if(Object.keys(t).length!==d)return!1;for(var p=0;p<d;p++){var h=l[p];if(!(ht(t,h)&&ls(e[h],t[h],n-1,r,o)))return!1}}return r.pop(),o.pop(),!0}function Di(e){return de(e)?e.slice():An(e)||re(e)||ut(e)||Z(e)?Array.from(e.entries()):e}var Ni,Nd=((Ni=io().Iterator)==null?void 0:Ni.prototype)||{};function Us(e){return e[Symbol.iterator]=Vd,Object.assign(Object.create(Nd),e)}function Vd(){return this}["Symbol","Map","Set"].forEach(function(e){var t=io();typeof t[e]>"u"&&j("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:gu,extras:{getDebugName:Zr},$mobx:S});const Ld=Object.freeze(Object.defineProperty({__proto__:null,$mobx:S,FlowCancellationError:bo,ObservableMap:Bs,ObservableSet:zs,Reaction:ot,_allowStateChanges:Ms,_allowStateChangesInsideComputed:fs,_allowStateReadsEnd:dn,_allowStateReadsStart:po,_autoAction:bn,_endAction:au,_getAdministration:mt,_getGlobalState:Il,_interceptReads:fd,_isComputingDerivation:kl,_resetGlobalState:Dl,_startAction:iu,action:A,autorun:Is,comparer:Wt,computed:J,configure:nd,createAtom:Ot,defineProperty:gd,entries:ju,extendObservable:Ns,flow:Jt,flowResult:cd,get:$u,getAtom:_t,getDebugName:Zr,getDependencyTree:rd,getObserverTree:od,has:Vs,intercept:go,isAction:Zt,isBoxedObservable:Rs,isComputed:hd,isComputedProp:pd,isFlow:gn,isFlowCancellationError:ad,isObservable:st,isObservableArray:de,isObservableMap:re,isObservableObject:W,isObservableProp:bd,isObservableSet:Z,keys:Ht,makeAutoObservable:Sd,makeObservable:Mu,observable:V,observe:vo,onBecomeObserved:Ou,onBecomeUnobserved:Ds,onReactionError:Fl,override:Jf,ownKeys:ku,reaction:xu,remove:vt,runInAction:fs,set:St,spy:gu,toJS:Wr,trace:md,transaction:Fe,untracked:ho,values:Ur,when:yd},Symbol.toStringTag,{value:"Module"}));var Bd=Object.defineProperty,zd=(e,t,n)=>t in e?Bd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$=(e,t,n)=>zd(e,typeof t!="symbol"?t+"":t,n),Lu,Vi,Li,Bi,zi,Fi,Gi,Ui,Wi,Ki;const Fd=new Map;function Gd(e,t,n){Fd.set(e,{modelClass:t,fnName:n})}var ar=(e=>(e.ApplyPatches="$$applyPatches",e.ApplySnapshot="$$applySnapshot",e.Detach="$$detach",e.ApplySet="$$applySet",e.ApplyDelete="$$applyDelete",e.ApplyMethodCall="$$applyMethodCall",e))(ar||{});new Set(Object.values(ar));var Nt=(e=>(e.Sync="sync",e.Async="async",e))(Nt||{});let Bu;function _o(){return Bu}function qi(e){Bu=e}const zu=Symbol("modelAction");function Ws(e){return typeof e=="function"&&zu in e}const L="$modelType",Pe="$modelId";function Fu(e){return e===L}class Ks extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Ks.prototype)}}function _(e){return new Ks(e)}const Ud={enumerable:!1,writable:!0,configurable:!1,value:void 0};function Gu(e,t,n,r=!0){r?(Object.defineProperty(e,t,Ud),e[t]=n):Object.defineProperty(e,t,{enumerable:!1,writable:r,configurable:!0,value:n})}function rt(e){if(!De(e))return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function De(e){return e!==null&&typeof e=="object"}function oe(e){switch(typeof e){case"number":case"string":case"boolean":case"undefined":case"bigint":return!0;default:return e===null}}function mo(e){return e instanceof Map||re(e)}function yo(e){return e instanceof Set||Z(e)}function _e(e){return Array.isArray(e)||de(e)}const Uu=!1;function Cn(e,t){if(!De(e))throw _(`${t} must be an object`)}function Wu(e,t){if(typeof e!="function")throw _(`${t} must be a function`)}function Wd(e,t){if(!oe(e))throw _(`${t} must be a primitive`)}const Ku=Symbol("runAfterNew"),Kd=Symbol("runBeforeOnInit");function qu(e,t,n){let r=e[t];r&&Object.prototype.hasOwnProperty.call(e,t)||(r=r?r.slice():[],Gu(e,t,r)),r.push(n)}function Jr(e,t){const n=e[t];if(n)for(const r of n)r(e)}const Zi=new Set;function Zu(e,t,n){if(n){if(Zi.has(n))return;Zi.add(n)}switch(t="[mobx-keystone] "+t,e){case"warn":console.warn(t);break;case"error":console.error(t);break;default:throw _(`unknown log type - ${e}`)}}function At(e){let t,n=!1;return(...r)=>(n||(t=e(...r),n=!0),t)}const qe=e=>e,Hr={makeObservable:Ld.makeObservable};function qd(e){return`set${e[0].toUpperCase()}${e.slice(1)}`}function Ju(){return Hr.makeObservable?6:5}const ur="mobx-keystone",Xr=Symbol("propsType"),Ji=Symbol("fromSnapshotOverrideType"),Hi=Symbol("toSnapshotOverrideType"),qs=Symbol("modelInitialized"),Er={},Ce=new WeakMap;function cr(e){return Er[e]}function Ze(e,t,n){let r=e.get(t);return r===void 0&&(r=n(),e.set(t,r)),r}const ds=new WeakMap,Hu=new WeakMap;function Zd(e,t){return e||t?e&&t?e.parent===t.parent&&e.path===t.path:!1:!0}function Jd(){return Ot("parentAtom")}function Hd(e){Ze(Hu,e,Jd).reportObserved()}function Xi(e){var t;(t=Hu.get(e))==null||t.reportChanged()}const Tn=new WeakMap;function vn(e){const t=Tn.get(e);return t??e}function Kn(e){return ce(e)?e.$:e}const Xt=new WeakMap;function yt(e,t){return!t&&Tn.has(e)?!1:Xt.has(e)}function hs(e){return!oe(e)&&yt(e,!1)}function se(e,t,n=!1){if(!n&&Tn.has(e))throw _(`${t} must be the model object instance instead of the '$' sub-object`);if(oe(e)||!yt(e,!0))throw _(`${t} must be a tree node (usually a model or a shallow / deep child part of a model 'data' object)`)}function Xd(e,t="argument"){se(e,t,!1)}let Gn=!1;function Yd(e){const t=Gn;Gn=!0;try{fs(()=>{e()})}finally{Gn=t}}const qn=Symbol("modelMetadata"),Bo=Symbol("modelUnwrappedClass"),ps=Symbol("runAfterModelDecorator"),Xu=Symbol("modelProperties");function fr(e){return e[Xu]}function Qd(e,t){e[Xu]=t}const te=Symbol("noDefaultValue"),Zs={_setter:!1,_isId:!0,withSetter(e){const t=Object.create(this);return t._setter=e??!0,t},typedAs(){return Zs}},Yi={_defaultFn:te,_defaultValue:te,_typeChecker:void 0,_setter:!1,_isId:!1,_transform:void 0,_fromSnapshotProcessor:void 0,_toSnapshotProcessor:void 0,withSetter(e){const t=Object.create(this);return t._setter=e??!0,t},withTransform(e){const t=Object.create(this);return t._transform=th(e),t},withSnapshotProcessor({fromSnapshot:e,toSnapshot:t}){let n;if(this._fromSnapshotProcessor&&e){const s=this._fromSnapshotProcessor,i=e;n=a=>s(i(a))}else e?n=e:n=this._fromSnapshotProcessor;let r;if(this._toSnapshotProcessor&&t){const s=this._toSnapshotProcessor,i=t;r=a=>i(s(a))}else t?r=t:r=this._toSnapshotProcessor;const o=Object.create(this);return o._fromSnapshotProcessor=n,o._toSnapshotProcessor=r,o}};function bs(e){if(!(arguments.length>0))return Yi;let n=Qi.get(e);return n||(n=Object.create(Yi),typeof e=="function"?n._defaultFn=e:n._defaultValue=e,Qi.set(e,n)),n}const Qi=new Map;let gs=!1;const eh=()=>{gs=!0};function th(e){const t=new WeakMap,n=o=>o.originalValue==null?o.originalValue:e.transform(o),r=o=>o.transformedValue==null?o.transformedValue:e.untransform(o);return{transform(o,s,i,a){const u=Ze(t,s,()=>new Map);let f=u.get(i);f?.originalValue!==o&&(u.delete(i),f=void 0);const c=n({originalValue:o,cachedTransformedValue:f?.transformedValue,setOriginalValue:a});return u.set(i,{originalValue:o,transformedValue:c}),c},untransform(o,s,i){const a=Ze(t,s,()=>new Map);gs=!1;const u=r({transformedValue:o,cacheTransformedValue:eh});return gs?a.set(i,{originalValue:u,transformedValue:o}):a.delete(i),u}}}function Zn(e){return e._defaultFn!==te?e._defaultFn():e._defaultValue!==te?e._defaultValue:te}let nh="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",rh=(e=21)=>{let t="",n=e|0;for(;n--;)t+=nh[Math.random()*64|0];return t},ea=0;const oh=rh();function sh(){const e=ea.toString(36)+"-"+oh;return ea++,e}let Yr={modelAutoTypeChecking:"devModeOnly",modelIdGenerator:sh,allowUndefinedArrayElements:!1,showDuplicateModelNameWarnings:!0};function Lg(e){Yr=Object.freeze({...Yr,...e})}function wo(){return Yr}function lr(){switch(wo().modelAutoTypeChecking){case"devModeOnly":return Uu;case"alwaysOff":return!1;case"alwaysOn":return!0;default:throw _(`invalid 'modelAutoTypeChecking' config value - ${Yr.modelAutoTypeChecking}`)}}const ta=new WeakMap;function jn(e){let t=ta.get(e);return t||(t={shallow:new Set,shallowAtom:void 0,deep:new Set,deepDirty:!0,deepAtom:void 0,extensionsData:tc()},ta.set(e,t)),t}function xo(e){const t=jn(e);return t.shallowAtom||(t.shallowAtom=Ot("shallowChildrenAtom")),t.shallowAtom.reportObserved(),t.shallow}function ih(e){const t=jn(e);return t.deepDirty&&Yu(e),t.deepAtom||(t.deepAtom=Ot("deepChildrenAtom")),t.deepAtom.reportObserved(),t}function na(e,t){t.deep.add(e),Js.forEach((n,r)=>{n.addNode(e,t.extensionsData.get(r))})}const Yu=A(e=>{var t;const n=jn(e);if(!n.deepDirty)return n;n.deep=new Set,n.extensionsData=tc();const r=n.shallow.values();let o=r.next();for(;!o.done;){na(o.value,n);const i=Yu(o.value).deep.values();let a=i.next();for(;!a.done;)na(a.value,n),a=i.next();o=r.next()}return n.deepDirty=!1,(t=n.deepAtom)==null||t.reportChanged(),n}),ah=A((e,t)=>{var n;const r=jn(e);r.shallow.add(t),(n=r.shallowAtom)==null||n.reportChanged(),Qu(e,r)}),uh=A((e,t)=>{var n;const r=jn(e);r.shallow.delete(t),(n=r.shallowAtom)==null||n.reportChanged(),Qu(e,r)});function Qu(e,t){var n;let r=e,o=t;for(;r;)o.deepDirty=!0,(n=o.deepAtom)==null||n.reportChanged(),r=Jn(r,!1),r&&(o=jn(r))}const Js=new Map;function ec(e){const t={};return Js.set(t,e),n=>n.extensionsData.get(t)}function tc(){const e=new WeakMap;return Js.forEach((t,n)=>{e.set(n,t.initData())}),e}function ch(){return!!_o()}function nc(){if(!ch())throw _("data changes must be performed inside model actions")}const vs=[];function rc(){return!!_o()}function fh(e){rc()?vs.push(e):e()}let zo=!1;function lh(){if(!(rc()||zo)){zo=!0;try{for(;vs.length>0;)vs.shift()()}finally{zo=!1}}}function Yt(e){if(ce(e))return e.constructor[qn];if(pr(e))return e[qn];throw _("modelClassOrInstance must be a model class or instance")}const dh=new WeakMap;function Qt(e){return Ze(dh,e,()=>Yt(e).modelIdProperty)}var _n=(e=>(e.OnInit="$$onInit",e.OnLazyInit="$$onLazyInit",e.OnAttachedToRootStore="$$onAttachedToRootStore",e.OnAttachedToRootStoreDisposer="$$onAttachedToRootStoreDisposer",e))(_n||{});new Set(Object.values(_n));var Hs=(e=>(e.ParentFirst="parentFirst",e.ChildrenFirst="childrenFirst",e))(Hs||{});function oc(e,t,n){return se(e,"root"),n==="parentFirst"?hh(e,t):sc(e,t)}function hh(e,t){const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);if(o!==void 0)return o;const s=xo(r);n.length+=s.size;let i=n.length-1;const a=s.values();let u=a.next();for(;!u.done;)n[i--]=u.value,u=a.next()}}function sc(e,t){const n=xo(e).values();let r=n.next();for(;!r.done;){const s=sc(r.value,t);if(s!==void 0)return s;r=n.next()}const o=t(e);if(o!==void 0)return o}function ic(e,t,n){let r=e.get(n);return r||(r=J(()=>bh(n,t,o=>ic(e,t,o))),e.set(n,r)),r.get()}function ph(e){const t=new WeakMap;return{walk:n=>ic(t,e,n)}}function bh(e,t,n){let r;const o=t(e),s=xo(e),i=s.values();let a=i.next();if(o===void 0&&s.size===1)return n(a.value);for(;!a.done;){const u=n(a.value);if(u){r||(r=new Map);const f=u.keys();let c=f.next();for(;!c.done;){const l=c.value,d=u.get(l);r.set(l,d),c=f.next()}}a=i.next()}return o!==void 0&&(r||(r=new Map),r.set(o,e)),r}const _s=new WeakMap,ms=new WeakSet,ac=A("attachToRootStore",(e,t)=>{const n=[];oc(t,o=>{ms.has(o)||(ms.add(o),o instanceof yn&&o.onAttachedToRootStore&&(As(o,"onAttachedToRootStore",_n.OnAttachedToRootStore),n.push(o)))},Hs.ParentFirst);const r=n.length;for(let o=0;o<r;o++){const s=n[o],i=s.onAttachedToRootStore(e);i&&_s.set(s,i)}}),uc=A("detachFromRootStore",e=>{const t=[];oc(e,r=>{if(!ms.delete(r))return;const o=_s.get(r);if(o){const s=on({nameOrNameFn:_n.OnAttachedToRootStoreDisposer,fn:o,actionType:Nt.Sync}).bind(r);_s.delete(r),t.push(s)}},Hs.ChildrenFirst);const n=t.length;for(let r=0;r<n;r++)t[r]()}),cc=new WeakMap;function gh(){return{atom:void 0,is:!1}}const Xs=e=>Ze(cc,e,gh),Bg=A("registerRootStore",e=>{var t;se(e,"node");const n=Xs(e);if(n.is)throw _("object already registered as root store");if(!Jp(e))throw _("a root store must not have a parent");return n.is=!0,ac(e,e),(t=n.atom)==null||t.reportChanged(),e}),zg=A("unregisterRootStore",e=>{var t;if(!vh(e))throw _("not a root store");const n=Xs(e);n.is=!1,uc(e),(t=n.atom)==null||t.reportChanged()});function vh(e){se(e,"node");const t=Xs(e);return t.atom||(t.atom=Ot("rootStore")),t.atom.reportObserved(),t.is}function Fo(e){var t;return!!((t=cc.get(e))!=null&&t.is)}class Ne{constructor(t,n,r,o){$(this,"message"),this.path=t,this.expectedTypeName=n,this.actualValue=r,this.typeCheckedValue=o;let s=[];this.typeCheckedValue&&yt(this.typeCheckedValue,!0)&&(s=Zp(this.typeCheckedValue,!1).path);const i=yt(this.actualValue,!0)?ve(this.actualValue):this.actualValue;this.message=`TypeCheckError: [/${[...s,...this.path].join("/")}] Expected a value of type <${this.expectedTypeName}> but got the value <${JSON.stringify(i)}> instead`}throw(){throw _(this.message)}}const _h=[],ys=new WeakMap;var je=(e=>(e.Object="object",e.Array="array",e.Primitive="primitive",e.Any="any",e))(je||{});function mh(e){return _e(e)?"array":De(e)?"object":oe(e)?"primitive":"any"}function yh(e){let t=e;for(;t;){const n=ys.get(t);n&&(ys.delete(t),n.forEach(r=>{r.invalidateCachedResult(t)})),t=qp(t,!1)}}const ws=new WeakMap;function wh(e){const t=ws.get(e);t&&(t.forEach(n=>{n.invalidateSnapshotProcessorCachedResult(e)}),ws.delete(e))}class me{constructor(t,n,r,o,s,i,a){$(this,"checkResultCache"),$(this,"unchecked"),$(this,"_cachedTypeInfoGen"),$(this,"fromSnapshotProcessor",u=>this._fromSnapshotProcessor(u)),$(this,"_toSnapshotProcessorCache",new WeakMap),$(this,"toSnapshotProcessor",u=>{if(typeof u!="object"||u===null)return this._toSnapshotProcessor(u);if(this._toSnapshotProcessorCache.has(u))return this._toSnapshotProcessorCache.get(u);const f=this._toSnapshotProcessor(u);return this._toSnapshotProcessorCache.set(u,f),Ze(ws,u,()=>new Set).add(this),f}),this.baseType=t,this._check=n,this.getTypeName=r,this.typeInfoGen=o,this.snapshotType=s,this._fromSnapshotProcessor=i,this._toSnapshotProcessor=a,this.unchecked=!n,this._cachedTypeInfoGen=At(o)}createCacheIfNeeded(){return this.checkResultCache||(this.checkResultCache=new WeakMap),this.checkResultCache}setCachedResult(t,n){this.createCacheIfNeeded().set(t,n),Ze(ys,t,()=>new Set).add(this)}invalidateCachedResult(t){var n;(n=this.checkResultCache)==null||n.delete(t)}getCachedResult(t){var n;return(n=this.checkResultCache)==null?void 0:n.get(t)}check(t,n,r){if(this.unchecked)return null;if(!yt(t,!0))return this._check(t,n,r);let o=this.getCachedResult(t);return o===void 0&&(o=this._check(t,_h,void 0),this.setCachedResult(t,o)),o?new Ne([...n,...o.path],o.expectedTypeName,o.actualValue,r):null}get typeInfo(){return this._cachedTypeInfoGen(this)}invalidateSnapshotProcessorCachedResult(t){this._toSnapshotProcessorCache.delete(t)}}const fc=Symbol("lateTypeCheker");function wt(e,t){let n;const r=()=>n||(n=e(),n);r[fc]=!0;const o=At(t);return Object.defineProperty(r,"typeInfo",{enumerable:!0,configurable:!1,get(){return o(r)}}),r}function Ys(e){return typeof e=="function"&&fc in e}class Ve{constructor(t){this.thisType=t}}const Qs=new WeakMap,Ft=new WeakMap;function Le(e){return Qs.get(e)}function xh(e,t){if(!(t&&e))return;const n=Le(t.parent);if(n)return{parentSnapshot:n,parentPath:t}}const Oh=A("unsetInternalSnapshot",e=>{var t;const n=Le(e);n&&(Qs.delete(e),(t=n.atom)==null||t.reportChanged())}),ei=A("setNewInternalSnapshot",(e,t,n,r=!1)=>{var o;const s=n?n(t):t,i={untransformed:t,transformFn:n,transformed:s,atom:void 0};Ft.set(t,r),s!==void 0&&s!==t&&Ft.set(s,r),Qs.set(e,i),(o=i.atom)==null||o.reportChanged()}),ti=A("updateInternalSnapshot",(e,t)=>{var n;const r=Le(e);let o=r.untransformed;Ft.get(o)?Array.isArray(o)?o=o.slice():o=Object.assign({},o):wh(o),t(o),r.untransformed=o,r.transformed=r.transformFn?r.transformFn(o):o,Ft.set(r.untransformed,!1),r.transformed!==void 0&&Ft.set(r.transformed,!1),(n=r.atom)==null||n.reportChanged();const i=xh(r,it(e,!1));if(i){const{parentSnapshot:a,parentPath:u}=i;if(a){const f=u.path;ti(u.parent,c=>{c[f]=r.transformed})}}});function Sh(e){e.atom||(e.atom=Ot("snapshot")),e.atom.reportObserved()}function Oe(e){if(oe(e))return e;const t=Ft.get(e);if(t===void 0||t)return e;if(Array.isArray(e))for(let n=0;n<e.length;n++)Oe(e[n]);else{const n=Object.keys(e);for(let r=0;r<n.length;r++)Oe(e[n[r]])}return Ft.set(e,!0),e}const Sr=[];class lc{constructor(){$(this,"patches",Sr),$(this,"invPatches",Sr)}reset(){this.patches=Sr,this.invPatches=Sr}record(t,n){this.patches=t,this.invPatches=n}emit(t){dc(t,this.patches,this.invPatches),this.reset()}}function dc(e,t,n){(t.length>0||n.length>0)&&(Ph(e,t,n),Ch(e,t,n))}const Ah=new WeakMap,ra=[];function Ph(e,t,n){for(let r=0;r<ra.length;r++){const o=ra[r];o(e,t,n)}}function oa(e,t,n,r){const o=Ah.get(e);if(!o||o.length===0)return;const s=u=>r.length>0?u.map(f=>Th(f,r)):u,i=s(t),a=s(n);for(let u=0;u<o.length;u++){const f=o[u];f(i,a)}}function Ch(e,t,n){const r=[];oa(e,t,n,r);let o=it(e,!1);for(;o;)r.unshift(o.path),oa(o.parent,t,n,r),o=it(o.parent,!1)}function Th(e,t){return{...e,path:[...t,...e.path]}}const sa=e=>{if(oe(e))return e;const t=Le(e);return t?Oe(t.transformed):e};function un(e,t,n){return n===void 0?{op:"remove",path:e}:t===void 0?{op:"add",path:e,value:sa(n)}:{op:"replace",path:e,value:sa(n)}}function ne(e,t,n){(e[t]!==n||!(t in e))&&St(e,t,n)}function jh(e,t,n){return e[t]!==n||!(t in e)?(St(e,t,n),!0):!1}var dr=(e=>(e[e.Model=0]="Model",e[e.Array=1]="Array",e[e.PlainObject=2]="PlainObject",e[e.Frozen=3]="Frozen",e))(dr||{});function $h(e,t,n=0){const r=kh(e,t,n);return r?r.parent:void 0}function kh(e,t,n=0){se(e,"child");const r=[];let o=e,s=0,i;for(;i=it(o,!0);){if(r.unshift(i.path),o=i.parent,t(o))return{parent:o,path:r};if(s++,n>0&&s===n)break}}let Mr=!0;function ni(e){const t=Mr;Mr=!1;try{e()}finally{Mr=t}}function Eh(){return Mr}var Pt=(e=>(e[e.Array=0]="Array",e[e.Frozen=1]="Frozen",e[e.Model=2]="Model",e[e.PlainObject=3]="PlainObject",e))(Pt||{});function Mh(e,t,n){if(!_e(e))return Gt(t);const r=ve(e);return ni(()=>{e.length>t.length&&e.splice(t.length,e.length-t.length);for(let o=0;o<e.length;o++){const s=e[o],i=ft(s,t[o],n,e);eo(i,s,n),ne(e,o,i)}for(let o=e.length;o<t.length;o++){const s=ft(void 0,t[o],n,e);eo(s,void 0,n),e.push(s)}}),hr(e,void 0,r),e}function Rh(){Oo(Pt.Array,(e,t,n)=>{if(_e(t))return Mh(e,t,n)})}const hc="$frozen";class ri{constructor(t,n="devModeOnly"){$(this,"data"),st(t)&&(t=Wr(t));const r=n==="on"||Uu;r&&Rr(t),this.data=t,r&&Object.freeze(this.data),Ie(this,void 0)}}function pc(e,t="devModeOnly"){return new ri(e,t)}function Rr(e){if(!oe(e)){if(Array.isArray(e)){const t=e.length;for(let n=0;n<t;n++){const r=e[n];if(r===void 0&&!wo().allowUndefinedArrayElements)throw _("undefined is not supported inside arrays since it is not serializable in JSON, consider using null instead");Rr(r)}Object.freeze(e);return}if(rt(e)){const t=Object.keys(e),n=t.length;for(let r=0;r<n;r++){const o=t[r],s=e[o];Rr(o),Rr(s)}Object.freeze(e);return}throw _(`frozen data must be plainly serializable to JSON, but ${e} is not`)}}function oi(e){return rt(e)&&hc in e}function Ih(e,t){return e instanceof ri&&e.data===t.data?e:pc(t.data)}function Dh(){Oo(Pt.Frozen,(e,t)=>{if(oi(t))return Ih(e,t)})}function Nh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Go,ia;function Vh(){return ia||(ia=1,Go=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){var i=s[o];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),Go}var Lh=Vh();const Bh=Nh(Lh);function bc(e,t){return e+" "+t}class gc{constructor(t){$(this,"pool");var n;t=(n=Tn.get(t))!=null?n:t,this.pool=zh(ih(t))}findModelByTypeAndId(t,n){return n?this.pool.get(bc(t,n)):void 0}findModelForSnapshot(t){if(!To(t))return;const n=t[L],r=cr(n),o=Qt(r.class);return o?this.findModelByTypeAndId(n,t[o]):void 0}}const zh=ec({initData(){return new Map},addNode(e,t){if(ce(e)){const n=e[Pe];n&&t.set(bc(e[L],n),e)}}});function aa(e,t){se(e,"node"),Cn(t,"snapshot"),Fh().call(e,t)}function vc(e){const t=this,n=()=>{const r=new gc(t);ft(t,e,r,void 0)};if(_e(e)){if(!_e(t))throw _("if the snapshot is an array the target must be an array too");n();return}if(oi(e))throw _("applySnapshot cannot be used over frozen objects");if(rt(e)&&e[L]===void 0&&ce(t)){const r=Ce.get(t.constructor);e={...e,[L]:r.name}}if(To(e)){const r=e[L],o=cr(r);if(!o)throw _(`model with name "${r}" not found in the registry`);if(!ce(t))throw _("the target for a model snapshot must be a model instance");if(t[L]!==r)throw _(`snapshot model type '${r}' does not match target model type '${t[L]}'`);const s=Qt(o.class);if(s){const i=e[s];if(t[Pe]!==i)throw _(`snapshot model id '${i}' does not match target model id '${t[Pe]}'`)}n();return}if(rt(e)){if(!(rt(t)||W(t)))throw _("if the snapshot is an object the target must be an object too");n();return}throw mo(e)?_("a snapshot must not contain maps"):yo(e)?_("a snapshot must not contain sets"):_(`unsupported snapshot - ${e}`)}const Fh=At(()=>on({nameOrNameFn:ar.ApplySnapshot,fn:vc,actionType:Nt.Sync}));function xs(e,t){return e===t?!0:(hs(e)?e=ve(e):st(e)&&(e=Wr(e)),hs(t)?t=ve(t):st(t)&&(t=Wr(t)),Bh(e,t))}function Gh(e,t,n,r){const o=t[L],s=cr(o);if(!s)throw _(`model with name "${o}" not found in the registry`);const i=n.findModelForSnapshot(t);if(i&&(e=i),!ce(e)||e[L]!==o)return Gt(t);const a=s.class,u=fr(a),f=Qt(a);if(f){const d=t[f];if(e[Pe]!==d)return Gt(t)}else if(_e(r)&&!xs(e,t))return Gt(t);const c=e,l=ve(c);return ni(()=>{const d=c.constructor,p=d.fromSnapshotProcessor?d.fromSnapshotProcessor(t):t,h=c.$,w=Object.keys(h),x=w.length;for(let b=0;b<x;b++){const y=w[b];if(!(y in p)){const C=u[y],k=C?Zn(C):te;k===te?vt(h,y):ne(h,y,k)}}const O=Object.keys(p),v=O.length;for(let b=0;b<v;b++){const y=O[b];if(!Fu(y)){const C=p[y],k=h[y];let B=ft(k,C,n,c);if(B==null){const pe=u[y],z=pe?Zn(pe):te;z!==te&&(B=z)}eo(B,k,n),ne(h,y,B)}}}),hr(c,void 0,l),c}function Uh(){Oo(Pt.Model,(e,t,n,r)=>{if(To(t))return Gh(e,t,n,r)})}function Wh(e,t,n){if(!(rt(e)||W(e)))return Gt(t);const r=e,o=ve(r);return ni(()=>{const s=Object.keys(r),i=s.length;for(let f=0;f<i;f++){const c=s[f];c in t||vt(r,c)}const a=Object.keys(t),u=a.length;for(let f=0;f<u;f++){const c=a[f],l=t[c],d=r[c],p=ft(d,l,n,r);eo(p,d,n),ne(r,c,p)}}),hr(r,void 0,o),r}function Kh(){Oo(Pt.PlainObject,(e,t,n)=>{if(rt(t))return Wh(e,t,n)})}let ua=!1;function qh(){ua||(ua=!0,Rh(),Dh(),Uh(),Kh())}const Qr=[];function Oo(e,t){Qr.push({priority:e,reconciler:t}),Qr.sort((n,r)=>n.priority-r.priority)}function ft(e,t,n,r){if(oe(t))return t;if(ve(e)===t)return e;qh();const o=Qr.length;for(let s=0;s<o;s++){const{reconciler:i}=Qr[s],a=i(e,t,n,r);if(a!==void 0)return a}throw mo(t)?_("a snapshot must not contain maps"):yo(t)?_("a snapshot must not contain sets"):_(`unsupported snapshot - ${t}`)}function eo(e,t,n){if(e!==t&&ce(e)&&n.findModelByTypeAndId(e[L],e[Pe])){const r=kc(e,!1);r&&St(r.parent,r.path,null)}}function to(e,t,n=!1){se(e,"node"),!(t.length<=0)&&Zh().call(e,t,n)}function _c(e,t=!1){const n=this,r=new gc(n);if(t){let o=e.length;for(;o--;){const s=e[o];if(_e(s)){let i=s.length;for(;i--;)Ar(n,s[i],r)}else Ar(n,s,r)}}else{const o=e.length;for(let s=0;s<o;s++){const i=e[s];if(_e(i)){const a=i.length;for(let u=0;u<a;u++)Ar(n,i[u],r)}else Ar(n,i,r)}}}const Zh=At(()=>on({nameOrNameFn:ar.ApplyPatches,fn:_c,actionType:Nt.Sync}));function Ar(e,t,n){const{target:r,prop:o}=Jh(e,t.path);if(_e(r))switch(t.op){case"add":{const s=+o,i=ft(void 0,t.value,n,r);s<0?r.push(i):r.splice(s,0,i);break}case"remove":{const s=+o;r.splice(s,1);break}case"replace":{if(o==="length")r.length=t.value;else{const s=+o,i=ft(r[s],t.value,n,r);ne(r,s,i)}break}default:throw _(`unsupported patch operation: ${t.op}`)}else switch(t.op){case"add":{const s=ft(void 0,t.value,n,r);ne(r,o,s);break}case"remove":{vt(r,o);break}case"replace":{const s=ft(r[o],t.value,n,r);ne(r,o,s);break}default:throw _(`unsupported patch operation: ${t.op}`)}}function Jh(e,t){let n=Kn(e);if(t.length===0)return{target:n};for(let r=0;r<=t.length-2;r++)n=Kn(n[t[r]]);return{target:n,prop:t[t.length-1]}}function hr(e,t,n){if(Eh()&&(yh(e),lr())){const r=Hh(e);if(r){const o=r.typeCheck();o&&(Yd(()=>{t?_c.call(e,t.invPatches,!0):n&&vc.call(e,n)}),o.throw())}}}function Hh(e){const t=vn(e);return e!==t&&(e=t,ce(e)&&Yt(e).dataType)?e:$h(e,n=>ce(n)&&!!Yt(n).dataType)}function mc(e,t,n){const r=e,o=r.length,s=de(r)?r:V.array(void 0,ip);s!==r&&(s.length=r.length);let i,a;const u=()=>{i(),a()};Xt.set(s,u),xt(s,t,!1,!1,!1);const f=[];f.length=o;for(let c=0;c<o;c++){const l=r[c];if(oe(l))n||ne(s,c,l),f[c]=l;else{const d={parent:s,path:c};let p;n?(p=l,xt(p,d,!1,!1,!1)):(p=Ie(l,d),ne(s,c,p));const h=Le(p);f[c]=h.transformed}}return ei(s,f,void 0),i=go(s,np.bind(void 0,s)),a=vo(s,Qh),s}function Xh(e,t,n){n[e]=t}function Yh(e,t,n,r){r.splice(e,t,...n)}const Un=new lc;function Qh(e){const t=e.object,n=Le(t).untransformed;Un.reset();let r;switch(e.type){case"splice":r=tp(e,n);break;case"update":r=ep(e,n);break}hr(t,Un),!Gn&&r&&(ti(t,r),Un.emit(t))}function ep(e,t){const n=e.index,r=e.newValue,o=t[n];let s;oe(r)?s=r:s=Le(r).transformed;const i=Xh.bind(void 0,n,s),a=[n];return Un.record([{op:"replace",path:a,value:Oe(s)}],[{op:"replace",path:a,value:Oe(o)}]),i}function tp(e,t){const n=e.index,r=e.addedCount,o=e.removedCount,s=[];s.length=r;for(let c=0;c<r;c++){const l=e.added[c];oe(l)?s[c]=l:s[c]=Le(l).transformed}const i=t.length,a=Yh.bind(void 0,n,o,s),u=[],f=[];if(r===o){const c=[],l=[];let d=0;for(let p=0;p<r;p++){const h=n+p,w=ca(t,h,n,o,s),x=t[h];if(w!==x){const O=[h-d];u.push({op:"remove",path:O}),f.push({op:"remove",path:O}),d++;const v=[h];c.push({op:"add",path:v,value:Oe(w)}),l.push({op:"add",path:v,value:Oe(x)})}}u.push(...c),f.push(...l),f.reverse()}else{const c=i-o;if(o>0){const l=n>=c;l&&u.push({op:"replace",path:["length"],value:c});for(let d=o-1;d>=0;d--){const p=n+d,h=[p];l||u.push({op:"remove",path:h}),f.push({op:"add",path:h,value:Oe(t[p])})}}if(r>0){const l=n>=c;l&&f.push({op:"replace",path:["length"],value:c});for(let d=0;d<r;d++){const p=n+d,h=[p];u.push({op:"add",path:h,value:Oe(ca(t,p,n,o,s))}),l||f.push({op:"remove",path:h})}}}return Un.record(u,f),a}function np(e,t){switch(nc(),t.type){case"splice":op(t);break;case"update":rp(t,e);break}return t}function rp(e,t){const n=t[e.index];Ie(n,void 0),e.newValue=Ie(e.newValue,{parent:t,path:e.index})}function op(e){for(let r=0;r<e.removedCount;r++){const o=e.object[e.index+r];Ie(o,void 0)}for(let r=0;r<e.added.length;r++)e.added[r]=Ie(e.added[r],{parent:e.object,path:e.index+r});const t=e.index+e.removedCount,n=e.index+e.added.length;if(t!==n)for(let r=t,o=n;r<e.object.length;r++,o++)xt(e.object[r],{parent:e.object,path:o},!0,!1,!1)}function sp(){Po(dr.Array,(e,t)=>{if(_e(e))return mc(e,t,!1)})}const ip={deep:!1};function ca(e,t,n,r,o){const s=t-n;return s<0?e[t]:s<o.length?o[s]:e[t-o.length+r]}function ap(e,t){const n=V.array([],ii),r=e.length;for(let o=0;o<r;o++)n.push(Ao(e[o],t));return mc(n,void 0,!0)}function up(){So(Pt.Array,(e,t)=>{if(_e(e))return ap(e,t)})}function cp(){So(Pt.Frozen,e=>{if(oi(e))return pc(e.data)})}function fp(e,t){const n=e[L];if(!n)throw _(`a model snapshot must contain a type key (${L}), but none was found`);const r=cr(n);if(!r)throw _(`model with name "${n}" not found in the registry`);const o=Qt(r.class);if(o&&e[o]===void 0)throw _(`a model snapshot of type '${n}' must contain an id key (${o}), but none was found`);return new r.class(void 0,{snapshotInitialData:{unprocessedSnapshot:e,unprocessedModelType:typeof t.untypedSnapshot=="object"&&t.untypedSnapshot&&L in t.untypedSnapshot?t.untypedSnapshot[L]:void 0,snapshotToInitialData:t.snapshotToInitialData},generateNewIds:t.options.generateNewIds})}function lp(){So(Pt.Model,(e,t)=>{if(To(e))return fp(e,t)})}function si(e,t,n,r,o){const s=e,i=W(s)?s:V.object({},void 0,dp);let a,u;const f=()=>{a(),u()};Xt.set(i,f),xt(i,t,!1,o,!1);const c={},l=Object.keys(s),d=l.length;for(let h=0;h<d;h++){const w=l[h],x=s[w];if(oe(x))r||ne(i,w,x),c[w]=x;else{const O={parent:i,path:w};let v;r?(v=x,xt(v,O,!1,!1,!1)):(v=Ie(x,O),ne(i,w,v));const b=Le(v);c[w]=b.transformed}}let p;if(n){c[L]=n;const h=cr(n);if(!h)throw _(`model with name "${n}" not found in the registry`);const w=h.class.toSnapshotProcessor;w&&(p=x=>w(x,vn(i)))}return ei(o?vn(i):i,c,p),a=go(i,_p),u=vo(i,bp),i}const dp={deep:!1};function hp(e,t,n){n[e]=t}function pp(e,t){delete t[e]}const hn=new lc;function bp(e){const t=e.object,n=vn(t),r=Le(n).untransformed;hn.reset();let o;switch(e.type){case"add":case"update":o=vp(e,r);break;case"remove":o=gp(e,r);break;default:throw _("assertion error: unsupported object change type")}hr(t,hn),Gn||(ti(n,o),hn.emit(n))}function gp(e,t){const n=e.name,r=t[n],o=pp.bind(void 0,n),s=[n];return hn.record([{op:"remove",path:s}],[{op:"add",path:s,value:Oe(r)}]),o}function vp(e,t){const n=e.name,r=e.newValue,o=t[n];let s;oe(r)?s=r:s=Le(r).transformed;const i=hp.bind(void 0,n,s),a=[n];return e.type==="add"?hn.record([{op:"add",path:a,value:Oe(s)}],[{op:"remove",path:a}]):hn.record([{op:"replace",path:a,value:Oe(s)}],[{op:"replace",path:a,value:Oe(o)}]),i}function _p(e){if(nc(),typeof e.name=="symbol")throw _("symbol properties are not supported");switch(e.type){case"add":e.newValue=Ie(e.newValue,{parent:e.object,path:String(e.name)});break;case"remove":{Ie(e.object[e.name],void 0);break}case"update":{const t=e.object[e.name],n=e.newValue;n!==t&&(Ie(t,void 0),e.newValue=Ie(n,{parent:e.object,path:String(e.name)}));break}default:throw _("assertion error: unsupported object change type")}return e}function mp(){Po(dr.PlainObject,(e,t)=>{if(W(e)||rt(e))return si(e,t,void 0,!1,!1)})}function yp(e,t){const n=V.object({},void 0,ii),r=Object.keys(e),o=r.length;for(let s=0;s<o;s++){const i=r[s],a=e[i];St(n,i,Ao(a,t))}return si(n,void 0,void 0,!0,!1)}function wp(){So(Pt.PlainObject,(e,t)=>{if(rt(e))return yp(e,t)})}let fa=!1;function xp(){fa||(fa=!0,up(),cp(),lp(),wp())}const no=[];function So(e,t){no.push({priority:e,snapshotter:t}),no.sort((n,r)=>n.priority-r.priority)}function Gt(e,t,n){let r,o,s;if(Ys(e)||e instanceof me||pr(e)){const i=ae(e);o=t,r=i.fromSnapshotProcessor(o),s=n}else r=e,o=r,s=t;return Op(r,o,s)}const Op=A("fromSnapshot",(e,t,n)=>{const o={options:{generateNewIds:!1,overrideRootModelId:void 0,...n},untypedSnapshot:t};return o.snapshotToInitialData=Sp.bind(void 0,o),Ao(e,o)});function Ao(e,t){if(oe(e))return e;xp();const n=no.length;for(let r=0;r<n;r++){const{snapshotter:o}=no[r],s=o(e,t);if(s!==void 0)return s}throw mo(e)?_("a snapshot must not contain maps"):yo(e)?_("a snapshot must not contain sets"):_(`unsupported snapshot - ${e}`)}function Sp(e,t){const n=V.object({},void 0,ii),r=Object.keys(t),o=r.length;for(let s=0;s<o;s++){const i=r[s];if(!Fu(i)){const a=t[i];St(n,i,Ao(a,e))}}return n}const ii={deep:!1};function Ap(e,t){se(e,"node");const n={generateNewIds:!0,...t},r=ve(e);return Gt(r,n)}const xt=A("setParent",(e,t,n,r,o)=>{if(oe(e))return e;let s=it(e,!1);if(Zd(s,t))return e;if(Fo(e))throw _("root stores cannot be attached to any parents");if(r)return Tn.set(e,t.parent),e;if(t){const c=vn(t.parent);t.parent!==c&&(t={parent:c,path:t.path})}if(o&&t?.parent&&s?.parent&&ce(e)&&Yt(e).valueType&&(e=Ap(e,{generateNewIds:!0}),s=it(e,!1)),s&&t){if(s.parent===t.parent&&n)return ds.set(e,t),Xi(e),e;throw _("an object cannot be assigned a new parent when it already has one")}const i=t?void 0:Ep(e),a=e instanceof yn;let u,f;if(a&&(u=oo(e,!1),f=Fo(u)?u:void 0),s?.parent&&uh(s.parent,e),ds.set(e,t),t?.parent&&ah(t.parent,e),Xi(e),a){const c=oo(e,!1),l=Fo(c)?c:void 0;f!==l&&(f||l)&&fh(()=>{f&&uc(e),l&&ac(l,e)})}return i?.(),e});function ai(e,t){const n=ae(e);return n.unchecked?null:n.check(t,[],t)}function Pp(e,t){return Xt.set(e,void 0),xt(e,t,!1,!1,!1),ei(e,{[hc]:!0,data:e.data},void 0,!0),e}function Cp(){Po(dr.Frozen,(e,t)=>{if(e instanceof ri)return Pp(e,t)})}function yc(e,t){return Xt.set(e,void 0),xt(e,t,!1,!1,!0),e}function Tp(){Po(dr.Model,(e,t)=>{if(ce(e))return yc(e,t)})}let la=!1;function jp(){la||(la=!0,sp(),Cp(),Tp(),mp())}function $p(e,t){let n,r,o;if(arguments.length===1?(o=!1,n=e):(r=e,o=!0,n=t),!De(n))throw _("only objects can be turned into tree nodes");if(o&&lr()){const s=ai(r,n);s&&s.throw()}return yt(n,!0)?n:Ie(n,void 0)}const ro=[];function Po(e,t){ro.push({priority:e,tweaker:t}),ro.sort((n,r)=>n.priority-r.priority)}function kp(e,t){if(oe(e))return e;if(yt(e,!0))return e=xt(e,t,!1,!1,!0),e;if(ui(e))throw _("data models are not directly supported. you may insert the data in the tree instead ('$' property).");jp();const n=ro.length;for(let r=0;r<n;r++){const{tweaker:o}=ro[r],s=o(e,t);if(s!==void 0)return s}throw mo(e)?_("maps are not directly supported. consider using 'ObjectMap' / 'asMap' instead."):yo(e)?_("sets are not directly supported. consider using 'ArraySet' / 'asSet' instead."):_(`tweak can only work over models, observable objects/arrays, or primitives, but got ${e} instead`)}const Ie=A("tweak",kp);function Ep(e){if(oe(e))return;const t=Xt.get(e);if(!t)return;const n=Array.from(xo(e).values());for(let r=0;r<n.length;r++)xt(n[r],void 0,!1,!1,!1);return()=>{t(),Xt.delete(e),Oh(e)}}const Os=Symbol("modelInitializers");function Mp(e){return e[Os]}function wc(e,t){const n=Mp(e);if(n){const r=n.length;for(let o=0;o<r;o++)n[o](t)}}const Rp=A("newModel",(e,t,n)=>{const{modelClass:r}=n,o=r,s=e;if(!Ce.get(o))throw _(`no model info for class ${o.name} could be found - did you forget to add the @model decorator?`);if(s.$=t,wc(o,s),lr()&&xc(o).dataType){const a=s.typeCheck();a&&a.throw()}return s}),Ip=new WeakMap;Lu=Xr;class Ss{constructor(t){if($(this,Lu),$(this,"$"),!De(t))throw _("data models can only work over data objects");const{modelClass:n}=arguments[1],r=n;let o;if(hs(t))o=t;else{if(!Ce.get(r))throw _(`no model info for class ${r.name} could be found - did you forget to add the @model decorator?`);const f=fr(r),c=Object.assign({},t),l=Object.keys(f);for(let d=0;d<l.length;d++){const p=l[d],h=f[p];let w=c[p],x=!1;h._transform&&(x=!0,w=h._transform.untransform(w,this,p)),w==null&&(h._defaultFn!==te?(x=!0,w=h._defaultFn()):h._defaultValue!==te&&(x=!0,w=h._defaultValue)),x&&(c[p]=w)}o=$p(c)}const s=Ze(Ip,r,()=>new WeakMap),i=s.get(o);if(i)return i;s.set(o,this),Object.setPrototypeOf(this,r.prototype);const a=this;delete a[Xr],Rp(this,o,{modelClass:r})}typeCheck(){const t=ci(this.constructor);return ai(t,this.$)}toString(t){const n={withData:!0,...t},r=Ce.get(this.constructor),o=`${this.constructor.name}#${r.name}`;return n.withData?`[${o} ${JSON.stringify(ve(this))}]`:`[${o}]`}}function ui(e){return e instanceof Ss}function mn(e){return!(typeof e!="function"||e!==Ss&&!(e.prototype instanceof Ss))}function xc(e){if(ui(e))return e.constructor[qn];if(mn(e))return e[qn];throw _("modelClassOrInstance must be a model class or instance")}function nn(e){const n=rn(e).typeInfo;if(!n)throw _(`type info not found for ${e}`);return n}const da=new WeakMap;function ci(e){if(!mn(e)&&typeof e=="function"){const t=e;return wt(()=>ci(t()),r=>new ha(r,t()))}else{const t=e,n=da.get(t);if(n)return n;const r=s=>new ha(s,t),o=wt(()=>{const s=Ce.get(t),i=`DataModelData(${s.name})`,a=xc(t).dataType;if(!a)throw _(`type checking cannot be performed over data model data of type '${s.name}' since that model type has no data type declared, consider adding a data type or using types.unchecked() instead`);const u=ae(a),f=new me(je.Object,(c,l,d)=>u.check(c,l,d),()=>i,r,c=>u.snapshotType(c)?f:null,c=>u.fromSnapshotProcessor(c),c=>u.toSnapshotProcessor(c));return f},r);return da.set(t,o),o}}class ha extends Ve{constructor(t,n){super(t),$(this,"_props",At(()=>{const r=fr(this.modelClass),o={};return Object.keys(r).forEach(s=>{const i=r[s],a=i._typeChecker;let u;a&&(u=nn(a));let f=!1,c;i._defaultFn!==te?(c=i._defaultFn,f=!0):i._defaultValue!==te&&(c=i._defaultValue,f=!0),o[s]={type:a,typeInfo:u,hasDefault:f,default:c}}),o})),this.modelClass=n}get props(){return this._props()}get modelType(){return Ce.get(this.modelClass).name}}function Dp(){di(e=>mn(e)?ci(e):void 0)}const pa=new WeakMap;function fi(e){if(!pr(e)&&typeof e=="function"){const t=e;return wt(()=>fi(t()),r=>new ba(r,t()))}else{const t=e,n=pa.get(t);if(n)return n;const r=s=>new ba(s,t),o=wt(()=>{const s=Ce.get(t),i=`Model(${s.name})`,a=Yt(t).dataType,u=a?ae(a):void 0,f=new me(je.Object,(c,l,d)=>c instanceof t?u?u.check(c.$,l,d):null:new Ne(l,i,c,d),()=>i,r,c=>De(c)?c[L]!==void 0?c[L]===s.name?f:null:u&&u.snapshotType(c)?f:null:null,c=>c[L]?c:{...c,[L]:s.name},c=>c);return f},r);return pa.set(t,o),o}}class ba extends Ve{constructor(t,n){super(t),$(this,"_props",At(()=>{const r=fr(this.modelClass),o={};return Object.keys(r).forEach(s=>{const i=r[s],a=i._typeChecker;let u;a&&(u=nn(a));let f=!1,c;i._defaultFn!==te?(c=i._defaultFn,f=!0):i._defaultValue!==te&&(c=i._defaultValue,f=!0),o[s]={type:a,typeInfo:u,hasDefault:f,default:c}}),o})),this.modelClass=n}get props(){return this._props()}get modelType(){return Ce.get(this.modelClass).name}}function Np(){di(e=>pr(e)?fi(e):void 0)}const $n=[];function Oc(e){Wd(e,"literal");let t;switch(e){case void 0:t="undefined";break;case null:t="null";break;default:t=JSON.stringify(e);break}const n=o=>new Vp(o,e),r=new me(je.Primitive,(o,s,i)=>o===e?null:new Ne(s,t,o,i),()=>t,n,o=>o===e?r:null,qe,qe);return r}class Vp extends Ve{constructor(t,n){super(t),this.literal=n}}const Sc=Oc(void 0);$n.push(e=>e===void 0?Sc:void 0);const Ac=Oc(null);$n.push(e=>e===null?Ac:void 0);const li=new me(je.Primitive,(e,t,n)=>typeof e=="boolean"?null:new Ne(t,"boolean",e,n),()=>"boolean",e=>new Lp(e),e=>typeof e=="boolean"?li:null,qe,qe);$n.push(e=>e===Boolean?li:void 0);class Lp extends Ve{}const Co=new me(je.Primitive,(e,t,n)=>typeof e=="number"?null:new Ne(t,"number",e,n),()=>"number",e=>new Bp(e),e=>typeof e=="number"?Co:null,qe,qe);$n.push(e=>e===Number?Co:void 0);class Bp extends Ve{}const kn=new me(je.Primitive,(e,t,n)=>typeof e=="string"?null:new Ne(t,"string",e,n),()=>"string",e=>new zp(e),e=>typeof e=="string"?kn:null,qe,qe);$n.push(e=>e===String?kn:void 0);class zp extends Ve{}function Fp(){$n.forEach(e=>{di(e)})}let ga=!1;function Gp(){ga||(ga=!0,Np(),Dp(),Fp())}const Pc=[];function di(e){Pc.push(e)}function Cc(e){Gp();for(const t of Pc){const n=t(e);if(n)return n}}function ae(e){let t=e;for(;;){if(t instanceof me)return t;if(Ys(t))t=t();else{const n=Cc(e);if(n)return ae(n);throw _("type checker could not be resolved")}}}function Tc(e){if(e instanceof me||Ys(e))return e;{const t=Cc(e);return t||void 0}}function rn(e){const t=Tc(e);if(t)return t;throw _("standard type could not be resolved")}function ve(e,t){let n=qe,r;if(arguments.length>=2?(n=ae(e).toSnapshotProcessor,r=t):r=e,oe(r))return n(r);se(r,"nodeOrPrimitive");const o=Le(r);if(!o)throw _("getSnapshot is not supported for this kind of object");return Oe(o.transformed),Sh(o),n(o.transformed)}const Up=A("newModel",(e,t,n)=>{const{modelInfo:r,modelIdPropertyName:o,modelProps:s,modelIdPropData:i}=jc(n);if(o&&i){let f;t[o]?f=t[o]:f=i._defaultFn(),ne(t,o,f)}const a=e;a[L]=r.name;const u=Object.keys(s);for(let f=0;f<u.length;f++){const c=u[f];if(c===o)continue;const l=s[c];let p=t[c],h=!1;if(l._transform&&(h=!0,p=l._transform.untransform(p,a,c)),p==null){const w=Zn(l);w!==te?(h=!0,p=w):c in t||(h=!0)}h&&St(t,c,p)}if($c(a,t,n),lr()&&Yt(n).dataType){const f=a.typeCheck();f&&f.throw()}}),Wp=A("fromSnapshotModel",(e,t,n,r)=>{const{modelInfo:o,modelIdPropertyName:s,modelProps:i,modelIdPropData:a}=jc(n);let u,f=t.unprocessedSnapshot;a&&s&&(r?u=a._defaultFn():u=f[s]),n.fromSnapshotProcessor&&(f=n.fromSnapshotProcessor(f));const c=t.snapshotToInitialData(f),l=e;l[L]=o.name;const d=[],p=[];if(s){const O=c[s];if(jh(c,s,u)){const b=[s];d.push(un(b,O,u)),p.push(un(b,u,O))}}const h=Object.keys(i);for(let O=0;O<h.length;O++){const v=h[O];if(v===s)continue;const b=i[v],y=c[v];let C=y,k=!1;if(C==null){const B=Zn(b);B!==te?(k=!0,C=B):v in c||(k=!0)}if(k&&(St(c,v,C),C!==y)){const B=[v];d.push(un(B,y,C)),p.push(un(B,C,y))}}const w=t?.unprocessedModelType,x=o.name;if(w!==x){const O=[L];d.push(un(O,w,x)),p.push(un(O,x,w))}if($c(l,c,n),dc(l,d,p),lr()&&Yt(n).dataType){const O=l.typeCheck();O&&O.throw()}});function jc(e){const t=Ce.get(e);if(!t)throw _(`no model info for class ${e.name} could be found - did you forget to add the @model decorator?`);const n=Qt(e),r=fr(e),o=n?r[n]:void 0;return{modelInfo:t,modelIdPropertyName:n,modelProps:r,modelIdPropData:o}}function $c(e,t,n){yc(e,void 0),e.$=si(t,{parent:e,path:"$"},e[L],!1,!0),wc(n,e)}const va=Symbol("modelIdPropertyName");class yn{constructor(t){$(this,Fi),$(this,zi),$(this,Bi),$(this,Li),$(this,Vi),$(this,"$");const n=t,{snapshotInitialData:r,modelClass:o,generateNewIds:s}=arguments[1];Object.setPrototypeOf(this,o.prototype);const i=this;delete i[Xr],delete i[Ji],delete i[Hi],delete i[va],r?Wp(this,r,o,!!s):(Cn(n,"initialData"),Up(this,V.object(n,void 0,{deep:!1}),o))}get[(Fi=Xr,zi=Ji,Bi=Hi,Li=va,Vi=L,Pe)](){const t=Qt(this.constructor);return t?this.$[t]:void 0}set[Pe](t){const n=Qt(this.constructor);if(!n)throw _("$modelId cannot be set when there is no idProp set in the model");this.$[n]=t}getRefId(){return this[Pe]}typeCheck(){const t=fi(this.constructor);return ai(t,this)}toString(t){const n={withData:!0,...t},r=`${this.constructor.name}#${this[L]}`;return n.withData?`[${r} ${JSON.stringify(ve(this))}]`:`[${r}]`}}const Kp=new Set([L,Pe,"onInit","$","getRefId","onAttachedToRootStore","typeCheck"]);function ce(e){return e instanceof yn}function pr(e){return!(typeof e!="function"||e!==yn&&!(e.prototype instanceof yn))}function To(e){return rt(e)&&L in e}function it(e,t){return t&&Hd(e),ds.get(e)}function kc(e,t){const n=Tn.get(e);if(n)return{parent:n,path:"$"};const r=it(e,t);return r&&ce(r.parent)?{parent:r.parent.$,path:r.path}:r}function Jn(e,t){var n;return(n=it(e,t))==null?void 0:n.parent}function qp(e,t){var n;return(n=kc(e,t))==null?void 0:n.parent}function Zp(e,t){let n=e;const r=[],o=[e];let s;for(;s=it(n,t);)n=s.parent,r.unshift(s.path),o.unshift(s.parent);return{root:n,path:r,pathObjects:o}}function oo(e,t){let n=e,r;for(;r=it(n,t);)n=r.parent;return n}function Jp(e){return se(e,"value"),!Jn(e,!0)}const Uo={resolved:!1};function Wo(e,t){let n=e;const r=t.length;for(let o=0;o<r;o++){if(!De(n))return Uo;const s=t[o];if(_e(n)&&+s>=n.length)return Uo;if(ce(n)){const i=Kn(n);if(s in i)n=i;else if(!(s in n))return Uo}n=n[s]}return{resolved:!0,value:n}}const Ec=Symbol("skipIdChecking");function Ko(e,t,n){var r;let o=Kn(e);const s=t.length;for(let i=0;i<s;i++){if(!De(o))return{resolved:!1};const a=t[i];if(_e(o)&&+a>=o.length)return{resolved:!1};const u=o[a];o=Kn(u);const f=n[i];if(f!==Ec){const c=ce(u)&&(r=u[Pe])!=null?r:null;if(f!==c)return{resolved:!1}}}return{resolved:!0,value:vn(o)}}const Hp=new WeakMap;function Xp(e){const t=[];let n=e;for(;n;){const r=Hp.get(n);r&&r.length>0&&t.push(r),n=Jn(n,!1)}return t}function on({nameOrNameFn:e,fn:t,actionType:n,overrideContext:r,isFlowFinisher:o=!1}){let s=!1;const i=function(...a){const u=typeof e=="function"?e():e;s||(s=!0,t=A(u,t));const f=_o(),c={actionName:u,type:n,target:this,args:a,parentContext:f,data:{},rootContext:void 0};r&&r(c,this),c.rootContext||(c.previousAsyncStepContext?c.rootContext=c.previousAsyncStepContext.rootContext:c.parentContext?c.rootContext=c.parentContext.rootContext:c.rootContext=c),qi(c);const l=Xp(c.target);let d=l.length-1,p=0;const h=()=>{const w=l[d];if(!w)return t.apply(this,a);const x=w[p];return p++,p>=w.length&&(p=0,d--),(x.filter?x.filter(c):!0)?x.middleware(c,h):h()};try{const w=h();if(o){const x=w,O=x.value;return x.resolution==="accept"?x.accepter(O):x.rejecter(O),O}else return w}finally{qi(c.parentContext),lh()}};return i[zu]=!0,i}function As(e,t,n){const r=e[t];if(Ws(r))return;const o=on({nameOrNameFn:n,fn:r,actionType:Nt.Sync}),s=Object.getPrototypeOf(e);s[t]===r?s[t]=o:e[t]=o}const qo=Symbol("unboundMethod"),_a=(e,t)=>{const n=qo in e?e[qo]:e,r=n.bind(t);return Object.getOwnPropertySymbols(n).forEach(o=>{r[o]=n[o]}),r[qo]=n,r};function Yp(e,t,n){if(typeof t[1]!="object"){const r=t[0],o=t[1],s=t[2],i=Zo(r,o,!0),a=()=>{qu(r,Ku,u=>{const f=n(i,u[o]);u[o]=_a(f,u)})};if(s){if(s.get!==void 0)throw _(`@${e} cannot be used with getters`);if(s.value)return{enumerable:!1,writable:!0,configurable:!0,value:n(i,s.value)};a()}else a()}else{const r=t[1];switch(r.kind){case"method":{const o=t[0],s=r.name;let i=!1;r.addInitializer(function(){if(i)return;i=!0;const a=this;let u=this,f=Object.getPrototypeOf(u);for(;f&&f[s]===o;)u=f,f=Object.getPrototypeOf(u);u[s]=n(Zo(a,s,!1),u[s])});break}case"field":{const o=r.name;let s;return function(i){const a=this;s||(s=Zo(a,o,!1));const u=n(s,i);return _a(u,a)}}default:throw _(`@${e} can only be used on fields or methods}`)}}}const Qp=(e,t)=>{e.target=t.$};function Zo(e,t,n){if(mn(e)||ui(e)){const r=mn(e)?e:e.constructor;let o;const s=i=>{const a=Ce.get(i);o=`fn::${a.name}::${t}`,Gd(o,a.class,t)};return n?qu(r,ps,s):s(r),{actionName:()=>o,overrideContext:Qp}}else return{actionName:t,overrideContext:void 0}}const e0=Symbol("modelFlow");function t0(e){return typeof e=="function"&&e0 in e}const ma=new Map;function n0(e,t,n){if(Wu(t,e),ma.has(e)&&Zu("warn",`an standalone action with name "${e}" already exists (if you are using hot-reloading you may safely ignore this warning)`,`duplicateActionName - ${e}`),Ws(t))throw _("the standalone action must not be previously marked as an action");if(t0(t))throw _("the standalone action must not be previously marked as a flow action");const r=on({nameOrNameFn:e,fn:t,actionType:Nt.Sync}),o=(s,...i)=>(Xd(s,"target"),r.call(s,s,...i));return ma.set(e,o),o}function Mc(e,t,n){se(e,"node",!0),o0().call(e,t,n)}function r0(e,t){!ce(this)&&st(this)?ne(this,e,t):this[e]=t}const o0=At(()=>on({nameOrNameFn:ar.ApplySet,fn:r0,actionType:Nt.Sync}));function Be(...e){return Yp("modelAction",e,(t,n)=>{if(Ws(n))return n;if(typeof n!="function")throw _("modelAction has to be used over functions");return on({nameOrNameFn:t.actionName,fn:n,actionType:Nt.Sync,overrideContext:t.overrideContext})})}function s0(e,t){var n;const r=[];let o=e;for(let s=0;s<t.length;s++){o=o[t[s]];const i=ce(o)&&(n=o[Pe])!=null?n:null;r.push(i)}return r}function i0(e,t,n){return Wu(e,"objFn"),wt(()=>{const r=e();Cn(r,"objectSchema");const o=Object.entries(r),s=(...u)=>{const f=[];for(const[c,l]of o){const d=ae(l);let p="...";u.includes(d)||(p=d.getTypeName(...u,d)),f.push(`${c}: ${p};`)}return`{ ${f.join(" ")} }`},i=(u,f)=>{const c={},l=Object.keys(u);for(let d=0;d<l.length;d++){const p=l[d],h=r[p];if(h){const w=ae(h);c[p]=f==="from"?w.fromSnapshotProcessor(u[p]):w.toSnapshotProcessor(u[p])}else c[p]=u[p]}return c},a=new me(je.Object,(u,f,c)=>{if(!De(u)||t)return new Ne(f,s(a),u,c);for(const[l,d]of o){const p=ae(d),h=u[l],w=p.check(h,[...f,l],c);if(w)return w}return null},s,n,u=>{if(!De(u))return null;for(const[f,c]of o){const l=ae(c),d=u[f];if(!l.snapshotType(d))return null}return a},u=>i(u,"from"),u=>i(u,"to"));return a},n)}function a0(e){return i0(e,!1,n=>new u0(n,e))}class u0 extends Ve{constructor(t,n){super(t),$(this,"_props",At(()=>{const r=this._objTypeFn(),o={};return Object.keys(r).forEach(s=>{const i=rn(r[s]);o[s]={type:i,typeInfo:nn(i)}}),o})),this._objTypeFn=n}get props(){return this._props()}}const Rc=new me(je.Any,null,()=>"any",e=>new c0(e),()=>Rc,qe,qe);function wn(){return Rc}class c0 extends Ve{}function f0(e,...t){const n=t.slice();let r;const o=Tc(e);if(o)n.unshift(o);else{const i=e;r=a=>{const u=i(a);return ae(u)}}if(n.length<=0)throw _("or type must have at least 1 possible type");const s=i=>new l0(i,n.map(rn));return wt(()=>{const i=n.map(ae);if(i.some(c=>c.unchecked))return wn();const a=(...c)=>i.map(d=>c.includes(d)?"...":d.getTypeName(...c,d)).join(" | ");let u;i.some(c=>c.baseType!==i[0].baseType)?u=je.Any:u=i[0].baseType;const f=new me(u,(c,l,d)=>i.some(h=>!h.check(c,l,d))?null:new Ne(l,a(f),c,d),a,s,c=>{const l=mh(c),d=i.filter(p=>p.baseType===l||p.baseType===je.Any);if(d.length===1&&d[0].baseType===l)return d[0];for(let p=0;p<d.length;p++){const h=d[p].snapshotType(c);if(h)return h}return null},c=>{const l=r?r(c):f.snapshotType(c);if(!l)throw _(`snapshot '${JSON.stringify(c)}' does not match the following type: ${a(f)}`);return l.fromSnapshotProcessor(c)},c=>{const l=r?r(c):f.snapshotType(c);if(!l)throw _(`snapshot '${JSON.stringify(c)}' does not match the following type: ${a(f)}`);return l.toSnapshotProcessor(c)});return f},s)}class l0 extends Ve{constructor(t,n){super(t),$(this,"_orTypeInfos",At(()=>this.orTypes.map(nn))),this.orTypes=n}get orTypeInfos(){return this._orTypeInfos()}}const d0=Symbol("noDefaultValue"),ya=new WeakMap;function h0(e,t,n){let r=ya.get(e);r||(r=new Map,ya.set(e,r));let o=r.get(t);return o||(o=n(),r.set(t,o)),o}function bt(e,t){switch(typeof e){case"string":return bt(kn,e);case"number":return bt(Co,e);case"boolean":return bt(li,e)}const n=arguments.length>=2,r=rn(e);return h0(r,n?t:d0,()=>{const o=n?f0(r,Sc,Ac):r,s=Object.create(n?bs(t):bs());return Object.assign(s,{_typeChecker:r,_fromSnapshotProcessor:p0.bind(void 0,o),_toSnapshotProcessor:b0.bind(void 0,r)}),s})}function p0(e,t){const n=ae(e).fromSnapshotProcessor;return n?n(t):t}function b0(e,t){const n=ae(e).toSnapshotProcessor;return n?n(t):t}function wa(...e){const t=e.filter(r=>!!r);return t.length<=0?void 0:(r,...o)=>{let s=r;for(let i=0;i<t.length;i++)s=t[i](s,...o);return s}}function g0(e,t){var n;const r=(n=e._transform)==null?void 0:n.transform;if(!r)return function(){return this.$[t]};const o=(s,i)=>r(i,s,t,a=>{Mc(s.$,t,a)});return function(){const s=this.$[t];return o(this,s)}}const Ic=(e,t,n,r)=>{if(e._setter==="assign"&&!_o()){Mc(n,t,r);return}let o=e._transform?e._transform.untransform(r,n,t):r;if(o==null){const s=Zn(e);s!==te&&(o=s)}n.$[t]=o},v0=(e,t,n,r)=>n[qs]?(Ic(e,t,n,r),!0):!1,Dc=()=>wo().modelIdGenerator(),Nc=bt(kn,Dc);Nc._isId=!0;const Vc=bs(Dc);Vc._isId=!0;function _0({modelProps:e,baseModel:t,type:n,valueType:r,fromSnapshotProcessor:o,toSnapshotProcessor:s}){Cn(e,"modelProps"),e=Object.assign(Object.create(null),e);const i=e,a=Object.keys(i).filter(b=>i[b]._isId);if(a.length>1)throw _(`expected at most one idProp but got many: ${JSON.stringify(a)}`);const u=Object.values(i).some(b=>!!b._typeChecker);let f;if(a.length>0){f=a[0];const b=i[f];let y=u?Nc:Vc;switch(b._setter){case!0:y=y.withSetter();break;case"assign":y=y.withSetter("assign");break}i[f]=y}let c;if(u){const b={};for(const[y,C]of Object.entries(i))b[y]=C._typeChecker?C._typeChecker:wn();c=a0(()=>b)}const l=yn,d=Kp;let p;function h(b,y){var C;const k=(C=y?.modelClass)!=null?C:this.constructor,B=new l(b,{...y,modelClass:k});return Gu(B,qs,!1,!0),p||(p=Object.keys(e).filter(pe=>!d.has(pe)&&Object.hasOwn(B,pe))),p.forEach(pe=>{delete B[pe]}),B}Object.assign(h,l);const w=l[Os];w&&(h[Os]=w.slice()),Qd(h,i);{const b={dataType:c,modelIdProperty:f,valueType:r};h[qn]=b}h.prototype=Object.create(l.prototype),h.prototype.constructor=h;let x=(b,y,C,k)=>{v0(b,y,C,k)&&(x=Ic)};for(const[b,y]of Object.entries(e)){if(!d.has(b)){const C=g0(y,b);Object.defineProperty(h.prototype,b,{get:C,set(k){x(y,b,this,k)},enumerable:!0,configurable:!1})}if(y._setter===!0){const C=qd(b);if(!d.has(C)){const k=Be(h.prototype,C,{value:function(B){this[b]=B},writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(h.prototype,C,k)}}}const O=m0(i),v=y0(i);return h.fromSnapshotProcessor=wa(o,O),h.toSnapshotProcessor=wa(v,s),h}function m0(e){const t=Object.entries(e).filter(([n,r])=>r._fromSnapshotProcessor);if(!(t.length<=0))return n=>{const r={...n};for(const[o,s]of t)s._fromSnapshotProcessor&&(r[o]=s._fromSnapshotProcessor(n[o]));return r}}function y0(e){const t=Object.entries(e).filter(([n,r])=>r._toSnapshotProcessor);if(!(t.length<=0))return n=>{const r={...n};for(const[o,s]of t)s._toSnapshotProcessor&&(r[o]=s._toSnapshotProcessor(n[o]));return r}}function jo(e,t){const n=typeof e=="function"?e():e;return w0(n,void 0)}function w0(e,t,n){var r;return _0({modelProps:e,baseModel:t,type:"class",valueType:(r=void 0)!=null?r:!1,fromSnapshotProcessor:void 0,toSnapshotProcessor:void 0})}const $o=e=>(t,...n)=>{const r=typeof n[1]=="object"?n[1]:void 0;return O0(e,t,r?.addInitializer)},Lc=new WeakMap,Bc=(e,t)=>{Jr(t,Ku);const n=Lc.get(e);if(n.needsMakeObservable)Hr.makeObservable(t);else if(n.needsMakeObservable===void 0)if(Ju()>=6)try{Hr.makeObservable(t),n.needsMakeObservable=!0}catch(r){const o=r;if(o.message!=="[MobX] No annotations were passed to makeObservable, but no decorator members have been found either"&&o.message!=="[MobX] No annotations were passed to makeObservable, but no decorated members have been found either")throw o;n.needsMakeObservable=!1}else n.needsMakeObservable=!1;t[qs]=!0,Jr(t,Kd),n.type==="class"&&t.onInit&&(As(t,"onInit",_n.OnInit),t.onInit()),n.type==="data"&&t.onLazyInit&&(As(t,"onLazyInit",_n.OnLazyInit),t.onLazyInit())},x0={construct(e,t){const n=new e(...t);return Bc(e,n),n}},O0=(e,t,n)=>{const r=pr(t)?"class":mn(t)?"data":void 0;if(!r)throw _("clazz must be a class that extends from Model/DataModel");if(Er[e]&&wo().showDuplicateModelNameWarnings&&Zu("warn",`a model with name "${e}" already exists (if you are using hot-reloading you may safely ignore this warning)`,`duplicateModelName - ${e}`),Bo in t&&t[Bo]===t)throw _("a class already decorated with `@model` cannot be re-decorated");if(t.toString=()=>`class ${t.name}#${e}`,r==="class"&&(t[L]=e),Lc.set(t,{needsMakeObservable:void 0,type:r}),n){n(function(){Bc(t,this)});const o={name:e,class:t};Er[e]=o,Ce.set(t,o),Jr(t,ps);return}else{const o=new Proxy(t,x0);o.prototype.constructor=o,o[Bo]=t;const s={name:e,class:o};return Er[e]=s,Ce.set(o,s),Ce.set(t,s),Jr(t,ps),o}};function Ps(e){const t=n=>new S0(n,rn(e));return wt(()=>{const n=ae(e),r=(...s)=>`Array<${n.getTypeName(...s,n)}>`,o=new me(je.Array,(s,i,a)=>{if(!_e(s))return new Ne(i,r(o),s,a);if(!n.unchecked)for(let u=0;u<s.length;u++){const f=n.check(s[u],[...i,u],a);if(f)return f}return null},r,t,s=>{if(!_e(s))return null;if(!n.unchecked){for(let i=0;i<s.length;i++)if(!n.snapshotType(s[i]))return null}return o},s=>n.unchecked?s:s.map(i=>n.fromSnapshotProcessor(i)),s=>n.unchecked?s:s.map(i=>n.toSnapshotProcessor(i)));return o},t)}class S0 extends Ve{constructor(t,n){super(t),this.itemType=n}get itemTypeInfo(){return nn(this.itemType)}}var A0=Object.defineProperty,P0=Object.getOwnPropertyDescriptor,he=(e,t,n,r)=>{for(var o=r>1?void 0:r?P0(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&A0(t,n,o),o};function so(e,t){if(e.type==="single")return[e];{const n=[];for(const r of e.events)t?n.unshift(...so(r,!0)):n.push(...so(r,!1));return n}}let Mt=class extends jo({undoEvents:bt(Ps(wn()),()=>[]),redoEvents:bt(Ps(wn()),()=>[])}){constructor(){super(...arguments),$(this,"_groupStack",[])}_clearUndo(){zt(()=>{this.undoEvents.length=0})}_clearRedo(){zt(()=>{this.redoEvents.length=0})}enforceMaxLevels({maxUndoLevels:e,maxRedoLevels:t}){if(e!==void 0)for(;this.undoEvents.length>e;)this.undoEvents.shift();if(t!==void 0)for(;this.redoEvents.length>t;)this.redoEvents.shift()}_undo({maxRedoLevels:e}){zt(()=>{const t=this.undoEvents.pop();this.redoEvents.push(t),this.enforceMaxLevels({maxRedoLevels:e})})}_redo({maxUndoLevels:e}){zt(()=>{const t=this.redoEvents.pop();this.undoEvents.push(t),this.enforceMaxLevels({maxUndoLevels:e})})}_addUndo({event:e,maxUndoLevels:t}){zt(()=>{this.undoEvents.push(e),this.redoEvents.length=0,this.enforceMaxLevels({maxUndoLevels:t})})}_addUndoToParentGroup(e,t){e.events.push(t)}get _currentGroup(){return this._groupStack[this._groupStack.length-1]}_startGroup(e,t,n){var r;let o=!1,s=!1;const i=this._currentGroup,a={type:"group",groupName:e,events:[]},u=i||(r=n?.attachedState)==null?void 0:r.save(),f={pause:()=>{if(s)throw _("cannot pause a group when it is already ended");if(!o)throw _("cannot pause a group when it is not running");if(this._currentGroup!==a)throw _("group out of order");this._groupStack.pop(),o=!1},resume:()=>{if(s)throw _("cannot resume a group when it is already ended");if(o)throw _("cannot resume a group when it is already running");this._groupStack.push(a),o=!0},end:()=>{var c;o&&f.pause(),s=!0,i?this._addUndoToParentGroup(i,a):this._addUndo({event:{...a,attachedState:{beforeEvent:u,afterEvent:(c=n?.attachedState)==null?void 0:c.save()}},maxUndoLevels:n?.maxUndoLevels})}};return t&&f.resume(),f}};he([Be],Mt.prototype,"_clearUndo",1);he([Be],Mt.prototype,"_clearRedo",1);he([Be],Mt.prototype,"_undo",1);he([Be],Mt.prototype,"_redo",1);he([Be],Mt.prototype,"_addUndo",1);Mt=he([$o(`${ur}/UndoStore`)],Mt);class at{constructor(t,n,r,o){$(this,"store"),$(this,"_isUndoRecordingDisabled",!1),this.disposer=t,this.subtreeRoot=n,this.options=o,Ju()>=6&&Hr.makeObservable(this),this.store=r??new Mt({})}get undoQueue(){return this.store.undoEvents}get redoQueue(){return this.store.redoEvents}get undoLevels(){return this.undoQueue.length}get canUndo(){return this.undoLevels>0}clearUndo(){this.store._clearUndo()}get redoLevels(){return this.redoQueue.length}get canRedo(){return this.redoLevels>0}clearRedo(){this.store._clearRedo()}undo(){var t;if(!this.canUndo)throw _("nothing to undo");const n=this.undoQueue[this.undoQueue.length-1];zt(()=>{var r,o,s;so(n,!0).forEach(i=>{to(this.subtreeRoot,i.inversePatches,!0)}),(r=n.attachedState)!=null&&r.beforeEvent&&((s=(o=this.options)==null?void 0:o.attachedState)==null||s.restore(n.attachedState.beforeEvent))}),this.store._undo({maxRedoLevels:(t=this.options)==null?void 0:t.maxRedoLevels})}redo(){var t;if(!this.canRedo)throw _("nothing to redo");const n=this.redoQueue[this.redoQueue.length-1];zt(()=>{var r,o,s;so(n,!1).forEach(i=>{to(this.subtreeRoot,i.patches)}),(r=n.attachedState)!=null&&r.afterEvent&&((s=(o=this.options)==null?void 0:o.attachedState)==null||s.restore(n.attachedState.afterEvent))}),this.store._redo({maxUndoLevels:(t=this.options)==null?void 0:t.maxUndoLevels})}dispose(){this.disposer()}get isUndoRecordingDisabled(){return this._isUndoRecordingDisabled}withoutUndo(t){const n=this._isUndoRecordingDisabled;this._isUndoRecordingDisabled=!0;try{return t()}finally{this._isUndoRecordingDisabled=n}}createGroup(t){const n=this.store._startGroup(t,!1,this.options);return{continue(r){n.resume();try{return r()}finally{n.pause()}},end(){n.end()}}}withGroup(t,n){let r,o;typeof t=="string"?(r=t,o=n):o=t;const s=this.store._startGroup(r,!0,this.options);try{return o()}finally{s.end()}}withGroupFlow(t,n){let r,o;typeof t=="string"?(r=t,o=n):o=t;const s=o(),i=this.store._startGroup(r,!1,this.options),a=s.next.bind(s),u=s.throw.bind(s);return new Promise((c,l)=>{function d(w){i.resume();let x;try{x=a(w)}catch(O){i.end(),l(O);return}i.pause(),h(x)}function p(w){i.resume();let x;try{x=u(w)}catch(O){i.end(),l(O);return}i.pause(),h(x)}function h(w){w&&typeof w.then=="function"?w.then(h,l):w.done?(i.end(),c(w.value)):Promise.resolve(w.value).then(d,p)}d(void 0)})}}he([J],at.prototype,"undoQueue",1);he([J],at.prototype,"redoQueue",1);he([J],at.prototype,"undoLevels",1);he([J],at.prototype,"canUndo",1);he([A],at.prototype,"clearUndo",1);he([J],at.prototype,"redoLevels",1);he([J],at.prototype,"canRedo",1);he([A],at.prototype,"clearRedo",1);he([A],at.prototype,"undo",1);he([A],at.prototype,"redo",1);let Jo=!1;function zt(e){const t=Jo;Jo=!0;try{return e()}finally{Jo=t}}function Ho(e){return e.type==="value"?e.value:e.value.get()}const C0=()=>Ot("contextValue");class T0{constructor(t){$(this,"defaultContextValue",V.box(void 0,{deep:!1})),$(this,"overrideContextValue",V.box(void 0,{deep:!1})),$(this,"nodeContextValue",new WeakMap),$(this,"nodeAtom",new WeakMap),$(this,"setDefault",A(n=>{this.defaultContextValue.set({type:"value",value:n})})),$(this,"setDefaultComputed",A(n=>{this.defaultContextValue.set({type:"computed",value:J(n)})})),$(this,"set",A((n,r)=>{se(n,"node"),this.nodeContextValue.set(n,{type:"value",value:r}),this.reportNodeAtomChanged(n)})),$(this,"setComputed",A((n,r)=>{this._setComputed(n,J(r))})),$(this,"unset",A(n=>{se(n,"node"),this.nodeContextValue.delete(n),this.reportNodeAtomChanged(n)})),$(this,"apply",A((n,r)=>{const o=this.overrideContextValue.get();this.overrideContextValue.set({type:"value",value:r});try{const s=n();return yt(s,!0)&&this.set(s,r),s}finally{this.overrideContextValue.set(o)}})),$(this,"applyComputed",A((n,r)=>{const o=J(r),s=this.overrideContextValue.get();this.overrideContextValue.set({type:"computed",value:o});try{const i=n();return yt(i,!0)&&this._setComputed(i,o),i}finally{this.overrideContextValue.set(s)}})),this.setDefault(t)}reportNodeAtomObserved(t){Ze(this.nodeAtom,t,C0).reportObserved()}reportNodeAtomChanged(t){var n;(n=this.nodeAtom.get(t))==null||n.reportChanged()}fastGet(t,n){n&&this.reportNodeAtomObserved(t);const r=this.nodeContextValue.get(t);if(r)return Ho(r);const o=Jn(t,n);if(!o){const s=this.overrideContextValue.get();return s?Ho(s):this.getDefault()}return this.fastGet(o,n)}get(t){return se(t,"node"),this.fastGet(t,!0)}fastGetProviderNode(t,n){if(n&&this.reportNodeAtomObserved(t),this.nodeContextValue.get(t))return t;const o=Jn(t,n);if(o)return this.fastGetProviderNode(o,n)}getProviderNode(t){return se(t,"node"),this.fastGetProviderNode(t,!0)}getDefault(){return Ho(this.defaultContextValue.get())}_setComputed(t,n){se(t,"node"),this.nodeContextValue.set(t,{type:"computed",value:n}),this.reportNodeAtomChanged(t)}}function zc(e){return new T0(e)}zc(!1);var j0=Object.defineProperty,$0=Object.getOwnPropertyDescriptor,hi=(e,t,n,r)=>{for(var o=$0(t,n),s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=i(t,n,o)||o);return o&&j0(t,n,o),o};class br extends jo({id:bt(kn)}){get maybeCurrent(){return this.resolve()}get isValid(){return!!this.maybeCurrent}get current(){const t=this.maybeCurrent;if(!t)throw _(`a reference of type '${this[L]}' could not resolve an object with id '${this.id}'`);return t}}hi([J],br.prototype,"maybeCurrent");hi([J],br.prototype,"isValid");hi([J],br.prototype,"current");var k0=Object.defineProperty,E0=Object.getOwnPropertyDescriptor,xa=(e,t,n,r)=>{for(var o=r>1?void 0:r?E0(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&k0(t,n,o),o};const Oa=new WeakMap;function Fc(e,t,n,r){let o=class extends br{constructor(){super(...arguments),$(this,"resolver"),$(this,"savedOldTarget")}resolve(){return this.resolver||(this.resolver=t(this)),this.resolver(this)}internalForceUpdateBackRefs(a){const u=this.savedOldTarget;this.savedOldTarget=a,I0(this,i,a,u)}forceUpdateBackRefs(){this.internalForceUpdateBackRefs(this.maybeCurrent)}onInit(){let a,u=!0;xu(()=>this.maybeCurrent,f=>{this.internalForceUpdateBackRefs(f);const c=a,l=u;a=f,u=!1,!l&&r&&f!==c&&r(this,f,c)},{fireImmediately:!0})}};xa([A],o.prototype,"forceUpdateBackRefs",1),o=xa([$o(e)],o);const s=a=>{let u;if(typeof a=="string"?u=a:(Cn(a,"target"),u=n(a)),typeof u!="string")throw _("ref target object must have an id of string type");return new o({id:u})};s.refClass=o;const i=s;return i}function pi(e){if(ce(e)){const t=e.getRefId();if(t!==void 0&&typeof t!="string")throw _("'getRefId()' must return a string or undefined when present");return t}}const M0=new WeakMap;function R0(e,t,n=pi){const o=Ze(M0,n,()=>ph(s=>n(s))).walk(e);return o?o.get(t):void 0}function Pr(e,t){let n=Oa.get(e);if(n||(n={all:V.set(void 0,{deep:!1}),byType:new WeakMap},Oa.set(e,n)),t){let r=n.byType.get(t);return r||(r=V.set(void 0,{deep:!1}),n.byType.set(t,r)),r}else return n.all}const I0=A("updateBackRefs",(e,t,n,r)=>{n!==r&&(r&&(Pr(r).delete(e),Pr(r,t).delete(e)),n&&(Pr(n).add(e),Pr(n,t).add(e)))});ec({initData(){return{all:new Set,byType:new WeakMap}},addNode(e,t){e instanceof br&&(t.all.add(e),Ze(t.byType,e.constructor,()=>new Set).add(e))}});A("customRef",(e,t)=>{var n;const r=(n=t.getId)!=null?n:pi;return Fc(e,()=>t.resolve,r,t.onResolvedValueChange)});A("rootRef",(e,t)=>{var n;const r=(n=t?.getId)!=null?n:pi,o=t?.onResolvedValueChange;return Fc(e,i=>{let a;return()=>{const u=oo(i,!0);if(D0(i,u,a,r))return a;const f=R0(u,i.id,r);return f&&(a=f),f}},r,o)});function D0(e,t,n,r){return!(!n||e.id!==r(n)||t!==oo(n,!0))}function Q(e,t){return n0(e,t)}function N0(e,...t){return e.splice(...t)}const ge=`${ur}/arrayActions`;Q(`${ge}::set`,(e,t,n)=>{ne(e,t,n)}),Q(`${ge}::delete`,(e,t)=>vt(e,String(t))),Q(`${ge}::setLength`,(e,t)=>{e.length=t}),Q(`${ge}::concat`,(e,...t)=>e.concat(...t)),Q(`${ge}::copyWithin`,(e,t,n,r)=>e.copyWithin(t,n,r)),Q(`${ge}::fill`,(e,t,n,r)=>e.fill(t,n,r)),Q(`${ge}::pop`,e=>e.pop()),Q(`${ge}::push`,(e,...t)=>e.push(...t)),Q(`${ge}::reverse`,e=>e.reverse()),Q(`${ge}::shift`,e=>e.shift()),Q(`${ge}::slice`,(e,t,n)=>e.slice(t,n)),Q(`${ge}::sort`,(e,t)=>e.sort(t)),Q(`${ge}::splice`,N0),Q(`${ge}::unshift`,(e,...t)=>e.unshift(...t)),Q(`${ge}::swap`,(e,t,n)=>{if(t<0||n<0||t>=e.length||n>=e.length)return!1;n<t&&([t,n]=[n,t]);const[r]=e.splice(t,1),[o]=e.splice(n-1,1);return e.splice(t,0,o),e.splice(n,0,r),!0});const Cr=`${ur}/objectActions`;Q(`${Cr}::set`,(e,t,n)=>{st(e)?ne(e,t,n):e[t]=n}),Q(`${Cr}::assign`,(e,t)=>{Cn(t,"partialObject");const n=Object.keys(t);if(st(e))for(const r of n){const o=t[r];ne(e,r,o)}else for(const r of n)e[r]=t[r]}),Q(`${Cr}::delete`,(e,t)=>vt(e,t)),Q(`${Cr}::call`,(e,t,...n)=>e[t](...n));A(e=>{const t=Fe(()=>ho(()=>{const o=V.map(),s=Object.keys(e);for(let i=0;i<s.length;i++){const a=s[i];o.set(a,e[a])}return o}));t.dataObject=e;let n=!1,r=!1;return vo(e,A(o=>{if(!n){r=!0;try{switch(o.type){case"add":case"update":{t.set(o.name,o.newValue);break}case"remove":{t.delete(o.name);break}default:throw _("assertion error: unsupported object change type")}}finally{r=!1}}})),go(t,A(o=>{if(n)return null;if(r)return o;n=!0;try{switch(o.type){case"add":case"update":{ne(e,o.name,o.newValue);break}case"delete":{vt(e,o.name);break}default:throw _("assertion error: unsupported map change type")}return o}finally{n=!1}})),t});var V0=Object.defineProperty,L0=Object.getOwnPropertyDescriptor,En=(e,t,n,r)=>{for(var o=L0(t,n),s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=i(t,n,o)||o);return o&&V0(t,n,o),o};class Mn{constructor(t){$(this,"data"),$(this,"originalData"),se(t,"original"),this.originalData=t,this.data=Gt(this.originalSnapshot,{generateNewIds:!1})}commit(){aa(this.originalData,ve(this.data))}commitByPath(t){const n=Wo(this.data,t);if(!n.resolved)throw _(`path ${JSON.stringify(t)} could not be resolved in draft object`);const r=Xo(this.data,t);if(!Ko(this.originalData,t,r).resolved)throw _(`path ${JSON.stringify(t)} could not be resolved in original object`);to(this.originalData,[{path:t,op:"replace",value:ve(n.value)}])}reset(){aa(this.data,this.originalSnapshot)}resetByPath(t){const n=Wo(this.originalData,t);if(!n.resolved)throw _(`path ${JSON.stringify(t)} could not be resolved in original object`);const r=Xo(this.originalData,t);if(!Ko(this.data,t,r).resolved)throw _(`path ${JSON.stringify(t)} could not be resolved in draft object`);to(this.data,[{path:t,op:"replace",value:ve(n.value)}])}get isDirty(){return!xs(ve(this.data),this.originalSnapshot)}isDirtyByPath(t){const n=Wo(this.data,t);if(!n.resolved)throw _(`path ${JSON.stringify(t)} could not be resolved in draft object`);const r=Xo(this.data,t),o=Ko(this.originalData,t,r);return o.resolved?!xs(n.value,o.value):!0}get originalSnapshot(){return ve(this.originalData)}}En([A],Mn.prototype,"commit");En([A],Mn.prototype,"commitByPath");En([A],Mn.prototype,"reset");En([A],Mn.prototype,"resetByPath");En([J],Mn.prototype,"isDirty");En([J],Mn.prototype,"originalSnapshot");function Xo(e,t){const n=s0(e,t);return n.length>0&&(n[n.length-1]=Ec),n}zc();var B0=Object.defineProperty,z0=Object.getOwnPropertyDescriptor,ko=(e,t,n,r)=>{for(var o=r>1?void 0:r?z0(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&B0(t,n,o),o};let Hn=class extends jo({[Pe]:Zs,items:bt(Ps(wn()),()=>[])}){constructor(){super(...arguments),$(this,Gi,"ArraySet")}add(e){const t=this.items;return t.includes(e)||t.push(e),this}clear(){this.items.length=0}delete(e){const t=this.items,n=t.findIndex(r=>r===e);return n>=0?(t.splice(n,1),!0):!1}forEach(e,t){const n=this.items,r=n.length;for(let o=0;o<r;o++){const s=n[o];e.call(t,s,s,this)}}has(e){return this.items.includes(e)}get size(){return this.items.length}*keys(){for(const e of Ur(this.items))yield e}*values(){for(const e of Ur(this.items))yield e}*entries(){for(const e of this.items)yield[e,e]}[(Ui=Symbol.iterator,Gi=Symbol.toStringTag,Ui)](){return this.values()}union(e){return new Set(this).union(e)}intersection(e){return new Set(this).intersection(e)}difference(e){return new Set(this).difference(e)}symmetricDifference(e){return new Set(this).symmetricDifference(e)}isSubsetOf(e){return new Set(this).isSubsetOf(e)}isSupersetOf(e){return new Set(this).isSupersetOf(e)}isDisjointFrom(e){return new Set(this).isDisjointFrom(e)}};ko([Be],Hn.prototype,"add",1);ko([Be],Hn.prototype,"clear",1);ko([Be],Hn.prototype,"delete",1);Hn=ko([$o(`${ur}/ArraySet`)],Hn);function F0(e){const t=n=>new G0(n,rn(e));return wt(()=>{const n=ae(e),r=(...i)=>`Record<${n.getTypeName(...i,n)}>`,o=(i,a)=>{if(n.unchecked)return i;const u={},f=Object.keys(i);for(let c=0;c<f.length;c++){const l=f[c],d=a==="from"?n.fromSnapshotProcessor(i[l]):n.toSnapshotProcessor(i[l]);u[l]=d}return u},s=new me(je.Object,(i,a,u)=>{if(!De(i))return new Ne(a,r(s),i,u);if(!n.unchecked){const f=Object.keys(i);for(let c=0;c<f.length;c++){const l=f[c],d=i[l],p=n.check(d,[...a,l],u);if(p)return p}}return null},r,t,i=>{if(!De(i))return null;if(!n.unchecked){const a=Object.keys(i);for(let u=0;u<a.length;u++){const f=a[u],c=i[f];if(!n.snapshotType(c))return null}}return s},i=>o(i,"from"),i=>o(i,"to"));return s},t)}class G0 extends Ve{constructor(t,n){super(t),this.valueType=n}get valueTypeInfo(){return nn(this.valueType)}}var U0=Object.defineProperty,W0=Object.getOwnPropertyDescriptor,Eo=(e,t,n,r)=>{for(var o=r>1?void 0:r?W0(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&U0(t,n,o),o};let Xn=class extends jo({[Pe]:Zs,items:bt(F0(wn()),()=>({}))}){constructor(){super(...arguments),$(this,Wi,"ObjectMap")}clear(){const e=this.items,t=Object.keys(e),n=t.length;for(let r=0;r<n;r++){const o=t[r];vt(e,o)}}delete(e){return this.has(e)?(vt(this.items,e),!0):!1}forEach(e,t){const n=this.items,r=Object.keys(n),o=r.length;for(let s=0;s<o;s++){const i=r[s];e.call(t,n[i],i,this)}}get(e){return $u(this.items,e)}has(e){return Vs(this.items,e)}set(e,t){return ne(this.items,e,t),this}get size(){return Ht(this.items).length}*keys(){for(const e of Ht(this.items))yield e}*values(){for(const e of Ur(this.items))yield e}*entries(){for(const e of ju(this.items))yield e}[(Ki=Symbol.iterator,Wi=Symbol.toStringTag,Ki)](){return this.entries()}};Eo([Be],Xn.prototype,"clear",1);Eo([Be],Xn.prototype,"delete",1);Eo([Be],Xn.prototype,"set",1);Xn=Eo([$o(`${ur}/ObjectMap`)],Xn);function Gc(e,t,n){const r=o=>new K0(o,rn(e),t,n);return wt(()=>{const o=ae(e),s=(...a)=>{const u=o.getTypeName(...a,o);return`${n||"refinementOf"}<${u}>`},i=new me(o.baseType,(a,u,f)=>{const c=o.check(a,u,f);if(c)return c;const l=t(a);return l===!0||l==null?null:l===!1?new Ne(u,s(i),a,f):new Ne(l.path,l.expectedTypeName,l.actualValue,f)},s,r,a=>o.snapshotType(a),a=>o.fromSnapshotProcessor(a),a=>o.toSnapshotProcessor(a));return i},r)}class K0 extends Ve{constructor(t,n,r,o){super(t),this.baseType=n,this.checkFunction=r,this.typeName=o}get baseTypeInfo(){return nn(this.baseType)}}Gc(Co,e=>Number.isInteger(e),"integer");Gc(kn,e=>e!=="","nonEmpty");class Fg extends Bt{constructor(t){super(t),Mu(this,{_m:V,set:A,delete:A,clear:A})}}const Gg=e=>{const t=Vr.createContext(void 0),n=()=>Vr.useContext(t);return{ctx:t,use:()=>xf(n(),()=>`"${e}" is not provided`),useIfProvided:n,provider:t.Provider}};function q0(e,t,n,r){var o=arguments.length,s=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}class Uc{constructor(){ke(this,"callback",null);ke(this,"ref",{observer:()=>this.observer,_current:null,get current(){return this._current},set current(t){this._current!==t&&(this._current&&this.observer().unobserve(this._current),this._current=t,t&&this.observer().observe(t))}})}setCallback(t){this.callback=t}get observer(){return new ResizeObserver(t=>this.observed(t))}observed(t){if(!this.callback)return;const n=t.find(r=>r.target===this.ref.current);n&&this.callback(n)}destroy(){this.ref.current=null}}q0([On],Uc.prototype,"observer",null);const Ug=e=>{const t=Vr.useRef(void 0);return t.current||(t.current=new Uc),t.current.callback=e,Vr.useEffect(()=>()=>{t.current&&(t.current.destroy(),t.current=void 0)},[]),t.current};const{abs:xn,atan2:Wc,cos:Lt,floor:Z0,log:lt,min:Kc,max:bi,round:ie,sign:Sa,sin:J0,sqrt:Ir,cbrt:H0,PI:Qe,hypot:qc}=Math;function ue(e,t,n){return e+(t-e)*n}function X0(e,t,n){return(n-e)/(t-e)}function ee(e,t=0,n=1){return e<t?t:e>n?n:e}function Yo(e,t,n,r=1e-8){let o=t,s;for(;n--&&xn(s=e(o))>r;){const i=(e(o+r)-s)/r;console.log("fx / dfdx",s/i,"fx",s,"x",o),o=o-s/i}return o}function Y0(e,t,n,r){let o=e(t);for(;r--;){const s=(t+n)/2,i=e(s);Sa(o)==Sa(i)?(t=s,o=i):n=s}return(t+n)/2}const Cs=Qe/180,gi=180/Qe;function Yn(...e){return e[0]instanceof Je?e[0]:e.length>1&&typeof e[e.length-1]=="string"?$t(e.slice(0,e.length-1),e[e.length-1]):Array.isArray(e[0])?$t(e[0]):$t(e)}class Je{constructor(t,n,r,o=1){this.r=t,this.g=n,this.b=r,this.a=o}mix(t,n,r="rgb"){return Dr(this,t,n,r)}rgb(t=!0,n=!0){const r=a=>(t&&(a=ie(a)),n&&(a=ee(a,0,255)),a),{r:o,g:s,b:i}=this;return[r(o),r(s),r(i)]}rgba(t=!0,n=!0){const r=u=>(t&&(u=ie(u)),n&&(u=ee(u,0,255)),u),{r:o,g:s,b:i,a}=this;return[r(o),r(s),r(i),a]}hex(t="rgb"){const{r:n,g:r,b:o,a:s}=this;return ob(n,r,o,s,t)}hsl(){const{r:t,g:n,b:r}=this;return xb(t,n,r)}hsv(){const{r:t,g:n,b:r}=this;return Sb(t,n,r)}hcg(){const{r:t,g:n,b:r}=this;return Pb(t,n,r)}css(t="rgb"){if(t=="rgb"){const{r:n,g:r,b:o,a:s}=this;return db(n,r,o,s)}else{if(t=="hsl")return hb(this.hsl(),this.alpha());throw new Error}}name(t=!1){const n=this.num(),r=Object.keys(dt).find(o=>dt[o]==n);if(!r&&t){const[o,s,i]=this.lab();return Mb(Object.keys(dt),a=>{const[u,f,c]=Zc(dt[a]).lab();return-qc(o-u,s-f,i-c)})}return r}cmyk(){const{r:t,g:n,b:r}=this;return _b(t,n,r)}gl(){const{r:t,g:n,b:r,a:o}=this;return[t/255,n/255,r/255,o]}luminance(t){const{r:n,g:r,b:o,a:s}=this,[,i]=Ts(n,r,o);if(t===void 0)return i;const a=(u,f,c)=>(c-u)/(f-u);return t>i?Dr(this,Pa,a(i,1,t),"xyz").alpha(s):Dr(Aa,this,a(0,i,t),"xyz").alpha(s)}temperature(){const{r:t,g:n,b:r}=this;return wb(t,n,r)}set(t,n){const[r,o]=t.split("."),s=this[r](),i=r.indexOf(o);if(i==-1)throw new Error("invalid channel");return s[i]=typeof n=="number"?n:n(s[i]),Yn(s,r).alpha(this.a)}clipped(){const{r:t,g:n,b:r}=this;return!(0<=t&&t<=255&&0<=n&&n<=255&&0<=r&&r<=255)}textColor(){return this.luminance()>.5?Aa:Pa}alpha(t){if(t===void 0)return this.a;const{r:n,g:r,b:o}=this;return Ta(n,r,o,t)}darker(t=1){const[n,r,o]=this.lab();return tb(n-Ea*t,r,o,this.alpha())}brighter(t=1){return this.darker(-t)}saturate(t=1){const[n,r,o]=this.lch();return eb(n,bi(0,r+t*Ea),o,this.alpha())}desaturate(t=1){return this.saturate(-t)}premultiplied(){const{r:t,g:n,b:r,a:o}=this;return Ta(t*o,n*o,r*o,o)}hsi(){const{r:t,g:n,b:r}=this;return Eb(t,n,r)}lab(){const{r:t,g:n,b:r}=this;return rf(t,n,r)}num(t="rgb"){const{r:n,g:r,b:o,a:s}=this;return sb(n,r,o,s,t)}lch(){const{r:t,g:n,b:r}=this;return vb(t,n,r)}xyz(){const{r:t,g:n,b:r}=this;return Ts(t,n,r)}equals(t){const{r:n,g:r,b:o,a:s}=this,{r:i,g:a,b:u,a:f}=t;return n==i&&r==a&&o==u&&s==f}hashCode(){return this.num("rgba")}toSource(){const{r:t,g:n,b:r,a:o}=this;return"chroma.rgb("+t+", "+n+", "+r+(o===1?")":", "+o+")")}}Je.prototype.toString=Je.prototype.css;Je.prototype.kelvin=Je.prototype.temperature;const Aa=new Je(0,0,0,1),Pa=new Je(255,255,255,1),Q0={OrRd:[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072],PuBu:[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496],BuPu:[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347],Oranges:[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060],BuGn:[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435],YlOrBr:[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150],YlGn:[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705],Reds:[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221],RdPu:[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234],Greens:[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435],YlGnBu:[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800],Purples:[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893],GnBu:[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801],Greys:[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0],YlOrRd:[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646],PuRd:[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239],Blues:[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683],PuBuGn:[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510],Viridis:[4456788,4728695,4147850,3237774,2524047,2071946,7130714,11984427,16705573],Spectral:[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770],RdYlGn:[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679],RdBu:[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065],PiYG:[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529],PRGn:[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435],RdYlBu:[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237],BrBG:[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408],RdGy:[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618],PuOr:[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195],Set2:[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947],Accent:[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886],Set1:[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329],Set3:[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463],Dark2:[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886],Paired:[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696],Pastel2:[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772],Pastel1:[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906]},dt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflower:6591981,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,laserlemon:16777044,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrod:16448210,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,maroon2:8323072,maroon3:11546720,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,purple2:8323199,purple3:10494192,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Dr(e,t,n=.5,r="rgb"){const o=Yn(e),s=Yn(t),i=Re[r]&&Re[r](o,s,n,r);if(!i)throw new Error("color mode "+r+" is not supported");return i.alpha(ue(o.alpha(),s.alpha(),n))}function Wg(e){const[t,n,r,o]=Xc(e);return new Je(t,n,r,o)}function eb(...e){return $t(e,"lch")}function Ca(...e){return $t(e,"hsl")}function tb(...e){return $t(e,"lab")}function Zc(e){const[t,n,r]=Ro(e);return new Je(t,n,r)}function Ta(...e){return $t(e,"rgb")}function ja(...e){const t=(n=>t._at(n));return Object.getOwnPropertyNames($a.prototype).forEach(n=>t[n]=$a.prototype[n]),Array.isArray(e[0])&&(e=e[0]),e.length==1&&typeof e[0]=="string"&&(e=Q0[e[0]]),t._init(typeof e[0]=="function"?e[0]:e.map(n=>Yn(n))),t}class $a{classes(t){if(t===void 0)return this._classes;if(Array.isArray(t))this._classes=t,this.domain(t[0],t[t.length-1]);else{if(t%1!=0||t<1)throw new Error("invalid classes param");this._classes=Jc(this.domain(),"e",t)}return this}domain(...t){if(t[0]===void 0)return typeof this._colors!="function"?this._pos.map(n=>ue(this._min,this._max,n)):[this._min,this._max];if(this._min=t[0],this._max=t[t.length-1],t.length==2)typeof this._colors!="function"&&(this._pos=this._colors.map((n,r)=>r/(this._colors.length-1)));else if(typeof this._colors!="function"&&t.length==this._colors.length)this._pos=t.map(n=>X0(this._min,this._max,n));else throw new Error("invalid domain "+t);return this}mode(t){return t===void 0?this._mode:(this._mode=t,this._resetCache(),this)}out(t){return this._out=t,this}correctLightness(t=!0){if(this._correctLightness!=t){this._resetCache();const n=this._colors;if(t&&typeof n!="function"){let r=0;for(let o=1;o<n.length;o++){const s=n[o].lab()[0]-n[o-1].lab()[0];if(r==0)r=s;else if(r*s<0)throw new Error("scale color lightnesses must be monotonic")}}}return this._correctLightness=t,this}padding(t,n=t){return t?(this._paddingLeft=t,this._paddingRight=n,this):[this._paddingLeft,this._paddingRight]}colors(t,n="hex"){let r;if(t===void 0)r=this._colors.slice();else if(t==1)r=[this._color((this._min+this._max)/2)];else if(t>1)r=Array.from({length:t},(o,s)=>this._color(ue(this._min,this._max,s/(t-1))));else{let o;this._classes&&this._classes.length>2?o=Array.from({length:this._classes.length-1},(s,i)=>(this._classes[i]+this._classes[i+1])*.5):o=this.domain(),r=o.map(s=>this._color(s))}return n!="color"?r.map(o=>o[n]()):r}cache(t){return t===void 0?!!this._cache:(this._cache=t?this._cache||new Map:void 0,this)}gamma(t){return t===void 0?this._gamma:(this._gamma=t,this)}_at(t){const n=this._color(t);return this._out?n[this._out]():n}_init(t){this._colors=t,typeof t!="function"&&(this._pos=t.map((n,r)=>r/(t.length-1))),this._mode="rgb",this.domain(0,1),this._paddingLeft=0,this._paddingRight=0,this._correctLightness=!1,this._cache=new Map,this._gamma=1}_getClass(t){return this._classes.findIndex(n=>t<=n)-1}_color(t,n=!1){let r;if(n)r=t;else{const i=this._min,a=this._max;this._classes&&this._classes.length>2?r=this._getClass(t)/(this._classes.length-2):a!==i?r=(t-i)/(a-i):r=1,this._correctLightness&&(r=this._tCorrectedLightness(r))}r=r**this._gamma,r=(this._paddingLeft+r)/(1+this._paddingLeft+this._paddingRight),r=ee(r,0,1);const o=r,s=this._cache&&this._cache.get(o);if(s)return s;{let i;if(Array.isArray(this._colors))for(let a=0;a<this._pos.length;a++){const u=this._pos[a];if(r<=u){i=this._colors[a];break}if(r>=u&&a==this._pos.length-1){i=this._colors[a];break}if(r>u&&r<this._pos[a+1]){r=(r-u)/(this._pos[a+1]-u),i=Dr(this._colors[a],this._colors[a+1],r,this._mode);break}}else i=this._colors(r);return this._cache&&this._cache.set(o,i),i}}_tCorrectedLightness(t){const n=this._color(0,!0).lab()[0],r=this._color(1,!0).lab()[0],o=ue(n,r,t);return Y0(s=>this._color(s,!0).lab()[0]-o,0,1,8)}_resetCache(){this._cache&&this._cache.clear()}}var ka;(function(e){function t(){return ja([Ca(180,1,.9),Ca(250,.7,.4)])}e.cool=t;function n(){return ja(["#000","#f00","#ff0","#fff"]).mode("rgb")}e.hot=n})(ka||(ka={}));function nb(e){const t={min:1/0,max:-1/0,sum:0,values:[],count:0};function n(r){r!=null&&!isNaN(r)&&(t.values.push(r),t.sum+=r,r<t.min&&(t.min=r),r>t.max&&(t.max=r),t.count+=1)}return e.forEach(r=>n(r)),t.domain=[t.min,t.max],t.limits=function(r,o){return Jc(this,r,o)},t}function Jc(e,t="e",n=7){const r=Array.isArray(e)?nb(e):e,{min:o,max:s,values:i}=r;if(i.sort((a,u)=>a-u),n==1)return[o,s];if(t.startsWith("c"))return[o,s];if(t.startsWith("e"))return Array.from({length:n+1},(a,u)=>ue(o,s,u/n));if(t.startsWith("l")){if(o<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*lt(o),u=Math.LOG10E*lt(s);return Array.from({length:n+1},(f,c)=>10**ue(a,u,c/n))}else{if(t.startsWith("q"))return Array.from({length:n+1},(a,u)=>{const f=(i.length-1)*u/n,c=Z0(f);return c==f?i[c]:ue(i[c],i[c+1],f-c)});if(t.startsWith("k")){const a=i.length,u=new Array(a),f=new Array(n);let c=!0,l=0,d=Array.from({length:n+1},(x,O)=>ue(o,s,O/n));do{f.fill(0);for(let O=0;O<i.length;O++){const v=i[O],b=sf(d,y=>-xn(y-v));f[b]++,u[O]=b}const x=new Array(n).fill(0);for(let O=0;O<u.length;O++){const v=u[O];x[v]+=i[O]}for(let O=0;O<x.length;O++)x[O]/=f[O];c=x.some((O,v)=>O!=d[v]),d=x}while(l++<200&&c);const p=Array.from({length:n},()=>[]);for(let x=0;x<u.length;x++){const O=u[x];p[O].push(i[x])}const h=[];for(const x of p)h.push(x[0],x[x.length-1]);h.sort((x,O)=>x-O);const w=[];w.push(h[0]);for(let x=1;x<h.length;x+=2){const O=h[x];!isNaN(O)&&w.indexOf(O)==-1&&w.push(O)}return w}else throw new Error("unknown mode")}}const Re={},H={};function rb(e,t,n,r){const o=e[r](),s=t[r]();return $t([ue(o[0],s[0],n),ue(o[1],s[1],n),ue(o[2],s[2],n),ue(e.alpha(),t.alpha(),n)],r)}Re.xyz=Re.rgb=Re.lab=rb;Re.num=function(e,t,n){const r=e.num(),o=t.num();return Zc(ue(r,o,n))};Re.lrgb=function(e,t,n){const[r,o,s,i]=e.rgba(!1,!1),[a,u,f,c]=t.rgba(!1,!1);return new Je(Ir(r**2*(1-n)+a**2*n),Ir(o**2*(1-n)+u**2*n),Ir(s**2*(1-n)+f**2*n),ue(i,c,n))};function $t(e,t){if(Array.isArray(e[0])&&(e=e[0]),!t)if(e.length==1&&e[0]in dt)t="name";else if(e.length==1&&typeof e[0]=="string")t="css";else if(e.length==3)t="rgb";else if(e.length==4&&typeof e[3]=="number"&&e[3]>=0&&e[3]<=1)t="rgb";else if(e.length==1&&typeof e[0]=="number"&&e[0]>=0&&e[0]<=16777215)t="num";else throw new Error("could not guess mode. args "+JSON.stringify(e));const n=H[t](...e);return new Je(n[0],n[1],n[2],n[3]!==void 0?n[3]:1)}function Hc(e){let t;if(t=e.match(/^#?([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})?$/i))return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),t[4]?parseInt(t[4],16)/255:1];if(t=e.match(/^#?([A-F\d])([A-F\d])([A-F\d])([A-F\d])?$/i))return[parseInt(t[1],16)*17,parseInt(t[2],16)*17,parseInt(t[3],16)*17,t[4]?parseInt(t[4],16)*17/255:1];throw new Error("invalid hex color: "+e)}function ob(e,t,n,r,o="rgb"){e=ee(ie(e),0,255),t=ee(ie(t),0,255),n=ee(ie(n),0,255);const i=(e<<16|t<<8|n).toString(16).padStart(6,"0"),a=ie(ee(r)*255).toString(16).padStart(2,"0");return"#"+(o=="argb"?a+i:o=="rgba"?i+a:i)}H.lrgb=H.rgb;H.hex=Hc;H.hsl=Yc;function Mo(e){return(e%360+360)%360}H.hsv=Ob;function Ro(e){if(!(typeof e=="number"&&e>=0&&e<=16777215))throw new Error("unknown num color: "+e);const t=e>>16,n=e>>8&255,r=e&255;return[t,n,r,1]}function sb(e,t,n,r=1,o="rgb"){const s=ie(e)<<16|ie(t)<<8|ie(n);return o==="rgb"?s:o==="rgba"?s<<8|ie(r*255)<<24:ie(r*255)<<24|s}H.num=Ro;const Rn="\\s*",U="([+-]?(?:\\d*\\.?)?\\d+(?:[eE][+-]?\\d+)?)",ib=new RegExp(["^rgba?\\(",U,",",U,",",U,"(?:,",U+"(%)?",")?\\)$"].join(Rn),"i"),ab=new RegExp(["^rgba?\\(",U,U,U,"(?:/",U+"(%)?",")?\\)$"].join(Rn),"i"),ub=new RegExp(["^rgba?\\(",U+"%",",",U+"%",",",U+"%","(?:,",U+"(%)?",")?\\)$"].join(Rn),"i"),cb=new RegExp(["^rgba?\\(",U+"%",U+"%",U+"%","(?:/",U+"(%)?",")?\\)$"].join(Rn),"i"),fb=new RegExp(["^hsla?\\(",U+"(deg|rad|turn)?",",",U+"%",",",U+"%","(?:,",U+"(%)?",")?\\)$"].join(Rn),"i"),lb=new RegExp(["^hsla?\\(",U+"(deg|rad|turn)?\\s+"+U+"%",U+"%","(?:/",U+"(%)?",")?\\)$"].join(Rn),"i");function Xc(e){if(dt&&dt.hasOwnProperty(e))return Ro(dt[e.toLowerCase()]);let t;if(t=e.match(ib)||e.match(ab))return[ee(+t[1],0,255),ee(+t[2],0,255),ee(+t[3],0,255),t[4]?ee(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(ub)||e.match(cb))return[ee(+t[1]/100)*255,ee(+t[2]/100)*255,ee(+t[3]/100)*255,t[4]?ee(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(fb)||e.match(lb)){const n={deg:1,rad:gi,turn:360},r=t[2]?t[2].toLowerCase():"deg";return Yc((+t[1]*n[r]%360+360)%360,ee(+t[3]/100),ee(+t[4]/100),t[5]?ee(t[6]?+t[5]/100:+t[5]):1)}else return Hc(e)}function db(e,t,n,r=1){return r>=1?"rgb("+[e,t,n].map(ie).join(",")+")":"rgba("+[e,t,n].map(ie).join(",")+","+r+")"}function Tr(e){return ie(e*100)/100}function hb([e,t,n],r){const o=r<1?"hsla":"hsl";return o+"("+Tr(e)+","+Tr(t*100)+"%,"+Tr(n*100)+"%"+(o=="hsla"?","+Tr(r):"")+")"}H.css=Xc;H.name=function(e){return Ro(dt[e])};function pb(e,t,n){return[e,Lt(n*Cs)*t,J0(n*Cs)*t]}function bb(e,t,n,r=1){const[,o,s]=pb(e,t,n);return Qc(e,o,s,r)}function gb(e,t,n){const r=qc(t,n),o=(Wc(n,t)*gi+360)%360;return[e,r,o]}function vb(e,t,n){const[r,o,s]=rf(e,t,n);return gb(r,o,s)}H.lch=bb;function _b(e,t,n){e/=255,t/=255,n/=255;const r=1-bi(e,t,n);if(r==1)return[0,0,0,1];const o=(1-e-r)/(1-r),s=(1-t-r)/(1-r),i=(1-n-r)/(1-r);return[o,s,i,r]}function mb(e,t,n,r,o=1){if(r==1)return[0,0,0,o];const s=255*(1-e)*(1-r),i=255*(1-t)*(1-r),a=255*(1-n)*(1-r);return[s,i,a,o]}H.cmyk=mb;H.gl=function(e,t,n,r=1){return[e*255,t*255,n*255,r]};function Qo(e){const t=e/255;return t<=.04045?t/12.92:((t+.055)/1.055)**2.4}function es(e){return e<=.0031308?255*(12.92*e):255*((1+.055)*e**(1/2.4)-.055)}function yb(e){const t=e/100;let n,r,o;return t<66?(n=255,r=-155.25485562709179-.44596950469579133*(t-2)+104.49216199393888*lt(t-2),o=t<20?0:-254.76935184120902+.8274096064007395*(t-10)+115.67994401066147*lt(t-10)):(n=351.97690566805693+.114206453784165*(t-55)-40.25366309332127*lt(t-55),r=325.4494125711974+.07943456536662342*(t-50)-28.0852963507957*lt(t-50),o=255),[n,r,o]}H.rgb=(...e)=>e;function wb(e,t,n){return console.log(n-e),t+n<158.61?(console.log("0 < t < 20"),ie(Yo(r=>t-(-155.25485562709179-.44596950469579133*(r-2)+104.49216199393888*lt(r-2)),15,4)*100)):n-e<0?(console.log("20 < t < 66"),ie(Yo(r=>n-(-254.76935184120902+.8274096064007395*(r-10)+115.67994401066147*lt(r-10)),43,4)*100)):(console.log("0 < t < 400, start= "+(-1.4*(e+t)+755)),ie(Yo(r=>e-(351.97690566805693+.114206453784165*(r-55)-40.25366309332127*lt(r-55)),-1.4*(e+t)+755,8)*100))}H.temperature=H.kelvin=H.K=yb;function vi(e,t,n){const r=Kc(e,t,n),o=bi(e,t,n),s=o-r;let i;return s==0?i=0:e==o?i=(t-n)/s+(t<n?6:0):t==o?i=2+(n-e)/s:i=4+(e-t)/s,[i*60,r,o]}function _i(e,t,n,r,o){const s=r*255,i=t*255+s,a=n*255+s;return e<60?[i,a,s,o]:e<120?[a,i,s,o]:e<180?[s,i,a,o]:e<240?[s,a,i,o]:e<300?[a,s,i,o]:[i,s,a,o]}function Yc(e,t,n,r=1){e=Mo(e);const o=(1-xn(2*n-1))*t;return _i(e,o,o*(1-xn(e/60%2-1)),n-o/2,r)}function xb(e,t,n){const[r,o,s]=vi(e/255,t/255,n/255),i=(s+o)/2;let a;return s==o?a=0:a=i<.5?(s-o)/(s+o):(s-o)/(2-s-o),[r,a,i]}function Ob(e,t,n,r=1){e=Mo(e);const o=n*t;return _i(e,o,o*(1-xn(e/60%2-1)),n-o,r)}function Sb(e,t,n){const[r,o,s]=vi(e,t,n),i=s-o,a=s/255,u=s==0?0:i/s;return[r,u,a]}function Ab(e,t,n,r=1){e=Mo(e);const o=n*(1-t);return _i(e,t,t*(1-xn(e/60%2-1)),o,r)}function Pb(e,t,n){const[r,o,s]=vi(e,t,n),i=(s-o)/255,a=i<1?o/255/(1-i):0;return[r,i,a]}H.hcg=Ab;function Qc(e,t,n,r=1){const[o,s,i]=Cb(e,t,n);return of(o,s,i,r)}function Cb(e,t,n){function r(o){return o>jb?o**3:nf*(o-4/29)}return[ef*r((e+16)/116+t/500),Nr*r((e+16)/116),tf*r((e+16)/116-n/200)]}function Tb(e,t,n){function r(o){return o>$b?H0(o):o/nf+4/29}return[116*r(t/Nr)-16,500*(r(e/ef)-r(t/Nr)),200*(r(t/Nr)-r(n/tf))]}const Ea=18,ef=.95047,Nr=1,tf=1.08883,jb=.206896552,nf=.12841855,$b=.008856452;function rf(e,t,n){const[r,o,s]=Ts(e,t,n);return Tb(r,o,s)}function Ts(e,t,n){const r=Qo(e),o=Qo(t),s=Qo(n),i=.4124564*r+.3575761*o+.1804375*s,a=.2126729*r+.7151522*o+.072175*s,u=.0193339*r+.119192*o+.9503041*s;return[i,a,u]}function of(e,t,n,r=1){const o=3.2404542*e-1.5371385*t-.4985314*n,s=-.969266*e+1.8760108*t+.041556*n,i=.0556434*e-.2040259*t+1.0572252*n;return[es(o),es(s),es(i),r]}H.xyz=of;H.lab=Qc;function kb(e,t,n,r=1){let o,s,i,a=e*Cs;return a<2*Qe/3?(i=(1-t)/3,o=(1+t*Lt(a)/Lt(Qe/3-a))/3,s=1-(i+o)):a<4*Qe/3?(a-=2*Qe/3,o=(1-t)/3,s=(1+t*Lt(a)/Lt(Qe/3-a))/3,i=1-(o+s)):(a-=4*Qe/3,s=(1-t)/3,i=(1+t*Lt(a)/Lt(Qe/3-a))/3,o=1-(s+i)),[3*n*o*255,3*n*s*255,3*n*i*255,r]}function Eb(e,t,n){const r=e/255,o=t/255,s=n/255,i=(r+o+s)/3;if(r==o&&o==s)return[0,0,i];{const a=.5*(2*r-o-s),u=Ir(3)/2*(o-s),f=Wc(u,a),l=1-Kc(r,o,s)/i;return[(f<0?2*Qe+f:f)*gi,l,i]}}H.hsi=kb;Re.hsv=Re.hsl=Re.hsi=Re.lch=Re.hcg=function(t,n,r,o){const[s,i,a]=t[o](),[u,f,c]=n[o]();function l(d,p,h){const w=Mo(p-d+180)-180;return d+h*w}return Yn((o.charAt(0)=="h"?l:ue)(s,u,r),ue(i,f,r),(o.charAt(2)=="h"?l:ue)(a,c,r),o)};function sf(e,t){let n=-1/0,r=-1;for(let o=0;o<e.length;o++){const s=t(e[o]);s>n&&(n=s,r=o)}return r}function Mb(e,t){return e[sf(e,t)]}function X(e,t,n){function r(a,u){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:u,constr:i,traits:new Set},enumerable:!1}),a._zod.traits.has(e))return;a._zod.traits.add(e),t(a,u);const f=i.prototype,c=Object.keys(f);for(let l=0;l<c.length;l++){const d=c[l];d in a||(a[d]=f[d].bind(a))}}const o=n?.Parent??Object;class s extends o{}Object.defineProperty(s,"name",{value:e});function i(a){var u;const f=n?.Parent?new s:this;r(f,a),(u=f._zod).deferred??(u.deferred=[]);for(const c of f._zod.deferred)c();return f}return Object.defineProperty(i,"init",{value:r}),Object.defineProperty(i,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class Wn extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Rb={};function In(e){return Rb}function Ib(e,t){return typeof t=="bigint"?t.toString():t}function Db(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const Ma=Symbol("evaluating");function ct(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Ma)return r===void 0&&(r=Ma,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}const af="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Ra(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Nb(e){if(Ra(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Ra(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Vb(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function sn(e){return{}}function Ln(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Bn(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function jr(e){return typeof e=="string"?e:e?.message}function Dn(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=jr(e.inst?._zod.def?.error?.(e))??jr(t?.error?.(e))??jr(n.customError?.(e))??jr(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}const uf=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ib,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Lb=X("$ZodError",uf),Io=X("$ZodError",uf,{Parent:Error}),Bb=e=>(t,n,r,o)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new Wn;if(i.issues.length){const a=new(o?.Err??e)(i.issues.map(u=>Dn(u,s,In())));throw af(a,o?.callee),a}return i.value},zb=Bb(Io),Fb=e=>async(t,n,r,o)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise&&(i=await i),i.issues.length){const a=new(o?.Err??e)(i.issues.map(u=>Dn(u,s,In())));throw af(a,o?.callee),a}return i.value},Gb=Fb(Io),Ub=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new Wn;return s.issues.length?{success:!1,error:new(e??Lb)(s.issues.map(i=>Dn(i,o,In())))}:{success:!0,data:s.value}},cf=Ub(Io),Wb=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(i=>Dn(i,o,In())))}:{success:!0,data:s.value}},ff=Wb(Io),Kb=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},qb=/^-?\d+(?:\.\d+)?/,Zb=/^(?:true|false)$/i,Jb=/^null$/i,Hb={major:4,minor:1,patch:13},Ct=X("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Hb;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(i,a,u)=>{let f=Ln(i),c;for(const l of a){if(l._zod.def.when){if(!l._zod.def.when(i))continue}else if(f)continue;const d=i.issues.length,p=l._zod.check(i);if(p instanceof Promise&&u?.async===!1)throw new Wn;if(c||p instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await p,i.issues.length!==d&&(f||(f=Ln(i,d)))});else{if(i.issues.length===d)continue;f||(f=Ln(i,d))}}return c?c.then(()=>i):i},s=(i,a,u)=>{if(Ln(i))return i.aborted=!0,i;const f=o(a,r,u);if(f instanceof Promise){if(u.async===!1)throw new Wn;return f.then(c=>e._zod.parse(c,u))}return e._zod.parse(f,u)};e._zod.run=(i,a)=>{if(a.skipChecks)return e._zod.parse(i,a);if(a.direction==="backward"){const f=e._zod.parse({value:i.value,issues:[]},{...a,skipChecks:!0});return f instanceof Promise?f.then(c=>s(c,i,a)):s(f,i,a)}const u=e._zod.parse(i,a);if(u instanceof Promise){if(a.async===!1)throw new Wn;return u.then(f=>o(f,r,a))}return o(u,r,a)}}e["~standard"]={validate:o=>{try{const s=cf(e,o);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return ff(e,o).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}}),Xb=X("$ZodString",(e,t)=>{Ct.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Kb(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Yb=X("$ZodNumber",(e,t)=>{Ct.init(e,t),e._zod.pattern=e._zod.bag.pattern??qb,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const s=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...s?{received:s}:{}}),n}}),Qb=X("$ZodBoolean",(e,t)=>{Ct.init(e,t),e._zod.pattern=Zb,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),eg=X("$ZodNull",(e,t)=>{Ct.init(e,t),e._zod.pattern=Jb,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const o=n.value;return o===null||n.issues.push({expected:"null",code:"invalid_type",input:o,inst:e}),n}});function Ia(e,t,n){e.issues.length&&t.issues.push(...Bn(n,e.issues)),t.value[n]=e.value}const tg=X("$ZodArray",(e,t)=>{Ct.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const s=[];for(let i=0;i<o.length;i++){const a=o[i],u=t.element._zod.run({value:a,issues:[]},r);u instanceof Promise?s.push(u.then(f=>Ia(f,n,i))):Ia(u,n,i)}return s.length?Promise.all(s).then(()=>n):n}});function Da(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const o=e.filter(s=>!Ln(s));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(i=>Dn(i,r,In())))}),t)}const ng=X("$ZodUnion",(e,t)=>{Ct.init(e,t),ct(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),ct(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),ct(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),ct(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${o.map(s=>Db(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,s)=>{if(n)return r(o,s);let i=!1;const a=[];for(const u of t.options){const f=u._zod.run({value:o.value,issues:[]},s);if(f instanceof Promise)a.push(f),i=!0;else{if(f.issues.length===0)return f;a.push(f)}}return i?Promise.all(a).then(u=>Da(u,o,e,s)):Da(a,o,e,s)}}),rg=X("$ZodRecord",(e,t)=>{Ct.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Nb(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const s=[],i=t.keyType._zod.values;if(i){n.value={};const a=new Set;for(const f of i)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){a.add(typeof f=="number"?f.toString():f);const c=t.valueType._zod.run({value:o[f],issues:[]},r);c instanceof Promise?s.push(c.then(l=>{l.issues.length&&n.issues.push(...Bn(f,l.issues)),n.value[f]=l.value})):(c.issues.length&&n.issues.push(...Bn(f,c.issues)),n.value[f]=c.value)}let u;for(const f in o)a.has(f)||(u=u??[],u.push(f));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:u})}else{n.value={};for(const a of Reflect.ownKeys(o)){if(a==="__proto__")continue;const u=t.keyType._zod.run({value:a,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(c=>Dn(c,r,In())),input:a,path:[a],inst:e}),n.value[u.value]=u.value;continue}const f=t.valueType._zod.run({value:o[a],issues:[]},r);f instanceof Promise?s.push(f.then(c=>{c.issues.length&&n.issues.push(...Bn(a,c.issues)),n.value[u.value]=c.value})):(f.issues.length&&n.issues.push(...Bn(a,f.issues)),n.value[u.value]=f.value)}}return s.length?Promise.all(s).then(()=>n):n}}),og=X("$ZodLazy",(e,t)=>{Ct.init(e,t),ct(e._zod,"innerType",()=>t.getter()),ct(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),ct(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),ct(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),ct(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)});var Na;class sg{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function ig(){return new sg}(Na=globalThis).__zod_globalRegistry??(Na.__zod_globalRegistry=ig());function ag(e,t){return new e({type:"string",...sn()})}function ug(e,t){return new e({type:"number",checks:[],...sn()})}function cg(e,t){return new e({type:"boolean",...sn()})}function fg(e,t){return new e({type:"null",...sn()})}const Vt=X("ZodMiniType",(e,t)=>{if(!e._zod)throw new Error("Uninitialized schema in ZodMiniType.");Ct.init(e,t),e.def=t,e.type=t.type,e.parse=(n,r)=>zb(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>cf(e,n,r),e.parseAsync=async(n,r)=>Gb(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>ff(e,n,r),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>Vb(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e))}),lg=X("ZodMiniString",(e,t)=>{Xb.init(e,t),Vt.init(e,t)});function mi(e){return ag(lg)}const dg=X("ZodMiniNumber",(e,t)=>{Yb.init(e,t),Vt.init(e,t)});function hg(e){return ug(dg)}const pg=X("ZodMiniBoolean",(e,t)=>{Qb.init(e,t),Vt.init(e,t)});function bg(e){return cg(pg)}const gg=X("ZodMiniNull",(e,t)=>{eg.init(e,t),Vt.init(e,t)});function vg(e){return fg(gg)}const _g=X("ZodMiniArray",(e,t)=>{tg.init(e,t),Vt.init(e,t)});function mg(e,t){return new _g({type:"array",element:e,...sn()})}const yg=X("ZodMiniUnion",(e,t)=>{ng.init(e,t),Vt.init(e,t)});function lf(e,t){return new yg({type:"union",options:e,...sn()})}const wg=X("ZodMiniRecord",(e,t)=>{rg.init(e,t),Vt.init(e,t)});function df(e,t,n){return new wg({type:"record",keyType:e,valueType:t,...sn()})}const xg=X("ZodMiniLazy",(e,t)=>{og.init(e,t),Vt.init(e,t)});function Og(e){return new xg({type:"lazy",getter:e})}const Sg=lf([mi(),hg(),bg(),vg()]),js=Og(()=>lf([Sg,mg(js),df(mi(),js)]));df(mi(),js);export{S as $,Fg as A,bs as B,Is as C,Gt as D,$o as E,$g as F,Rg as G,kg as H,jg as I,ve as J,Eg as K,Mg as L,jo as M,Ig as N,Bs as O,Dg as P,On as Q,ot as R,Ug as S,Yn as T,Wg as U,Lg as V,Bg as W,zg as X,xf as Y,Tg as Z,Sd as _,rd as a,Wr as a0,js as a1,kl as b,nd as c,Il as d,J as e,A as f,Cg as g,V as h,Zt as i,vo as j,xu as k,Ns as l,Mu as m,fs as n,Ds as o,pd as p,mt as q,Vg as r,W as s,Fe as t,Ht as u,de as v,re as w,hd as x,Gg as y,Ng as z};
