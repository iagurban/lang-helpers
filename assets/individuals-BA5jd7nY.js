var Vf=Object.defineProperty;var Bf=(e,t,n)=>t in e?Vf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ne=(e,t,n)=>Bf(e,typeof t!="symbol"?t+"":t,n);import{r as zf,a as Ff,b as Zr}from"./vendor-Cy_XlF4s.js";function cb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}class Gf extends Error{constructor(t){super("Programming error"+(t?`: ${t}`:""))}}const Uf=(e,t)=>{if(!e)throw new Gf(t?.())};class Kt{constructor(t){Ne(this,"_m");this._m=new Map(t)}clear(){this._m.clear()}delete(t){return this._m.delete(t)}forEach(t){for(const[n,r]of this._m)t(r,n,this)}get(t){return this._m.get(t)}has(t){return this._m.has(t)}set(t,n){return this._m.set(t,n),this}get size(){return this._m.size}static groupedBy(t,n){const r=new Kt;for(const o of t)r.update(n(o),s=>s?(s.push(o),s):[o]);return r}static mappedBy(t,n){const r=new Kt;for(const o of t)r.set(n(o),o);return r}getOrCreate(t,n,r){let o=this.get(t);return o==null?this.set(t,o=n(t)):r&&r(o,t),o}update(t,n){return this.set(t,n(this.get(t),t))}mapEntries(t){return new Kt([...this.entries()].map(([n,r])=>[n,t(r,n)]))}toArray(t){return[...this.entries()].map(([n,r])=>t(r,n))}valuesToArray(t){return[...this.values()].map(n=>t(n))}deleteKeys(t){for(const n of t)this.delete(n);return this}assign(t){for(const[n,r]of t)this.set(n,r);return this}backup(t){const n=t?t(this):new Kt(this);return()=>{this.clear(),this.assign(n)}}filter(t){return new Kt([...this.entries()].filter(([n,r])=>t(r,n)))}freeze(){const t={value(){throw new Error("Can not mutate frozen ExMap")},configurable:!1,enumerable:!1};for(const n of["set","delete","clear"])Object.defineProperty(this,n,t);return Object.freeze(this),this}[Symbol.iterator](){return this._m[Symbol.iterator]()}entries(){return this._m.entries()}keys(){return this._m.keys()}values(){return this._m.values()}get[Symbol.toStringTag](){return"ExMap"}}const ve=(e,t)=>Object.assign(e,{type:t}),Wo=Symbol("gettrTag:cachedTypeSymbol"),uu=(e,t,n=!0)=>(Object.defineProperty(e,"type",{get:n?()=>e[Wo]??(e[Wo]=t()):t,set:void 0,enumerable:!0,configurable:!0}),e),cu=e=>e.type??"[unknown]",qf=(e,t=[])=>{const n=t.filter(r=>r!=null&&r!==!1);return n.length===0?e:`${e}(${n.join(", ")})`};ve(e=>e!=null,"[defined]");ve(e=>e!==void 0,"!undefined");ve(e=>e!==null,"!null");const fb=ve(e=>!!e,"[truthy]"),lb=ve(e=>e===void 0,"undefined");ve(e=>e===null,"null");ve(e=>e==null,"(null|undefined)");ve(e=>typeof e=="symbol","symbol");ve(e=>e instanceof Error,"error");ve(e=>e instanceof RegExp,"regexp");ve(e=>e instanceof Map,"map");ve(e=>e instanceof Set,"set");const Wf=ve(e=>Array.isArray(e),"readonly-array");function db(e,t,n){if(!t(e)){const r=n(e);throw typeof r=="string"?new Error(r):r}return e}const Kf=(e,t)=>n=>e(n)&&t(n),Zf=e=>({push(t){this.run=Kf(this.run,t)},run:e}),hb=(e={})=>{const t=(()=>{const r=Zf(a=>!0),{minLength:o,maxLength:s,check:i}=e;return o!=null&&r.push(a=>a.length>=o),s!=null&&r.push(a=>a.length<=s),i!=null&&r.push(i),r.run})(),{item:n}=e;return uu(r=>{if(!Array.isArray(r)||!t(r))return!1;if(n==null)return!0;for(const o of r)if(!n(o))return!1;return!0},()=>qf(`${n?cu(n):"unknown"}[]`,[e.minLength!=null&&`len>=${e.minLength}`,e.maxLength!=null&&`len<=${e.maxLength}`,e.check&&(e.checkName??"custom")]))},pb=ve(e=>typeof e=="boolean","boolean"),gb=ve(e=>typeof e=="object"&&e!=null&&!Array.isArray(e),"some-object"),vb=(...e)=>uu(t=>{for(const n of e)if(n(t))return!0;return!1},()=>`(${e.map(t=>cu(t)).join(" | ")})`),bb=ve(e=>typeof e=="string","string");class Mi extends Error{}const Jf=(e,t="arg is null")=>{if(e==null){if(typeof t=="string")throw new Mi(t);const n=t();throw typeof n=="string"?new Mi(n):n}return e},_b=(e,t)=>Array.from({length:e},(n,r)=>t(r)),$i=(e,t,n)=>(Object.defineProperty(e,t,{value:n,writable:!1,enumerable:!0,configurable:!0}),n);function jn(e,t,n,r){if(n===!0)return $i(e,t,r);const{get:o,set:s}=n;if(!o||s)throw new Error("decorator must be called on getters only");return{get(){return $i(this,t,o.call(this))},enumerable:!0,configurable:!0}}const Hf=globalThis.crypto?.getRandomValues?(()=>{const e=t=>{const n=new Uint8Array(t);return globalThis.crypto.getRandomValues(n),n};return Object.assign(e,{hex:t=>Array.from(e(t)).map(n=>n.toString(16).padStart(2,"0")).join("")})})():(e=>Object.assign(t=>e.randomBytes(t),{hex:t=>e.randomBytes(t).toString("hex")}))(typeof require=="function"?require("crypto"):{randomBytes:Object.assign(()=>{throw new Error("Secure random generation not supported")},{hex:()=>{throw new Error("Secure random generation not supported")}})});function lr(e,t,n,r){var o=arguments.length,s=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}class Xf{constructor(t,n=20){Ne(this,"base");Ne(this,"powers",[1n]);if(this.base=t,t<2n)throw new Error("mapping length must be > 1");this.get(Math.max(1,n)-1)}get(t){let n=this.powers.length-1;for(;t>n++;)this.powers.push(this.base*this.powers[this.powers.length-1]);return this.powers[t]}}class kn{constructor(t){Ne(this,"parts");Ne(this,"from10",t=>{if(typeof t=="number"&&Math.floor(t)!==t)throw new Error(`n is floating ${t}`);let n=BigInt(t);if(n<0n)throw new Error(`n is negative: ${n}`);const{base:r,digits:o}=this;if(r===10n)throw new Error("mapping length must be != 10");const s=[];do s.push(o[Number(n%r)]),n/=r;while(n>0n);return String.fromCharCode(...s.reverse())});Ne(this,"to10",t=>{const{byChar:n,powers:r}=this;let o=0n;for(let s=t.length-1;s>=0;--s){const i=n.get(t.charCodeAt(s));if(i===void 0)throw new Error(`invalid char '${t[s]}' in '${t}'`);o+=i*r.get(t.length-1-s)}return o});Ne(this,"mask",t=>{const n=this.digits[this.digits.length-1];return String.fromCharCode(...Array.from({length:t},()=>n))});Ne(this,"random",t=>{if(t<1||Math.floor(t)!==t)throw new Error(`random length must be integer > 0, got ${t}`);return String.fromCharCode(...Array.from({length:t},()=>this.digits[Math.random()*this.digits.length|0]))});Ne(this,"fixedWidthRandomGenerator",t=>{const n=c=>{const l=Number(this.to10(this.mask(c)));if(l<=0||!Number.isFinite(l))throw new Error(`invalid mask: ${l}`);const d=BigInt(l),p=Math.ceil(Math.log2(l)),h=Math.max(1,Math.ceil(p/8)),_=1n<<BigInt(8*h),x=_-_%d;return()=>{for(;;){const O=Hf(h);let b=0n;for(let v=0;v<h;v++)b=b<<8n|BigInt(O[v]);if(b<x)return Number(b%d)}}};if(t<1||Math.floor(t)!==t)throw new Error(`length must be integer < 1, got ${t}`);const r=String.fromCharCode(this.digits[0]),o=this.maxSafeExponent,s=t%o,i=Math.floor(t/o),a=(c,l)=>this.from10(c()).padStart(l,r),u=c=>{const l=[];for(let d=0;d<i;++d)l.push(a(c,o));return l.join("")};if(s>0){const c=n(s);if(i>0){const l=n(o);return()=>u(l)+a(c,s)}return()=>a(c,t)}Uf(i>0);const f=n(o);return()=>u(f)});this.parts=t}get base(){return BigInt(this.digits.length)}get digits(){return[...this.digitsSet].sort((n,r)=>n-r)}get digitsSet(){const t=new Set;for(const[n,r]of this.parts.entries())if(Wf(r)){if(r.length!==2||r[0].length!==1||r[1].length!==1)throw new Error(`parts[${n}] must be ['a','z'] (to add a range) or 'abc0xyz' (to add by char)`);const[o,s]=Array.from(r).map(i=>i.codePointAt(0));if(o>s)throw new Error(`parts[${n}] 'from' must be <= 'to', got '${o}' > '${s}'`);for(let i=0;i<s-o+1;++i)t.add(o+i)}else for(let o=0;o<r.length;++o)t.add(r.codePointAt(o));if(t.size<2)throw new Error("empty digits set");return t}get powers(){return new Xf(this.base)}get byChar(){return new Map([...this.digits].map((t,n)=>[t,BigInt(n)]))}get maxSafeInteger(){return this.from10(BigInt(Number.MAX_SAFE_INTEGER))}get maxSafeExponent(){return this.maxSafeInteger.length-1}}lr([jn],kn.prototype,"digits",null);lr([jn],kn.prototype,"digitsSet",null);lr([jn],kn.prototype,"powers",null);lr([jn],kn.prototype,"byChar",null);lr([jn],kn.prototype,"maxSafeInteger",null);const Yf=e=>{const t={};for(const[n,r]of Object.entries(e))t[n]=t[`b${n}`]=new kn(r);return t},Qf={...Yf({2:[["0","1"]],3:[["0","2"]],4:[["0","3"]],6:[["0","5"]],8:[["0","7"]],10:[["0","9"]],16:[["0","9"],["a","f"]],62:[["0","9"],["a","z"],["A","Z"]],70:[["0","9"],["a","z"],["A","Z"],"!@$&%+_="],88:[["0","9"],["a","z"],["A","Z"],`_+-=~!?@#:*&^%$.,{}[]<>'"/`]})},{b62:{from10:el,to10:tl,mask:nl,fixedWidthRandomGenerator:fu}}=Qf,rl=fu(16);fu(12);const lu=e=>{const t=Number(tl(nl(e)));return()=>el(Date.now()%t).padStart(e,"0")},ol=lu(4);lu(2);const mb=()=>`${ol()}${rl()}`;var Ko={},Un={},Ut={},Ii;function du(){return Ii||(Ii=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.ROARR_LOG_FORMAT_VERSION=Ut.ROARR_VERSION=void 0,Ut.ROARR_VERSION="5.0.0",Ut.ROARR_LOG_FORMAT_VERSION="2.0.0"),Ut}var qn={},Ni;function Fs(){return Ni||(Ni=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.logLevels=void 0,qn.logLevels={debug:20,error:50,fatal:60,info:30,trace:10,warn:40}),qn}var Wn={},Li;function sl(){if(Li)return Wn;Li=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.hasOwnProperty=void 0;const e=(t,n)=>Object.prototype.hasOwnProperty.call(t,n);return Wn.hasOwnProperty=e,Wn}var Kn={},Di;function il(){if(Di)return Kn;Di=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.isBrowser=void 0;const e=()=>typeof window<"u";return Kn.isBrowser=e,Kn}var Zn={},Vi;function al(){if(Vi)return Zn;Vi=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.isTruthy=void 0;const e=t=>["true","t","yes","y","on","1"].includes(t.trim().toLowerCase());return Zn.isTruthy=e,Zn}var Zo={},Bi;function ul(){return Bi||(Bi=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMockLogger=void 0;const t=Fs(),n=(o,s)=>(i,a,u,f,c,l,d,p,h,_)=>{o.child({logLevel:s})(i,a,u,f,c,l,d,p,h,_)},r=(o,s)=>{const i=()=>{};return i.adopt=async a=>a(),i.child=()=>(0,e.createMockLogger)(o,s),i.getContext=()=>({}),i.debug=n(i,t.logLevels.debug),i.debugOnce=n(i,t.logLevels.debug),i.error=n(i,t.logLevels.error),i.errorOnce=n(i,t.logLevels.error),i.fatal=n(i,t.logLevels.fatal),i.fatalOnce=n(i,t.logLevels.fatal),i.info=n(i,t.logLevels.info),i.infoOnce=n(i,t.logLevels.info),i.trace=n(i,t.logLevels.trace),i.traceOnce=n(i,t.logLevels.trace),i.warn=n(i,t.logLevels.warn),i.warnOnce=n(i,t.logLevels.warn),i};e.createMockLogger=r})(Zo)),Zo}var Tr={exports:{}},zi;function hu(){return zi||(zi=1,(function(e,t){const{hasOwnProperty:n}=Object.prototype,r=O();r.configure=O,r.stringify=r,r.default=r,t.stringify=r,t.configure=O,e.exports=r;const o=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function s(b){return b.length<5e3&&!o.test(b)?`"${b}"`:JSON.stringify(b)}function i(b,v){if(b.length>200||v)return b.sort(v);for(let y=1;y<b.length;y++){const S=b[y];let C=y;for(;C!==0&&b[C-1]>S;)b[C]=b[C-1],C--;b[C]=S}return b}const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function u(b){return a.call(b)!==void 0&&b.length!==0}function f(b,v,y){b.length<y&&(y=b.length);const S=v===","?"":" ";let C=`"0":${S}${b[0]}`;for(let I=1;I<y;I++)C+=`${v}"${I}":${S}${b[I]}`;return C}function c(b){if(n.call(b,"circularValue")){const v=b.circularValue;if(typeof v=="string")return`"${v}"`;if(v==null)return v;if(v===Error||v===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function l(b){let v;if(n.call(b,"deterministic")&&(v=b.deterministic,typeof v!="boolean"&&typeof v!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return v===void 0?!0:v}function d(b,v){let y;if(n.call(b,v)&&(y=b[v],typeof y!="boolean"))throw new TypeError(`The "${v}" argument must be of type boolean`);return y===void 0?!0:y}function p(b,v){let y;if(n.call(b,v)){if(y=b[v],typeof y!="number")throw new TypeError(`The "${v}" argument must be of type number`);if(!Number.isInteger(y))throw new TypeError(`The "${v}" argument must be an integer`);if(y<1)throw new RangeError(`The "${v}" argument must be >= 1`)}return y===void 0?1/0:y}function h(b){return b===1?"1 item":`${b} items`}function _(b){const v=new Set;for(const y of b)(typeof y=="string"||typeof y=="number")&&v.add(String(y));return v}function x(b){if(n.call(b,"strict")){const v=b.strict;if(typeof v!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(v)return y=>{let S=`Object can not safely be stringified. Received type ${typeof y}`;throw typeof y!="function"&&(S+=` (${y.toString()})`),new Error(S)}}}function O(b){b={...b};const v=x(b);v&&(b.bigint===void 0&&(b.bigint=!1),"circularValue"in b||(b.circularValue=Error));const y=c(b),S=d(b,"bigint"),C=l(b),I=typeof C=="function"?C:void 0,Z=p(b,"maximumDepth"),A=p(b,"maximumBreadth");function z(U,g,R,M,N,L){let j=g[U];switch(typeof j=="object"&&j!==null&&typeof j.toJSON=="function"&&(j=j.toJSON(U)),j=M.call(g,U,j),typeof j){case"string":return s(j);case"object":{if(j===null)return"null";if(R.indexOf(j)!==-1)return y;let $="",J=",";const K=L;if(Array.isArray(j)){if(j.length===0)return"[]";if(Z<R.length+1)return'"[Array]"';R.push(j),N!==""&&(L+=N,$+=`
${L}`,J=`,
${L}`);const Se=Math.min(j.length,A);let nt=0;for(;nt<Se-1;nt++){const Rr=z(String(nt),j,R,M,N,L);$+=Rr!==void 0?Rr:"null",$+=J}const rt=z(String(nt),j,R,M,N,L);if($+=rt!==void 0?rt:"null",j.length-1>A){const Rr=j.length-A-1;$+=`${J}"... ${h(Rr)} not stringified"`}return N!==""&&($+=`
${K}`),R.pop(),`[${$}]`}let D=Object.keys(j);const H=D.length;if(H===0)return"{}";if(Z<R.length+1)return'"[Object]"';let B="",me="";N!==""&&(L+=N,J=`,
${L}`,B=" ");const We=Math.min(H,A);C&&!u(j)&&(D=i(D,I)),R.push(j);for(let Se=0;Se<We;Se++){const nt=D[Se],rt=z(nt,j,R,M,N,L);rt!==void 0&&($+=`${me}${s(nt)}:${B}${rt}`,me=J)}if(H>A){const Se=H-A;$+=`${me}"...":${B}"${h(Se)} not stringified"`,me=J}return N!==""&&me.length>1&&($=`
${L}${$}
${K}`),R.pop(),`{${$}}`}case"number":return isFinite(j)?String(j):v?v(j):"null";case"boolean":return j===!0?"true":"false";case"undefined":return;case"bigint":if(S)return String(j);default:return v?v(j):void 0}}function W(U,g,R,M,N,L){switch(typeof g=="object"&&g!==null&&typeof g.toJSON=="function"&&(g=g.toJSON(U)),typeof g){case"string":return s(g);case"object":{if(g===null)return"null";if(R.indexOf(g)!==-1)return y;const j=L;let $="",J=",";if(Array.isArray(g)){if(g.length===0)return"[]";if(Z<R.length+1)return'"[Array]"';R.push(g),N!==""&&(L+=N,$+=`
${L}`,J=`,
${L}`);const H=Math.min(g.length,A);let B=0;for(;B<H-1;B++){const We=W(String(B),g[B],R,M,N,L);$+=We!==void 0?We:"null",$+=J}const me=W(String(B),g[B],R,M,N,L);if($+=me!==void 0?me:"null",g.length-1>A){const We=g.length-A-1;$+=`${J}"... ${h(We)} not stringified"`}return N!==""&&($+=`
${j}`),R.pop(),`[${$}]`}R.push(g);let K="";N!==""&&(L+=N,J=`,
${L}`,K=" ");let D="";for(const H of M){const B=W(H,g[H],R,M,N,L);B!==void 0&&($+=`${D}${s(H)}:${K}${B}`,D=J)}return N!==""&&D.length>1&&($=`
${L}${$}
${j}`),R.pop(),`{${$}}`}case"number":return isFinite(g)?String(g):v?v(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(S)return String(g);default:return v?v(g):void 0}}function Y(U,g,R,M,N){switch(typeof g){case"string":return s(g);case"object":{if(g===null)return"null";if(typeof g.toJSON=="function"){if(g=g.toJSON(U),typeof g!="object")return Y(U,g,R,M,N);if(g===null)return"null"}if(R.indexOf(g)!==-1)return y;const L=N;if(Array.isArray(g)){if(g.length===0)return"[]";if(Z<R.length+1)return'"[Array]"';R.push(g),N+=M;let B=`
${N}`;const me=`,
${N}`,We=Math.min(g.length,A);let Se=0;for(;Se<We-1;Se++){const rt=Y(String(Se),g[Se],R,M,N);B+=rt!==void 0?rt:"null",B+=me}const nt=Y(String(Se),g[Se],R,M,N);if(B+=nt!==void 0?nt:"null",g.length-1>A){const rt=g.length-A-1;B+=`${me}"... ${h(rt)} not stringified"`}return B+=`
${L}`,R.pop(),`[${B}]`}let j=Object.keys(g);const $=j.length;if($===0)return"{}";if(Z<R.length+1)return'"[Object]"';N+=M;const J=`,
${N}`;let K="",D="",H=Math.min($,A);u(g)&&(K+=f(g,J,A),j=j.slice(g.length),H-=g.length,D=J),C&&(j=i(j,I)),R.push(g);for(let B=0;B<H;B++){const me=j[B],We=Y(me,g[me],R,M,N);We!==void 0&&(K+=`${D}${s(me)}: ${We}`,D=J)}if($>A){const B=$-A;K+=`${D}"...": "${h(B)} not stringified"`,D=J}return D!==""&&(K=`
${N}${K}
${L}`),R.pop(),`{${K}}`}case"number":return isFinite(g)?String(g):v?v(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(S)return String(g);default:return v?v(g):void 0}}function fe(U,g,R){switch(typeof g){case"string":return s(g);case"object":{if(g===null)return"null";if(typeof g.toJSON=="function"){if(g=g.toJSON(U),typeof g!="object")return fe(U,g,R);if(g===null)return"null"}if(R.indexOf(g)!==-1)return y;let M="";const N=g.length!==void 0;if(N&&Array.isArray(g)){if(g.length===0)return"[]";if(Z<R.length+1)return'"[Array]"';R.push(g);const K=Math.min(g.length,A);let D=0;for(;D<K-1;D++){const B=fe(String(D),g[D],R);M+=B!==void 0?B:"null",M+=","}const H=fe(String(D),g[D],R);if(M+=H!==void 0?H:"null",g.length-1>A){const B=g.length-A-1;M+=`,"... ${h(B)} not stringified"`}return R.pop(),`[${M}]`}let L=Object.keys(g);const j=L.length;if(j===0)return"{}";if(Z<R.length+1)return'"[Object]"';let $="",J=Math.min(j,A);N&&u(g)&&(M+=f(g,",",A),L=L.slice(g.length),J-=g.length,$=","),C&&(L=i(L,I)),R.push(g);for(let K=0;K<J;K++){const D=L[K],H=fe(D,g[D],R);H!==void 0&&(M+=`${$}${s(D)}:${H}`,$=",")}if(j>A){const K=j-A;M+=`${$}"...":"${h(K)} not stringified"`}return R.pop(),`{${M}}`}case"number":return isFinite(g)?String(g):v?v(g):"null";case"boolean":return g===!0?"true":"false";case"undefined":return;case"bigint":if(S)return String(g);default:return v?v(g):void 0}}function Re(U,g,R){if(arguments.length>1){let M="";if(typeof R=="number"?M=" ".repeat(Math.min(R,10)):typeof R=="string"&&(M=R.slice(0,10)),g!=null){if(typeof g=="function")return z("",{"":U},[],g,M,"");if(Array.isArray(g))return W("",U,[],_(g),M,"")}if(M.length!==0)return Y("",U,[],M,"")}return fe("",U,[])}return Re}})(Tr,Tr.exports)),Tr.exports}var Fi;function cl(){return Fi||(Fi=1,(function(e){var t={},n=Un&&Un.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0}),e.createLogger=void 0;const r=du(),o=Fs(),s=sl(),i=il(),a=al(),u=ul(),f=zf(),c=n(hu());let l=!1;const d=()=>globalThis.ROARR,p=()=>({messageContext:{},transforms:[]}),h=()=>{const S=d().asyncLocalStorage;if(!S)throw new Error("AsyncLocalContext is unavailable.");const C=S.getStore();return C||p()},_=()=>!!d().asyncLocalStorage,x=()=>{if(_()){const S=h();return(0,s.hasOwnProperty)(S,"sequenceRoot")&&(0,s.hasOwnProperty)(S,"sequence")&&typeof S.sequence=="number"?String(S.sequenceRoot)+"."+String(S.sequence++):String(d().sequence++)}return String(d().sequence++)},O=(S,C)=>(I,Z,A,z,W,Y,fe,Re,U,g)=>{S.child({logLevel:C})(I,Z,A,z,W,Y,fe,Re,U,g)},b=1e3,v=(S,C)=>(I,Z,A,z,W,Y,fe,Re,U,g)=>{const R=(0,c.default)({a:I,b:Z,c:A,d:z,e:W,f:Y,g:fe,h:Re,i:U,j:g,logLevel:C});if(!R)throw new Error("Expected key to be a string");const M=d().onceLog;M.has(R)||(M.add(R),M.size>b&&M.clear(),S.child({logLevel:C})(I,Z,A,z,W,Y,fe,Re,U,g))},y=(S,C={},I=[])=>{var Z;if(!(0,i.isBrowser)()&&typeof process<"u"&&!(0,a.isTruthy)((Z=t.ROARR_LOG)!==null&&Z!==void 0?Z:""))return(0,u.createMockLogger)(S,C);const A=(z,W,Y,fe,Re,U,g,R,M,N)=>{const L=Date.now(),j=x();let $;_()?$=h():$=p();let J,K;if(typeof z=="string"?J={...$.messageContext,...C}:J={...$.messageContext,...C,...z},typeof z=="string"&&W===void 0)K=z;else if(typeof z=="string"){if(!z.includes("%"))throw new Error("When a string parameter is followed by other arguments, then it is assumed that you are attempting to format a message using printf syntax. You either forgot to add printf bindings or if you meant to add context to the log message, pass them in an object as the first parameter.");K=(0,f.printf)(z,W,Y,fe,Re,U,g,R,M,N)}else{let H=W;if(typeof W!="string")if(W===void 0)H="";else throw new TypeError("Message must be a string. Received "+typeof W+".");K=(0,f.printf)(H,Y,fe,Re,U,g,R,M,N)}let D={context:J,message:K,sequence:j,time:L,version:r.ROARR_LOG_FORMAT_VERSION};for(const H of[...$.transforms,...I])if(D=H(D),typeof D!="object"||D===null)throw new Error("Message transform function must return a message object.");S(D)};return A.child=z=>{let W;return _()?W=h():W=p(),typeof z=="function"?(0,e.createLogger)(S,{...W.messageContext,...C,...z},[z,...I]):(0,e.createLogger)(S,{...W.messageContext,...C,...z},I)},A.getContext=()=>{let z;return _()?z=h():z=p(),{...z.messageContext,...C}},A.adopt=async(z,W)=>{if(!_())return l===!1&&(l=!0,S({context:{logLevel:o.logLevels.warn,package:"roarr"},message:"async_hooks are unavailable; Roarr.adopt will not function as expected",sequence:x(),time:Date.now(),version:r.ROARR_LOG_FORMAT_VERSION})),z();const Y=h();let fe;(0,s.hasOwnProperty)(Y,"sequenceRoot")&&(0,s.hasOwnProperty)(Y,"sequence")&&typeof Y.sequence=="number"?fe=Y.sequenceRoot+"."+String(Y.sequence++):fe=String(d().sequence++);let Re={...Y.messageContext};const U=[...Y.transforms];typeof W=="function"?U.push(W):Re={...Re,...W};const g=d().asyncLocalStorage;if(!g)throw new Error("Async local context unavailable.");return g.run({messageContext:Re,sequence:0,sequenceRoot:fe,transforms:U},()=>z())},A.debug=O(A,o.logLevels.debug),A.debugOnce=v(A,o.logLevels.debug),A.error=O(A,o.logLevels.error),A.errorOnce=v(A,o.logLevels.error),A.fatal=O(A,o.logLevels.fatal),A.fatalOnce=v(A,o.logLevels.fatal),A.info=O(A,o.logLevels.info),A.infoOnce=v(A,o.logLevels.info),A.trace=O(A,o.logLevels.trace),A.traceOnce=v(A,o.logLevels.trace),A.warn=O(A,o.logLevels.warn),A.warnOnce=v(A,o.logLevels.warn),A};e.createLogger=y})(Un)),Un}var qt={},Gi;function fl(){if(Gi)return qt;Gi=1;var e=qt&&qt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(qt,"__esModule",{value:!0}),qt.createRoarrInitialGlobalStateBrowser=void 0;const t=du(),n=e(Ff()),r=o=>{const s=(o.versions||[]).concat();return s.length>1&&s.sort(n.default),s.includes(t.ROARR_VERSION)||s.push(t.ROARR_VERSION),s.sort(n.default),{sequence:0,...o,versions:s}};return qt.createRoarrInitialGlobalStateBrowser=r,qt}var Jn={},Ui;function ll(){if(Ui)return Jn;Ui=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.stringify=void 0;const t=(0,hu().configure)({deterministic:!1,maximumBreadth:20,maximumDepth:10,strict:!1}),n=r=>{var o,s;try{return(o=JSON.stringify(r))!==null&&o!==void 0?o:""}catch{}try{return(s=t(r))!==null&&s!==void 0?s:""}catch(i){throw console.error("[roarr] could not serialize value",r),i}};return Jn.stringify=n,Jn}var Hn={},qi;function dl(){if(qi)return Hn;qi=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.getLogLevelName=void 0;const e=t=>t<=10?"trace":t<=20?"debug":t<=30?"info":t<=40?"warn":t<=50?"error":"fatal";return Hn.getLogLevelName=e,Hn}var Wi;function hl(){return Wi||(Wi=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getLogLevelName=e.logLevels=e.Roarr=e.ROARR=void 0;const t=cl(),n=fl(),r=ll(),o=(0,n.createRoarrInitialGlobalStateBrowser)(globalThis.ROARR||{});e.ROARR=o,globalThis.ROARR=o;const s=f=>(0,r.stringify)(f),i=(0,t.createLogger)(f=>{var c;o.write&&o.write(((c=o.serializeMessage)!==null&&c!==void 0?c:s)(f))});e.Roarr=i;var a=Fs();Object.defineProperty(e,"logLevels",{enumerable:!0,get:function(){return a.logLevels}});var u=dl();Object.defineProperty(e,"getLogLevelName",{enumerable:!0,get:function(){return u.getLogLevelName}})})(Ko)),Ko}var yb=hl();function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var pl={};function bo(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:pl}var pu=Object.assign,Jr=Object.getOwnPropertyDescriptor,it=Object.defineProperty,dr=Object.prototype,hs=[];Object.freeze(hs);var Gs={};Object.freeze(Gs);var gl=typeof Proxy<"u",vl=Object.toString();function gu(){gl||k("Proxy not available")}function vu(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var bn=function(){};function Me(e){return typeof e=="function"}function Xt(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function _o(e){return e!==null&&typeof e=="object"}function wt(e){if(!_o(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===vl}function bu(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function hr(e,t,n){it(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function _u(e,t,n){it(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Vt(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return _o(r)&&r[n]===!0}}function En(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function bl(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function ht(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var mu=typeof Object.getOwnPropertySymbols<"u";function _l(e){var t=Object.keys(e);if(!mu)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return dr.propertyIsEnumerable.call(e,r)})):t}var wn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:mu?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function yu(e){return e===null?null:typeof e=="object"?""+e:e}function _t(e,t){return dr.hasOwnProperty.call(e,t)}var ml=Object.getOwnPropertyDescriptors||function(t){var n={};return wn(t).forEach(function(r){n[r]=Jr(t,r)}),n};function Te(e,t){return!!(e&t)}function je(e,t,n){return n?e|=t:e&=~t,e}function Ki(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function yl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xl(r.key),r)}}function Mn(e,t,n){return t&&yl(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _n(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Ol(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nt(){return Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nt.apply(null,arguments)}function wu(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ps(e,t)}function ps(e,t){return ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ps(e,t)}function wl(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xl(e){var t=wl(e,"string");return typeof t=="symbol"?t:t+""}function Ol(e,t){if(e){if(typeof e=="string")return Ki(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ki(e,t):void 0}}var st=Symbol("mobx-stored-annotations");function Ze(e){function t(n,r){if(gr(r))return e.decorate_20223_(n,r);pr(n,r,e)}return Object.assign(t,e)}function pr(e,t,n){_t(e,st)||hr(e,st,Nt({},e[st])),El(n)||(e[st][t]=n)}function Sl(e){return _t(e,st)||hr(e,st,Nt({},e[st])),e[st]}function gr(e){return typeof e=="object"&&typeof e.kind=="string"}var P=Symbol("mobx administration"),Bt=(function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=V.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return Vu(this)},t.reportChanged=function(){Ae(),Bu(this),Pe()},t.toString=function(){return this.name_},Mn(e,[{key:"isBeingObserved",get:function(){return Te(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=je(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Te(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=je(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Te(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=je(this.flags_,e.diffValueMask_,r===1)}}])})();Bt.isBeingObservedMask_=1;Bt.isPendingUnobservationMask_=2;Bt.diffValueMask_=4;var Us=Vt("Atom",Bt);function Rt(e,t,n){t===void 0&&(t=bn),n===void 0&&(n=bn);var r=new Bt(e);return t!==bn&&Ju(r,t),n!==bn&&Js(r,n),r}function Al(e,t){return e===t}function Pl(e,t){return ni(e,t)}function Cl(e,t){return ni(e,t,1)}function Rl(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Yt={identity:Al,structural:Pl,default:Rl,shallow:Cl};function Qt(e,t,n){return ft(e)?e:Array.isArray(e)?F.array(e,{name:n}):wt(e)?F.object(e,void 0,{name:n}):En(e)?F.map(e,{name:n}):ht(e)?F.set(e,{name:n}):typeof e=="function"&&!tn(e)&&!On(e)?bu(e)?nn(e):xn(n,e):e}function Tl(e,t,n){if(e==null||Q(e)||be(e)||ue(e)||ee(e))return e;if(Array.isArray(e))return F.array(e,{name:n,deep:!1});if(wt(e))return F.object(e,void 0,{name:n,deep:!1});if(En(e))return F.map(e,{name:n,deep:!1});if(ht(e))return F.set(e,{name:n,deep:!1})}function mo(e){return e}function jl(e,t){return ni(e,t)?t:e}var xu="override",kl=Ze({annotationType_:xu,make_:Ml,extend_:$l,decorate_20223_:Il});function El(e){return e.annotationType_===xu}function Ml(e,t){return 0}function $l(e,t,n,r){k("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function Il(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function vr(e,t){return{annotationType_:e,options_:t,make_:Nl,extend_:Ll,decorate_20223_:Dl}}function Nl(e,t,n,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(tn(n.value))return 1;var s=Ou(e,this,t,n,!1);return it(r,t,s),2}function Ll(e,t,n,r){var o=Ou(e,this,t,n);return e.defineProperty_(t,o,r)}function Dl(e,t){var n=t.kind,r=t.name,o=t.addInitializer,s=this,i=function(f){var c,l,d,p;return Lt((c=(l=s.options_)==null?void 0:l.name)!=null?c:r.toString(),f,(d=(p=s.options_)==null?void 0:p.autoAction)!=null?d:!1)};if(n=="field")return function(u){var f,c=u;return tn(c)||(c=i(c)),(f=s.options_)!=null&&f.bound&&(c=c.bind(this),c.isMobxAction=!0),c};if(n=="method"){var a;return tn(e)||(e=i(e)),(a=this.options_)!=null&&a.bound&&o(function(){var u=this,f=u[r].bind(u);f.isMobxAction=!0,u[r]=f}),e}k("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function Ou(e,t,n,r,o){var s,i,a,u,f,c,l;o===void 0&&(o=w.safeDescriptors);var d=r.value;if((s=t.options_)!=null&&s.bound){var p;d=d.bind((p=e.proxy_)!=null?p:e.target_)}return{value:Lt((i=(a=t.options_)==null?void 0:a.name)!=null?i:n.toString(),d,(u=(f=t.options_)==null?void 0:f.autoAction)!=null?u:!1,(c=t.options_)!=null&&c.bound?(l=e.proxy_)!=null?l:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function Su(e,t){return{annotationType_:e,options_:t,make_:Vl,extend_:Bl,decorate_20223_:zl}}function Vl(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!_t(e.target_,t)||!On(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(On(n.value))return 1;var s=Au(e,this,t,n,!1,!1);return it(r,t,s),2}function Bl(e,t,n,r){var o,s=Au(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,s,r)}function zl(e,t){var n,r=t.name,o=t.addInitializer;return On(e)||(e=nn(e)),(n=this.options_)!=null&&n.bound&&o(function(){var s=this,i=s[r].bind(s);i.isMobXFlow=!0,s[r]=i}),e}function Au(e,t,n,r,o,s){s===void 0&&(s=w.safeDescriptors);var i=r.value;if(On(i)||(i=nn(i)),o){var a;i=i.bind((a=e.proxy_)!=null?a:e.target_),i.isMobXFlow=!0}return{value:i,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function qs(e,t){return{annotationType_:e,options_:t,make_:Fl,extend_:Gl,decorate_20223_:Ul}}function Fl(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Gl(e,t,n,r){return e.defineComputedProperty_(t,Nt({},this.options_,{get:n.get,set:n.set}),r)}function Ul(e,t){var n=this,r=t.name,o=t.addInitializer;return o(function(){var s=cn(this)[P],i=Nt({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),s.values_.set(r,new Xe(i))}),function(){return this[P].getObservablePropValue_(r)}}function yo(e,t){return{annotationType_:e,options_:t,make_:ql,extend_:Wl,decorate_20223_:Kl}}function ql(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Wl(e,t,n,r){var o,s;return e.defineObservableProperty_(t,n.value,(o=(s=this.options_)==null?void 0:s.enhancer)!=null?o:Qt,r)}function Kl(e,t){var n=this,r=t.kind,o=t.name,s=new WeakSet;function i(a,u){var f,c,l=cn(a)[P],d=new $t(u,(f=(c=n.options_)==null?void 0:c.enhancer)!=null?f:Qt,"ObservableObject."+o.toString(),!1);l.values_.set(o,d),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||i(this,e.get.call(this)),this[P].getObservablePropValue_(o)},set:function(u){return s.has(this)||i(this,u),this[P].setObservablePropValue_(o,u)},init:function(u){return s.has(this)||i(this,u),u}}}var Zl="true",Jl=Pu();function Pu(e){return{annotationType_:Zl,options_:e,make_:Hl,extend_:Xl,decorate_20223_:Yl}}function Hl(e,t,n,r){var o,s;if(n.get)return te.make_(e,t,n,r);if(n.set){var i=tn(n.set)?n.set:Lt(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:w.safeDescriptors?e.isPlainObject_:!0,set:i})===null?0:2:(it(r,t,{configurable:!0,set:i}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(bu(n.value)){var u,f=(u=this.options_)!=null&&u.autoBind?nn.bound:nn;return f.make_(e,t,n,r)}var c=(a=this.options_)!=null&&a.autoBind?xn.bound:xn;return c.make_(e,t,n,r)}var l=((o=this.options_)==null?void 0:o.deep)===!1?F.ref:F;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var d;n.value=n.value.bind((d=e.proxy_)!=null?d:e.target_)}return l.make_(e,t,n,r)}function Xl(e,t,n,r){var o,s;if(n.get)return te.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:w.safeDescriptors?e.isPlainObject_:!0,set:Lt(t.toString(),n.set)},r);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var i;n.value=n.value.bind((i=e.proxy_)!=null?i:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?F.ref:F;return a.extend_(e,t,n,r)}function Yl(e,t){k("'"+this.annotationType_+"' cannot be used as a decorator")}var Ql="observable",ed="observable.ref",td="observable.shallow",nd="observable.struct",Cu={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Cu);function jr(e){return e||Cu}var gs=yo(Ql),rd=yo(ed,{enhancer:mo}),od=yo(td,{enhancer:Tl}),sd=yo(nd,{enhancer:jl}),Ru=Ze(gs);function kr(e){return e.deep===!0?Qt:e.deep===!1?mo:ad(e.defaultDecorator)}function id(e){var t;return e?(t=e.defaultDecorator)!=null?t:Pu(e):void 0}function ad(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Qt}function Tu(e,t,n){if(gr(t))return gs.decorate_20223_(e,t);if(Xt(t)){pr(e,t,gs);return}return ft(e)?e:wt(e)?F.object(e,t,n):Array.isArray(e)?F.array(e,t):En(e)?F.map(e,t):ht(e)?F.set(e,t):typeof e=="object"&&e!==null?e:F.box(e,t)}pu(Tu,Ru);var ud={box:function(t,n){var r=jr(n);return new $t(t,kr(r),r.name,!0,r.equals)},array:function(t,n){var r=jr(n);return(w.useProxies===!1||r.proxy===!1?_h:ch)(t,kr(r),r.name)},map:function(t,n){var r=jr(n);return new Qs(t,kr(r),r.name)},set:function(t,n){var r=jr(n);return new ei(t,kr(r),r.name)},object:function(t,n,r){return zt(function(){return Hs(w.useProxies===!1||r?.proxy===!1?cn({},r):sh({},r),t,n)})},ref:Ze(rd),shallow:Ze(od),deep:Ru,struct:Ze(sd)},F=pu(Tu,ud),ju="computed",cd="computed.struct",vs=qs(ju),fd=qs(cd,{equals:Yt.structural}),te=function(t,n){if(gr(n))return vs.decorate_20223_(t,n);if(Xt(n))return pr(t,n,vs);if(wt(t))return Ze(qs(ju,t));var r=wt(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Xe(r)};Object.assign(te,vs);te.struct=Ze(fd);var Zi,Ji,Hr=0,ld=1,dd=(Zi=(Ji=Jr(function(){},"name"))==null?void 0:Ji.configurable)!=null?Zi:!1,Hi={value:"action",configurable:!0,writable:!1,enumerable:!1};function Lt(e,t,n,r){n===void 0&&(n=!1);function o(){return ku(e,n,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},dd&&(Hi.value=e,it(o,"name",Hi)),o}function ku(e,t,n,r,o){var s=Eu(e,t);try{return n.apply(r,o)}catch(i){throw s.error_=i,i}finally{Mu(s)}}function Eu(e,t,n,r){var o=!1,s=0,i=w.trackingDerivation,a=!t||!i;Ae();var u=w.allowStateChanges;a&&(un(),u=wo(!0));var f=So(!0),c={runAsAction_:a,prevDerivation_:i,prevAllowStateChanges_:u,prevAllowStateReads_:f,notifySpy_:o,startTime_:s,actionId_:ld++,parentActionId_:Hr};return Hr=c.actionId_,c}function Mu(e){Hr!==e.actionId_&&k(30),Hr=e.parentActionId_,e.error_!==void 0&&(w.suppressReactionErrors=!0),xo(e.prevAllowStateChanges_),mn(e.prevAllowStateReads_),Pe(),e.runAsAction_&&mt(e.prevDerivation_),w.suppressReactionErrors=!1}function Ws(e,t){var n=wo(e);try{return t()}finally{xo(n)}}function wo(e){var t=w.allowStateChanges;return w.allowStateChanges=e,t}function xo(e){w.allowStateChanges=e}var $t=(function(e){function t(r,o,s,i,a){var u;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=Yt.default),u=e.call(this,s)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=o,u.name_=s,u.equals=a,u.value_=o(r,void 0,s),u}wu(t,e);var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){o=this.prepareNewValue_(o),o!==w.UNCHANGED&&this.setNewValue_(o)},n.prepareNewValue_=function(o){if(Le(this)){var s=De(this,{object:this,type:at,newValue:o});if(!s)return w.UNCHANGED;o=s.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?w.UNCHANGED:o},n.setNewValue_=function(o){var s=this.value_;this.value_=o,this.reportChanged(),Je(this)&&He(this,{type:at,object:this,newValue:o,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return br(this,o)},n.observe_=function(o,s){return s&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:at,newValue:this.value_,oldValue:void 0}),_r(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return yu(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t})(Bt),Ks=Vt("ObservableValue",$t),Xe=(function(){function e(n){this.dependenciesState_=V.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=V.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Yr(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Xr.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||k(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Lt("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Yt.structural:Yt.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Od(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&k(32,this.name_,this.derivation),w.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)bs(this)&&(this.warnAboutUntrackedRead_(),Ae(),this.value_=this.computeValue_(!1),Pe());else if(Vu(this),bs(this)){var r=w.trackingContext;this.keepAlive_&&!r&&(w.trackingContext=this),this.trackAndCompute()&&xd(this),w.trackingContext=r}var o=this.value_;if(Br(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter&&k(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else k(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===V.NOT_TRACKING_,s=this.computeValue_(!0),i=o||Br(r)||Br(s)||!this.equals_(r,s);return i&&(this.value_=s),i},t.computeValue_=function(r){this.isComputing=!0;var o=wo(!1),s;if(r)s=$u(this,this.derivation,this.scope_);else if(w.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(i){s=new Yr(i)}return xo(o),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(_s(this),this.value_=void 0)},t.observe_=function(r,o){var s=this,i=!0,a=void 0;return Zs(function(){var u=s.get();if(!i||o){var f=un();r({observableKind:"computed",debugObjectName:s.name_,type:at,object:s,newValue:u,oldValue:a}),mt(f)}i=!1,a=u})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return yu(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Mn(e,[{key:"isComputing",get:function(){return Te(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=je(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Te(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=je(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Te(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=je(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Te(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=je(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Te(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=je(this.flags_,e.diffValueMask_,r===1)}}])})();Xe.isComputingMask_=1;Xe.isRunningSetterMask_=2;Xe.isBeingObservedMask_=4;Xe.isPendingUnobservationMask_=8;Xe.diffValueMask_=16;var en=Vt("ComputedValue",Xe),V;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(V||(V={}));var Xr;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Xr||(Xr={}));var Yr=function(t){this.cause=void 0,this.cause=t};function Br(e){return e instanceof Yr}function bs(e){switch(e.dependenciesState_){case V.UP_TO_DATE_:return!1;case V.NOT_TRACKING_:case V.STALE_:return!0;case V.POSSIBLY_STALE_:{for(var t=So(!0),n=un(),r=e.observing_,o=r.length,s=0;s<o;s++){var i=r[s];if(en(i)){if(w.disableErrorBoundaries)i.get();else try{i.get()}catch{return mt(n),mn(t),!0}if(e.dependenciesState_===V.STALE_)return mt(n),mn(t),!0}}return Iu(e),mt(n),mn(t),!1}}}function hd(){return w.trackingDerivation!==null}function $u(e,t,n){var r=So(!0);Iu(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++w.runId;var o=w.trackingDerivation;w.trackingDerivation=e,w.inBatch++;var s;if(w.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(i){s=new Yr(i)}return w.inBatch--,w.trackingDerivation=o,pd(e),mn(r),s}function pd(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=V.UP_TO_DATE_,o=0,s=e.unboundDepsCount_,i=0;i<s;i++){var a=n[i];a.diffValue===0&&(a.diffValue=1,o!==i&&(n[o]=a),o++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=o,e.newObserving_=null,s=t.length;s--;){var u=t[s];u.diffValue===0&&Lu(u,e),u.diffValue=0}for(;o--;){var f=n[o];f.diffValue===1&&(f.diffValue=0,wd(f,e))}r!==V.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function _s(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Lu(t[n],e);e.dependenciesState_=V.NOT_TRACKING_}function Oo(e){var t=un();try{return e()}finally{mt(t)}}function un(){var e=w.trackingDerivation;return w.trackingDerivation=null,e}function mt(e){w.trackingDerivation=e}function So(e){var t=w.allowStateReads;return w.allowStateReads=e,t}function mn(e){w.allowStateReads=e}function Iu(e){if(e.dependenciesState_!==V.UP_TO_DATE_){e.dependenciesState_=V.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=V.UP_TO_DATE_}}var gd=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Qn=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},zr=!0,Nu=!1,w=(function(){var e=bo();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(zr=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Qn().version&&(zr=!1),zr?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Qn):(setTimeout(function(){Nu||k(35)},1),new Qn)})();function vd(){if((w.pendingReactions.length||w.inBatch||w.isRunningReactions)&&k(36),Nu=!0,zr){var e=bo();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),w=new Qn}}function bd(){return w}function _d(){var e=new Qn;for(var t in e)gd.indexOf(t)===-1&&(w[t]=e[t]);w.allowStateChanges=!w.enforceActions}function md(e){return e.observers_&&e.observers_.size>0}function yd(e){return e.observers_}function wd(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Lu(e,t){e.observers_.delete(t),e.observers_.size===0&&Du(e)}function Du(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,w.pendingUnobservations.push(e))}function Ae(){w.inBatch++}function Pe(){if(--w.inBatch===0){zu();for(var e=w.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Xe&&n.suspend_())}w.pendingUnobservations=[]}}function Vu(e){var t=w.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&w.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&w.inBatch>0&&Du(e),!1)}function Bu(e){e.lowestObserverState_!==V.STALE_&&(e.lowestObserverState_=V.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===V.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=V.STALE_}))}function xd(e){e.lowestObserverState_!==V.STALE_&&(e.lowestObserverState_=V.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===V.POSSIBLY_STALE_?t.dependenciesState_=V.STALE_:t.dependenciesState_===V.UP_TO_DATE_&&(e.lowestObserverState_=V.UP_TO_DATE_)}))}function Od(e){e.lowestObserverState_===V.UP_TO_DATE_&&(e.lowestObserverState_=V.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===V.UP_TO_DATE_&&(t.dependenciesState_=V.POSSIBLY_STALE_,t.onBecomeStale_())}))}var ct=(function(){function e(n,r,o,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=V.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Xr.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,w.pendingReactions.push(this),zu())},t.runReaction_=function(){if(!this.isDisposed){Ae(),this.isScheduled=!1;var r=w.trackingContext;if(w.trackingContext=this,bs(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}w.trackingContext=r,Pe()}},t.track=function(r){if(!this.isDisposed){Ae(),this.isRunning=!0;var o=w.trackingContext;w.trackingContext=this;var s=$u(this,r,void 0);w.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&_s(this),Br(s)&&this.reportExceptionInDerivation_(s.cause),Pe()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(w.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";w.suppressReactionErrors||console.error(s,r),w.globalReactionErrorHandlers.forEach(function(i){return i(r,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Ae(),_s(this),Pe()))},t.getDisposer_=function(r){var o=this,s=function i(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",i)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[P]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(s[Symbol.dispose]=s),s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Mn(e,[{key:"isDisposed",get:function(){return Te(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=je(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Te(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=je(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Te(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=je(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Te(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=je(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Te(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=je(this.flags_,e.diffValueMask_,r===1)}}])})();ct.isDisposedMask_=1;ct.isScheduledMask_=2;ct.isTrackPendingMask_=4;ct.isRunningMask_=8;ct.diffValueMask_=16;function Sd(e){return w.globalReactionErrorHandlers.push(e),function(){var t=w.globalReactionErrorHandlers.indexOf(e);t>=0&&w.globalReactionErrorHandlers.splice(t,1)}}var Ad=100,ms=function(t){return t()};function zu(){w.inBatch>0||w.isRunningReactions||ms(Pd)}function Pd(){w.isRunningReactions=!0;for(var e=w.pendingReactions,t=0;e.length>0;){++t===Ad&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}w.isRunningReactions=!1}var Qr=Vt("Reaction",ct);function Cd(e){var t=ms;ms=function(r){return e(function(){return t(r)})}}function er(){return!1}function Fu(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Gu="action",Rd="action.bound",Uu="autoAction",Td="autoAction.bound",qu="<unnamed action>",ys=vr(Gu),jd=vr(Rd,{bound:!0}),ws=vr(Uu,{autoAction:!0}),kd=vr(Td,{autoAction:!0,bound:!0});function Wu(e){var t=function(r,o){if(Me(r))return Lt(r.name||qu,r,e);if(Me(o))return Lt(r,o,e);if(gr(o))return(e?ws:ys).decorate_20223_(r,o);if(Xt(o))return pr(r,o,e?ws:ys);if(Xt(r))return Ze(vr(e?Uu:Gu,{name:r,autoAction:e}))};return t}var T=Wu(!1);Object.assign(T,ys);var xn=Wu(!0);Object.assign(xn,ws);T.bound=Ze(jd);xn.bound=Ze(kd);function xs(e){return ku(e.name||qu,!1,e,this,void 0)}function tn(e){return Me(e)&&e.isMobxAction===!0}function Zs(e,t){var n,r,o,s;t===void 0&&(t=Gs);var i=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,u;if(a)u=new ct(i,function(){this.track(l)},t.onError,t.requiresObservable);else{var f=Ku(t),c=!1;u=new ct(i,function(){c||(c=!0,f(function(){c=!1,u.isDisposed||u.track(l)}))},t.onError,t.requiresObservable)}function l(){e(u)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||u.schedule_(),u.getDisposer_((s=t)==null?void 0:s.signal)}var Ed=function(t){return t()};function Ku(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ed}function Zu(e,t,n){var r,o,s;n===void 0&&(n=Gs);var i=(r=n.name)!=null?r:"Reaction",a=T(i,n.onError?Md(n.onError,t):t),u=!n.scheduler&&!n.delay,f=Ku(n),c=!0,l=!1,d,p=n.compareStructural?Yt.structural:n.equals||Yt.default,h=new ct(i,function(){c||u?_():l||(l=!0,f(_))},n.onError,n.requiresObservable);function _(){if(l=!1,!h.isDisposed){var x=!1,O=d;h.track(function(){var b=Ws(!1,function(){return e(h)});x=c||!p(d,b),d=b}),(c&&n.fireImmediately||!c&&x)&&a(d,O,h),c=!1}}return(o=n)!=null&&(o=o.signal)!=null&&o.aborted||h.schedule_(),h.getDisposer_((s=n)==null?void 0:s.signal)}function Md(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var $d="onBO",Id="onBUO";function Ju(e,t,n){return Hu($d,e,t,n)}function Js(e,t,n){return Hu(Id,e,t,n)}function Hu(e,t,n,r){var o=typeof r=="function"?Ot(t,n):Ot(t),s=Me(r)?r:n,i=e+"L";return o[i]?o[i].add(s):o[i]=new Set([s]),function(){var a=o[i];a&&(a.delete(s),a.size===0&&delete o[i])}}var Nd="never",Er="always",Ld="observed";function Dd(e){e.isolateGlobalState===!0&&vd();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(w.useProxies=t===Er?!0:t===Nd?!1:typeof Proxy<"u"),t==="ifavailable"&&(w.verifyProxies=!0),n!==void 0){var r=n===Er?Er:n===Ld;w.enforceActions=r,w.allowStateChanges=!(r===!0||r===Er)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(w[o]=!!e[o])}),w.allowStateReads=!w.observableRequiresReaction,e.reactionScheduler&&Cd(e.reactionScheduler)}function Hs(e,t,n,r){var o=ml(t);return zt(function(){var s=cn(e,r)[P];wn(o).forEach(function(i){s.extend_(i,o[i],n&&i in n?n[i]:!0)})}),e}function Vd(e,t){return Xu(Ot(e,t))}function Xu(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=zd(e.observing_).map(Xu)),t}function Bd(e,t){return Yu(Ot(e,t))}function Yu(e){var t={name:e.name_};return md(e)&&(t.observers=Array.from(yd(e)).map(Yu)),t}function zd(e){return Array.from(new Set(e))}var Fd=0;function Ao(){this.message="FLOW_CANCELLED"}Ao.prototype=Object.create(Error.prototype);function Gd(e){return e instanceof Ao}var Jo=Su("flow"),Ud=Su("flow.bound",{bound:!0}),nn=Object.assign(function(t,n){if(gr(n))return Jo.decorate_20223_(t,n);if(Xt(n))return pr(t,n,Jo);var r=t,o=r.name||"<unnamed flow>",s=function(){var a=this,u=arguments,f=++Fd,c=T(o+" - runid: "+f+" - init",r).apply(a,u),l,d=void 0,p=new Promise(function(h,_){var x=0;l=_;function O(y){d=void 0;var S;try{S=T(o+" - runid: "+f+" - yield "+x++,c.next).call(c,y)}catch(C){return _(C)}v(S)}function b(y){d=void 0;var S;try{S=T(o+" - runid: "+f+" - yield "+x++,c.throw).call(c,y)}catch(C){return _(C)}v(S)}function v(y){if(Me(y?.then)){y.then(v,_);return}return y.done?h(y.value):(d=Promise.resolve(y.value),d.then(O,b))}O(void 0)});return p.cancel=T(o+" - runid: "+f+" - cancel",function(){try{d&&Xi(d);var h=c.return(void 0),_=Promise.resolve(h.value);_.then(bn,bn),Xi(_),l(new Ao)}catch(x){l(x)}}),p};return s.isMobXFlow=!0,s},Jo);nn.bound=Ze(Ud);function Xi(e){Me(e.cancel)&&e.cancel()}function qd(e){return e}function On(e){return e?.isMobXFlow===!0}function Wd(e,t,n){var r;return ue(e)||be(e)||Ks(e)?r=St(e):Q(e)&&(r=St(e,t)),r.dehancer=typeof t=="function"?t:n,function(){r.dehancer=void 0}}function Po(e,t,n){return Me(n)?Zd(e,t,n):Kd(e,t)}function Kd(e,t){return St(e).intercept_(t)}function Zd(e,t,n){return St(e,t).intercept_(n)}function Qu(e,t){if(t===void 0)return en(e);if(Q(e)===!1||!e[P].values_.has(t))return!1;var n=Ot(e,t);return en(n)}function Jd(e){return Qu(e)}function Hd(e,t){return Qu(e,t)}function ec(e,t){return e?t!==void 0?Q(e)?e[P].values_.has(t):!1:Q(e)||!!e[P]||Us(e)||Qr(e)||en(e):!1}function ft(e){return ec(e)}function Xd(e,t){return ec(e,t)}function rn(e){if(Q(e))return e[P].keys_();if(ue(e)||ee(e))return Array.from(e.keys());if(be(e))return e.map(function(t,n){return n});k(5)}function eo(e){if(Q(e))return rn(e).map(function(t){return e[t]});if(ue(e))return rn(e).map(function(t){return e.get(t)});if(ee(e))return Array.from(e.values());if(be(e))return e.slice();k(6)}function tc(e){if(Q(e))return rn(e).map(function(t){return[t,e[t]]});if(ue(e))return rn(e).map(function(t){return[t,e.get(t)]});if(ee(e))return Array.from(e.entries());if(be(e))return e.map(function(t,n){return[n,t]});k(7)}function Tt(e,t,n){if(arguments.length===2&&!ee(e)){Ae();var r=t;try{for(var o in r)Tt(e,o,r[o])}finally{Pe()}return}Q(e)?e[P].set_(t,n):ue(e)?e.set(t,n):ee(e)?e.add(t):be(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&k("Invalid index: '"+t+"'"),Ae(),t>=e.length&&(e.length=t+1),e[t]=n,Pe()):k(8)}function xt(e,t){Q(e)?e[P].delete_(t):ue(e)||ee(e)?e.delete(t):be(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):k(9)}function Xs(e,t){if(Q(e))return e[P].has_(t);if(ue(e))return e.has(t);if(ee(e))return e.has(t);if(be(e))return t>=0&&t<e.length;k(10)}function nc(e,t){if(Xs(e,t)){if(Q(e))return e[P].get_(t);if(ue(e))return e.get(t);if(be(e))return e[t];k(11)}}function Yd(e,t,n){if(Q(e))return e[P].defineProperty_(t,n);k(39)}function rc(e){if(Q(e))return e[P].ownKeys_();k(38)}function Co(e,t,n,r){return Me(n)?eh(e,t,n,r):Qd(e,t,n)}function Qd(e,t,n){return St(e).observe_(t,n)}function eh(e,t,n,r){return St(e,t).observe_(n,r)}function Mr(e,t,n){return e.set(t,n),n}function vn(e,t){if(e==null||typeof e!="object"||e instanceof Date||!ft(e))return e;if(Ks(e)||en(e))return vn(e.get(),t);if(t.has(e))return t.get(e);if(be(e)){var n=Mr(t,e,new Array(e.length));return e.forEach(function(i,a){n[a]=vn(i,t)}),n}if(ee(e)){var r=Mr(t,e,new Set);return e.forEach(function(i){r.add(vn(i,t))}),r}if(ue(e)){var o=Mr(t,e,new Map);return e.forEach(function(i,a){o.set(a,vn(i,t))}),o}else{var s=Mr(t,e,{});return rc(e).forEach(function(i){dr.propertyIsEnumerable.call(e,i)&&(s[i]=vn(e[i],t))}),s}}function to(e,t){return vn(e,new Map)}function th(){}function Ke(e,t){t===void 0&&(t=void 0),Ae();try{return e.apply(t)}finally{Pe()}}function nh(e,t,n){return arguments.length===1||t&&typeof t=="object"?rh(e,t):oc(e,t,n||{})}function oc(e,t,n){var r;if(typeof n.timeout=="number"){var o=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!i[P].isDisposed)if(i(),n.onError)n.onError(o);else throw o},n.timeout)}n.name="When";var s=Lt("When-effect",t),i=Zs(function(a){var u=Ws(!1,e);u&&(a.dispose(),r&&clearTimeout(r),s())},n);return i}function rh(e,t){var n;if(t!=null&&(n=t.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,o,s=new Promise(function(i,a){var u,f=oc(e,i,Nt({},t,{onError:a}));r=function(){f(),a(new Error("WHEN_CANCELLED"))},o=function(){f(),a(new Error("WHEN_ABORTED"))},t==null||(u=t.signal)==null||u.addEventListener==null||u.addEventListener("abort",o)}).finally(function(){var i;return t==null||(i=t.signal)==null||i.removeEventListener==null?void 0:i.removeEventListener("abort",o)});return s.cancel=r,s}function pn(e){return e[P]}var oh={has:function(t,n){return pn(t).has_(n)},get:function(t,n){return pn(t).get_(n)},set:function(t,n,r){var o;return Xt(n)?(o=pn(t).set_(n,r,!0))!=null?o:!0:!1},deleteProperty:function(t,n){var r;return Xt(n)?(r=pn(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return(o=pn(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return pn(t).ownKeys_()},preventExtensions:function(t){k(13)}};function sh(e,t){var n,r;return gu(),e=cn(e,t),(r=(n=e[P]).proxy_)!=null?r:n.proxy_=new Proxy(e,oh)}function Le(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function br(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),vu(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function De(e,t){var n=un();try{for(var r=[].concat(e.interceptors_||[]),o=0,s=r.length;o<s&&(t=r[o](t),t&&!t.type&&k(14),!!t);o++);return t}finally{mt(n)}}function Je(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function _r(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),vu(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function He(e,t){var n=un(),r=e.changeListeners_;if(r){r=r.slice();for(var o=0,s=r.length;o<s;o++)r[o](t);mt(n)}}function sc(e,t,n){return zt(function(){var r,o=cn(e,n)[P];(r=t)!=null||(t=Sl(e)),wn(t).forEach(function(s){return o.make_(s,t[s])})}),e}var Ho=Symbol("mobx-keys");function ih(e,t,n){return wt(e)?Hs(e,e,t,n):(zt(function(){var r=cn(e,n)[P];if(!e[Ho]){var o=Object.getPrototypeOf(e),s=new Set([].concat(wn(e),wn(o)));s.delete("constructor"),s.delete(P),hr(o,Ho,s)}e[Ho].forEach(function(i){return r.make_(i,t&&i in t?t[i]:!0)})}),e)}var Yi="splice",at="update",ah=1e4,uh={get:function(t,n){var r=t[P];return n===P?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):_t(no,n)?no[n]:t[n]},set:function(t,n,r){var o=t[P];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){k(15)}},Ys=(function(){function e(n,r,o,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=s,this.atom_=new Bt(n),this.enhancer_=function(i,a){return r(i,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return br(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),_r(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&k("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var s=new Array(r-o),i=0;i<r-o;i++)s[i]=void 0;this.spliceWithArray_(o,0,s)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&k(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&fc(r+o+1)},t.spliceWithArray_=function(r,o,s){var i=this,a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?o=a-r:o==null?o=0:o=Math.max(0,Math.min(o,a-r)),s===void 0&&(s=hs),Le(this)){var u=De(this,{object:this.proxy_,type:Yi,index:r,removedCount:o,added:s});if(!u)return hs;o=u.removedCount,s=u.added}if(s=s.length===0?s:s.map(function(l){return i.enhancer_(l,void 0)}),this.legacyMode_){var f=s.length-o;this.updateArrayLength_(a,f)}var c=this.spliceItemsIntoValues_(r,o,s);return(o!==0||s.length!==0)&&this.notifyArraySplice_(r,s,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function(r,o,s){if(s.length<ah){var i;return(i=this.values_).splice.apply(i,[r,o].concat(s))}else{var a=this.values_.slice(r,r+o),u=this.values_.slice(r+o);this.values_.length+=s.length-o;for(var f=0;f<s.length;f++)this.values_[r+f]=s[f];for(var c=0;c<u.length;c++)this.values_[r+s.length+c]=u[c];return a}},t.notifyArrayChildUpdate_=function(r,o,s){var i=!this.owned_&&er(),a=Je(this),u=a||i?{observableKind:"array",object:this.proxy_,type:at,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:s}:null;this.atom_.reportChanged(),a&&He(this,u)},t.notifyArraySplice_=function(r,o,s){var i=!this.owned_&&er(),a=Je(this),u=a||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Yi,index:r,removed:s,added:o,removedCount:s.length,addedCount:o.length}:null;this.atom_.reportChanged(),a&&He(this,u)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var s=this.values_;if(this.legacyMode_&&r>s.length&&k(17,r,s.length),r<s.length){var i=s[r];if(Le(this)){var a=De(this,{type:at,object:this.proxy_,index:r,newValue:o});if(!a)return;o=a.newValue}o=this.enhancer_(o,i);var u=o!==i;u&&(s[r]=o,this.notifyArrayChildUpdate_(r,o,i))}else{for(var f=new Array(r+1-s.length),c=0;c<f.length-1;c++)f[c]=void 0;f[f.length-1]=o,this.spliceWithArray_(s.length,0,f)}},e})();function ch(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),gu(),zt(function(){var o=new Ys(n,t,r,!1);_u(o.values_,P,o);var s=new Proxy(o.values_,uh);return o.proxy_=s,e&&e.length&&o.spliceWithArray_(0,0,e),s})}var no={clear:function(){return this.splice(0)},replace:function(t){var n=this[P];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var i=this[P];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,n)}return i.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[P].spliceWithArray_(t,n,r)},push:function(){for(var t=this[P],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[P].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[P],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return w.trackingDerivation&&k(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){w.trackingDerivation&&k(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[P],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};q("at",Ie);q("concat",Ie);q("flat",Ie);q("includes",Ie);q("indexOf",Ie);q("join",Ie);q("lastIndexOf",Ie);q("slice",Ie);q("toString",Ie);q("toLocaleString",Ie);q("toSorted",Ie);q("toSpliced",Ie);q("with",Ie);q("every",tt);q("filter",tt);q("find",tt);q("findIndex",tt);q("findLast",tt);q("findLastIndex",tt);q("flatMap",tt);q("forEach",tt);q("map",tt);q("some",tt);q("toReversed",tt);q("reduce",ic);q("reduceRight",ic);function q(e,t){typeof Array.prototype[e]=="function"&&(no[e]=t(e))}function Ie(e){return function(){var t=this[P];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function tt(e){return function(t,n){var r=this,o=this[P];o.atom_.reportObserved();var s=o.dehanceValues_(o.values_);return s[e](function(i,a){return t.call(n,i,a,r)})}}function ic(e){return function(){var t=this,n=this[P];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(s,i,a){return o(s,i,a,t)},r[e].apply(r,arguments)}}var fh=Vt("ObservableArrayAdministration",Ys);function be(e){return _o(e)&&fh(e[P])}var lh={},Mt="add",ro="delete",Qs=(function(){function e(n,r,o){var s=this;r===void 0&&(r=Qt),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[P]=lh,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,Me(Map)||k(18),zt(function(){s.keysAtom_=Rt("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!w.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var i=s=new $t(this.has_(r),mo,"ObservableMap.key?",!1);this.hasMap_.set(r,i),Js(i,function(){return o.hasMap_.delete(r)})}return s.get()},t.set=function(r,o){var s=this.has_(r);if(Le(this)){var i=De(this,{type:s?at:Mt,object:this,newValue:o,name:r});if(!i)return this;o=i.newValue}return s?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(Le(this)){var s=De(this,{type:ro,object:this,name:r});if(!s)return!1}if(this.has_(r)){var i=er(),a=Je(this),u=a||i?{observableKind:"map",debugObjectName:this.name_,type:ro,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Ke(function(){var f;o.keysAtom_.reportChanged(),(f=o.hasMap_.get(r))==null||f.setNewValue_(!1);var c=o.data_.get(r);c.setNewValue_(void 0),o.data_.delete(r)}),a&&He(this,u),!0}return!1},t.updateValue_=function(r,o){var s=this.data_.get(r);if(o=s.prepareNewValue_(o),o!==w.UNCHANGED){var i=er(),a=Je(this),u=a||i?{observableKind:"map",debugObjectName:this.name_,type:at,object:this,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),a&&He(this,u)}},t.addValue_=function(r,o){var s=this;Ke(function(){var f,c=new $t(o,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,c),o=c.value_,(f=s.hasMap_.get(r))==null||f.setNewValue_(!0),s.keysAtom_.reportChanged()});var i=er(),a=Je(this),u=a||i?{observableKind:"map",debugObjectName:this.name_,type:Mt,object:this,name:r,newValue:o}:null;a&&He(this,u)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return Qi({next:function(){var i=o.next(),a=i.done,u=i.value;return{done:a,value:a?void 0:r.get(u)}}})},t.entries=function(){var r=this,o=this.keys();return Qi({next:function(){var i=o.next(),a=i.done,u=i.value;return{done:a,value:a?void 0:[u,r.get(u)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,o){for(var s=_n(this),i;!(i=s()).done;){var a=i.value,u=a[0],f=a[1];r.call(o,f,u,this)}},t.merge=function(r){var o=this;return ue(r)&&(r=new Map(r)),Ke(function(){wt(r)?_l(r).forEach(function(s){return o.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var i=s[0],a=s[1];return o.set(i,a)}):En(r)?(bl(r)||k(19,r),r.forEach(function(s,i){return o.set(i,s)})):r!=null&&k(20,r)}),this},t.clear=function(){var r=this;Ke(function(){Oo(function(){for(var o=_n(r.keys()),s;!(s=o()).done;){var i=s.value;r.delete(i)}})})},t.replace=function(r){var o=this;return Ke(function(){for(var s=dh(r),i=new Map,a=!1,u=_n(o.data_.keys()),f;!(f=u()).done;){var c=f.value;if(!s.has(c)){var l=o.delete(c);if(l)a=!0;else{var d=o.data_.get(c);i.set(c,d)}}}for(var p=_n(s.entries()),h;!(h=p()).done;){var _=h.value,x=_[0],O=_[1],b=o.data_.has(x);if(o.set(x,O),o.data_.has(x)){var v=o.data_.get(x);i.set(x,v),b||(a=!0)}}if(!a)if(o.data_.size!==i.size)o.keysAtom_.reportChanged();else for(var y=o.data_.keys(),S=i.keys(),C=y.next(),I=S.next();!C.done;){if(C.value!==I.value){o.keysAtom_.reportChanged();break}C=y.next(),I=S.next()}o.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return _r(this,r)},t.intercept_=function(r){return br(this,r)},Mn(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),ue=Vt("ObservableMap",Qs);function Qi(e){return e[Symbol.toStringTag]="MapIterator",ri(e)}function dh(e){if(En(e)||ue(e))return e;if(Array.isArray(e))return new Map(e);if(wt(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return k(21,e)}var hh={},ei=(function(){function e(n,r,o){var s=this;r===void 0&&(r=Qt),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[P]=hh,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,Me(Set)||k(22),this.enhancer_=function(i,a){return r(i,a,o)},zt(function(){s.atom_=Rt(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Ke(function(){Oo(function(){for(var o=_n(r.data_.values()),s;!(s=o()).done;){var i=s.value;r.delete(i)}})})},t.forEach=function(r,o){for(var s=_n(this),i;!(i=s()).done;){var a=i.value;r.call(o,a,a,this)}},t.add=function(r){var o=this;if(Le(this)){var s=De(this,{type:Mt,object:this,newValue:r});if(!s)return this;r=s.newValue}if(!this.has(r)){Ke(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var i=!1,a=Je(this),u=a||i?{observableKind:"set",debugObjectName:this.name_,type:Mt,object:this,newValue:r}:null;a&&He(this,u)}return this},t.delete=function(r){var o=this;if(Le(this)){var s=De(this,{type:ro,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var i=!1,a=Je(this),u=a||i?{observableKind:"set",debugObjectName:this.name_,type:ro,object:this,oldValue:r}:null;return Ke(function(){o.atom_.reportChanged(),o.data_.delete(r)}),a&&He(this,u),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return ea({next:function(){var s=r.next(),i=s.value,a=s.done;return a?{value:void 0,done:a}:{value:[i,i],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=this.data_.values();return ea({next:function(){var i=o.next(),a=i.value,u=i.done;return u?{value:void 0,done:u}:{value:r.dehanceValue_(a),done:u}}})},t.intersection=function(r){if(ht(r)&&!ee(r))return r.intersection(this);var o=new Set(this);return o.intersection(r)},t.union=function(r){if(ht(r)&&!ee(r))return r.union(this);var o=new Set(this);return o.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(ht(r)&&!ee(r))return r.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(ht(r)&&!ee(r))return r.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(r)},t.replace=function(r){var o=this;return ee(r)&&(r=new Set(r)),Ke(function(){Array.isArray(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):ht(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):r!=null&&k("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return _r(this,r)},t.intercept_=function(r){return br(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Mn(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),ee=Vt("ObservableSet",ei);function ea(e){return e[Symbol.toStringTag]="SetIterator",ri(e)}var ta=Object.create(null),na="remove",ac=(function(){function e(n,r,o,s){r===void 0&&(r=new Map),s===void 0&&(s=Jl),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=s,this.keysAtom_=new Bt("ObservableObject.keys"),this.isPlainObject_=wt(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var s=this.values_.get(r);if(s instanceof Xe)return s.set(o),!0;if(Le(this)){var i=De(this,{type:at,object:this.proxy_||this.target_,name:r,newValue:o});if(!i)return null;o=i.newValue}if(o=s.prepareNewValue_(o),o!==w.UNCHANGED){var a=Je(this),u=!1,f=a||u?{type:at,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),a&&He(this,f)}return!0},t.get_=function(r){return w.trackingDerivation&&!_t(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,s){return s===void 0&&(s=!1),_t(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):s?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!w.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new $t(r in this.target_,mo,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var s;if((s=this.target_[st])!=null&&s[r])return;k(1,o.annotationType_,this.name_+"."+r.toString())}for(var i=this.target_;i&&i!==dr;){var a=Jr(i,r);if(a){var u=o.make_(this,r,a,i);if(u===0)return;if(u===1)break}i=Object.getPrototypeOf(i)}oa(this,o,r)}},t.extend_=function(r,o,s,i){if(i===void 0&&(i=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,o,i);var a=s.extend_(this,r,o,i);return a&&oa(this,s,r),a},t.defineProperty_=function(r,o,s){s===void 0&&(s=!1);try{Ae();var i=this.delete_(r);if(!i)return i;if(Le(this)){var a=De(this,{object:this.proxy_||this.target_,name:r,type:Mt,newValue:o.value});if(!a)return null;var u=a.newValue;o.value!==u&&(o=Nt({},o,{value:u}))}if(s){if(!Reflect.defineProperty(this.target_,r,o))return!1}else it(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{Pe()}return!0},t.defineObservableProperty_=function(r,o,s,i){i===void 0&&(i=!1);try{Ae();var a=this.delete_(r);if(!a)return a;if(Le(this)){var u=De(this,{object:this.proxy_||this.target_,name:r,type:Mt,newValue:o});if(!u)return null;o=u.newValue}var f=ra(r),c={configurable:w.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:f.get,set:f.set};if(i){if(!Reflect.defineProperty(this.target_,r,c))return!1}else it(this.target_,r,c);var l=new $t(o,s,"ObservableObject.key",!1);this.values_.set(r,l),this.notifyPropertyAddition_(r,l.value_)}finally{Pe()}return!0},t.defineComputedProperty_=function(r,o,s){s===void 0&&(s=!1);try{Ae();var i=this.delete_(r);if(!i)return i;if(Le(this)){var a=De(this,{object:this.proxy_||this.target_,name:r,type:Mt,newValue:void 0});if(!a)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var u=ra(r),f={configurable:w.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,r,f))return!1}else it(this.target_,r,f);this.values_.set(r,new Xe(o)),this.notifyPropertyAddition_(r,void 0)}finally{Pe()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),!_t(this.target_,r))return!0;if(Le(this)){var s=De(this,{object:this.proxy_||this.target_,name:r,type:na});if(!s)return null}try{var i;Ae();var a=Je(this),u=!1,f=this.values_.get(r),c=void 0;if(!f&&(a||u)){var l;c=(l=Jr(this.target_,r))==null?void 0:l.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(f&&(this.values_.delete(r),f instanceof $t&&(c=f.value_),Bu(f)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(r in this.target_),a||u){var d={type:na,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:c,name:r};a&&He(this,d)}}finally{Pe()}return!0},t.observe_=function(r,o){return _r(this,r)},t.intercept_=function(r){return br(this,r)},t.notifyPropertyAddition_=function(r,o){var s,i=Je(this),a=!1;if(i||a){var u=i||a?{type:Mt,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;i&&He(this,u)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),wn(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function cn(e,t){var n;if(_t(e,P))return e;var r=(n=t?.name)!=null?n:"ObservableObject",o=new ac(e,new Map,String(r),id(t));return hr(e,P,o),e}var ph=Vt("ObservableObjectAdministration",ac);function ra(e){return ta[e]||(ta[e]={get:function(){return this[P].getObservablePropValue_(e)},set:function(n){return this[P].setObservablePropValue_(e,n)}})}function Q(e){return _o(e)?ph(e[P]):!1}function oa(e,t,n){var r;(r=e.target_[st])==null||delete r[n]}var gh=cc(0),Xo=0,uc=function(){};function vh(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}vh(uc,Array.prototype);var ti=(function(e){function t(r,o,s,i){var a;return s===void 0&&(s="ObservableArray"),i===void 0&&(i=!1),a=e.call(this)||this,zt(function(){var u=new Ys(s,o,i,!0);u.proxy_=a,_u(a,P,u),r&&r.length&&a.spliceWithArray(0,0,r),Object.defineProperty(a,"0",gh)}),a}wu(t,e);var n=t.prototype;return n.concat=function(){this[P].atom_.reportObserved();for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return be(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,o=0;return ri({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},Mn(t,[{key:"length",get:function(){return this[P].getArrayLength_()},set:function(o){this[P].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(uc);Object.entries(no).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&hr(ti.prototype,t,n)});function cc(e){return{enumerable:!1,configurable:!0,get:function(){return this[P].get_(e)},set:function(n){this[P].set_(e,n)}}}function bh(e){it(ti.prototype,""+e,cc(e))}function fc(e){if(e>Xo){for(var t=Xo;t<e+100;t++)bh(t);Xo=e}}fc(1e3);function _h(e,t,n){return new ti(e,t,n)}function Ot(e,t){if(typeof e=="object"&&e!==null){if(be(e))return t!==void 0&&k(23),e[P].atom_;if(ee(e))return e.atom_;if(ue(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||k(25,t,oo(e)),n}if(Q(e)){if(!t)return k(26);var r=e[P].values_.get(t);return r||k(27,t,oo(e)),r}if(Us(e)||en(e)||Qr(e))return e}else if(Me(e)&&Qr(e[P]))return e[P];k(28)}function St(e,t){if(e||k(29),t!==void 0)return St(Ot(e,t));if(Us(e)||en(e)||Qr(e)||ue(e)||ee(e))return e;if(e[P])return e[P];k(24,e)}function oo(e,t){var n;if(t!==void 0)n=Ot(e,t);else{if(tn(e))return e.name;Q(e)||ue(e)||ee(e)?n=St(e):n=Ot(e)}return n.name_}function zt(e){var t=un(),n=wo(!0);Ae();try{return e()}finally{Pe(),xo(n),mt(t)}}var sa=dr.toString;function ni(e,t,n){return n===void 0&&(n=-1),Os(e,t,n)}function Os(e,t,n,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var i=sa.call(e);if(i!==sa.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=ia(e),t=ia(t);var a=i==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var u=e.constructor,f=t.constructor;if(u!==f&&!(Me(u)&&u instanceof u&&Me(f)&&f instanceof f)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var c=r.length;c--;)if(r[c]===e)return o[c]===t;if(r.push(e),o.push(t),a){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!Os(e[c],t[c],n-1,r,o))return!1}else{var l=Object.keys(e),d=l.length;if(Object.keys(t).length!==d)return!1;for(var p=0;p<d;p++){var h=l[p];if(!(_t(t,h)&&Os(e[h],t[h],n-1,r,o)))return!1}}return r.pop(),o.pop(),!0}function ia(e){return be(e)?e.slice():En(e)||ue(e)||ht(e)||ee(e)?Array.from(e.entries()):e}var aa,mh=((aa=bo().Iterator)==null?void 0:aa.prototype)||{};function ri(e){return e[Symbol.iterator]=yh,Object.assign(Object.create(mh),e)}function yh(){return this}["Symbol","Map","Set"].forEach(function(e){var t=bo();typeof t[e]>"u"&&k("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Fu,extras:{getDebugName:oo},$mobx:P});const wh=Object.freeze(Object.defineProperty({__proto__:null,$mobx:P,FlowCancellationError:Ao,ObservableMap:Qs,ObservableSet:ei,Reaction:ct,_allowStateChanges:Ws,_allowStateChangesInsideComputed:xs,_allowStateReadsEnd:mn,_allowStateReadsStart:So,_autoAction:xn,_endAction:Mu,_getAdministration:St,_getGlobalState:bd,_interceptReads:Wd,_isComputingDerivation:hd,_resetGlobalState:_d,_startAction:Eu,action:T,autorun:Zs,comparer:Yt,computed:te,configure:Dd,createAtom:Rt,defineProperty:Yd,entries:tc,extendObservable:Hs,flow:nn,flowResult:qd,get:nc,getAtom:Ot,getDebugName:oo,getDependencyTree:Vd,getObserverTree:Bd,has:Xs,intercept:Po,isAction:tn,isBoxedObservable:Ks,isComputed:Jd,isComputedProp:Hd,isFlow:On,isFlowCancellationError:Gd,isObservable:ft,isObservableArray:be,isObservableMap:ue,isObservableObject:Q,isObservableProp:Xd,isObservableSet:ee,keys:rn,makeAutoObservable:ih,makeObservable:sc,observable:F,observe:Co,onBecomeObserved:Ju,onBecomeUnobserved:Js,onReactionError:Sd,override:kl,ownKeys:rc,reaction:Zu,remove:xt,runInAction:xs,set:Tt,spy:Fu,toJS:to,trace:th,transaction:Ke,untracked:Oo,values:eo,when:nh},Symbol.toStringTag,{value:"Module"}));var xh=Object.defineProperty,Oh=(e,t,n)=>t in e?xh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t,n)=>Oh(e,typeof t!="symbol"?t+"":t,n),lc,ua,ca,fa,la,da,ha,pa,ga,va;const Sh=new Map;function Ah(e,t,n){Sh.set(e,{modelClass:t,fnName:n})}var mr=(e=>(e.ApplyPatches="$$applyPatches",e.ApplySnapshot="$$applySnapshot",e.Detach="$$detach",e.ApplySet="$$applySet",e.ApplyDelete="$$applyDelete",e.ApplyMethodCall="$$applyMethodCall",e))(mr||{});new Set(Object.values(mr));var Ft=(e=>(e.Sync="sync",e.Async="async",e))(Ft||{});let dc;function Ro(){return dc}function ba(e){dc=e}const hc=Symbol("modelAction");function oi(e){return typeof e=="function"&&hc in e}const G="$modelType",ke="$modelId";function pc(e){return e===G}class si extends Error{constructor(t){super(t),Object.setPrototypeOf(this,si.prototype)}}function m(e){return new si(e)}const Ph={enumerable:!1,writable:!0,configurable:!1,value:void 0};function gc(e,t,n,r=!0){r?(Object.defineProperty(e,t,Ph),e[t]=n):Object.defineProperty(e,t,{enumerable:!1,writable:r,configurable:!0,value:n})}function ut(e){if(!ze(e))return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function ze(e){return e!==null&&typeof e=="object"}function ce(e){switch(typeof e){case"number":case"string":case"boolean":case"undefined":case"bigint":return!0;default:return e===null}}function To(e){return e instanceof Map||ue(e)}function jo(e){return e instanceof Set||ee(e)}function xe(e){return Array.isArray(e)||be(e)}const vc=!1;function $n(e,t){if(!ze(e))throw m(`${t} must be an object`)}function bc(e,t){if(typeof e!="function")throw m(`${t} must be a function`)}function Ch(e,t){if(!ce(e))throw m(`${t} must be a primitive`)}const _c=Symbol("runAfterNew"),Rh=Symbol("runBeforeOnInit");function mc(e,t,n){let r=e[t];r&&Object.prototype.hasOwnProperty.call(e,t)||(r=r?r.slice():[],gc(e,t,r)),r.push(n)}function so(e,t){const n=e[t];if(n)for(const r of n)r(e)}const _a=new Set;function yc(e,t,n){if(n){if(_a.has(n))return;_a.add(n)}switch(t="[mobx-keystone] "+t,e){case"warn":console.warn(t);break;case"error":console.error(t);break;default:throw m(`unknown log type - ${e}`)}}function jt(e){let t,n=!1;return(...r)=>(n||(t=e(...r),n=!0),t)}const Ye=e=>e,io={makeObservable:wh.makeObservable};function Th(e){return`set${e[0].toUpperCase()}${e.slice(1)}`}function wc(){return io.makeObservable?6:5}const yr="mobx-keystone",ao=Symbol("propsType"),ma=Symbol("fromSnapshotOverrideType"),ya=Symbol("toSnapshotOverrideType"),ii=Symbol("modelInitialized"),Fr={},Ee=new WeakMap;function wr(e){return Fr[e]}function Qe(e,t,n){let r=e.get(t);return r===void 0&&(r=n(),e.set(t,r)),r}const Ss=new WeakMap,xc=new WeakMap;function jh(e,t){return e||t?e&&t?e.parent===t.parent&&e.path===t.path:!1:!0}function kh(){return Rt("parentAtom")}function Eh(e){Qe(xc,e,kh).reportObserved()}function wa(e){var t;(t=xc.get(e))==null||t.reportChanged()}const In=new WeakMap;function Sn(e){const t=In.get(e);return t??e}function or(e){return ge(e)?e.$:e}const on=new WeakMap;function At(e,t){return!t&&In.has(e)?!1:on.has(e)}function As(e){return!ce(e)&&At(e,!1)}function le(e,t,n=!1){if(!n&&In.has(e))throw m(`${t} must be the model object instance instead of the '$' sub-object`);if(ce(e)||!At(e,!0))throw m(`${t} must be a tree node (usually a model or a shallow / deep child part of a model 'data' object)`)}function Mh(e,t="argument"){le(e,t,!1)}let tr=!1;function $h(e){const t=tr;tr=!0;try{xs(()=>{e()})}finally{tr=t}}const sr=Symbol("modelMetadata"),Yo=Symbol("modelUnwrappedClass"),Ps=Symbol("runAfterModelDecorator"),Oc=Symbol("modelProperties");function xr(e){return e[Oc]}function Ih(e,t){e[Oc]=t}const ie=Symbol("noDefaultValue"),ai={_setter:!1,_isId:!0,withSetter(e){const t=Object.create(this);return t._setter=e??!0,t},typedAs(){return ai}},xa={_defaultFn:ie,_defaultValue:ie,_typeChecker:void 0,_setter:!1,_isId:!1,_transform:void 0,_fromSnapshotProcessor:void 0,_toSnapshotProcessor:void 0,withSetter(e){const t=Object.create(this);return t._setter=e??!0,t},withTransform(e){const t=Object.create(this);return t._transform=Lh(e),t},withSnapshotProcessor({fromSnapshot:e,toSnapshot:t}){let n;if(this._fromSnapshotProcessor&&e){const s=this._fromSnapshotProcessor,i=e;n=a=>s(i(a))}else e?n=e:n=this._fromSnapshotProcessor;let r;if(this._toSnapshotProcessor&&t){const s=this._toSnapshotProcessor,i=t;r=a=>i(s(a))}else t?r=t:r=this._toSnapshotProcessor;const o=Object.create(this);return o._fromSnapshotProcessor=n,o._toSnapshotProcessor=r,o}};function Cs(e){if(!(arguments.length>0))return xa;let n=Oa.get(e);return n||(n=Object.create(xa),typeof e=="function"?n._defaultFn=e:n._defaultValue=e,Oa.set(e,n)),n}const Oa=new Map;let Rs=!1;const Nh=()=>{Rs=!0};function Lh(e){const t=new WeakMap,n=o=>o.originalValue==null?o.originalValue:e.transform(o),r=o=>o.transformedValue==null?o.transformedValue:e.untransform(o);return{transform(o,s,i,a){const u=Qe(t,s,()=>new Map);let f=u.get(i);f?.originalValue!==o&&(u.delete(i),f=void 0);const c=n({originalValue:o,cachedTransformedValue:f?.transformedValue,setOriginalValue:a});return u.set(i,{originalValue:o,transformedValue:c}),c},untransform(o,s,i){const a=Qe(t,s,()=>new Map);Rs=!1;const u=r({transformedValue:o,cacheTransformedValue:Nh});return Rs?a.set(i,{originalValue:u,transformedValue:o}):a.delete(i),u}}}function ir(e){return e._defaultFn!==ie?e._defaultFn():e._defaultValue!==ie?e._defaultValue:ie}let Dh="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Vh=(e=21)=>{let t="",n=e|0;for(;n--;)t+=Dh[Math.random()*64|0];return t},Sa=0;const Bh=Vh();function zh(){const e=Sa.toString(36)+"-"+Bh;return Sa++,e}let uo={modelAutoTypeChecking:"devModeOnly",modelIdGenerator:zh,allowUndefinedArrayElements:!1,showDuplicateModelNameWarnings:!0};function wb(e){uo=Object.freeze({...uo,...e})}function ko(){return uo}function Or(){switch(ko().modelAutoTypeChecking){case"devModeOnly":return vc;case"alwaysOff":return!1;case"alwaysOn":return!0;default:throw m(`invalid 'modelAutoTypeChecking' config value - ${uo.modelAutoTypeChecking}`)}}const Aa=new WeakMap;function Nn(e){let t=Aa.get(e);return t||(t={shallow:new Set,shallowAtom:void 0,deep:new Set,deepDirty:!0,deepAtom:void 0,extensionsData:Cc()},Aa.set(e,t)),t}function Eo(e){const t=Nn(e);return t.shallowAtom||(t.shallowAtom=Rt("shallowChildrenAtom")),t.shallowAtom.reportObserved(),t.shallow}function Fh(e){const t=Nn(e);return t.deepDirty&&Sc(e),t.deepAtom||(t.deepAtom=Rt("deepChildrenAtom")),t.deepAtom.reportObserved(),t}function Pa(e,t){t.deep.add(e),ui.forEach((n,r)=>{n.addNode(e,t.extensionsData.get(r))})}const Sc=T(e=>{var t;const n=Nn(e);if(!n.deepDirty)return n;n.deep=new Set,n.extensionsData=Cc();const r=n.shallow.values();let o=r.next();for(;!o.done;){Pa(o.value,n);const i=Sc(o.value).deep.values();let a=i.next();for(;!a.done;)Pa(a.value,n),a=i.next();o=r.next()}return n.deepDirty=!1,(t=n.deepAtom)==null||t.reportChanged(),n}),Gh=T((e,t)=>{var n;const r=Nn(e);r.shallow.add(t),(n=r.shallowAtom)==null||n.reportChanged(),Ac(e,r)}),Uh=T((e,t)=>{var n;const r=Nn(e);r.shallow.delete(t),(n=r.shallowAtom)==null||n.reportChanged(),Ac(e,r)});function Ac(e,t){var n;let r=e,o=t;for(;r;)o.deepDirty=!0,(n=o.deepAtom)==null||n.reportChanged(),r=ar(r,!1),r&&(o=Nn(r))}const ui=new Map;function Pc(e){const t={};return ui.set(t,e),n=>n.extensionsData.get(t)}function Cc(){const e=new WeakMap;return ui.forEach((t,n)=>{e.set(n,t.initData())}),e}function qh(){return!!Ro()}function Rc(){if(!qh())throw m("data changes must be performed inside model actions")}const Ts=[];function Tc(){return!!Ro()}function Wh(e){Tc()?Ts.push(e):e()}let Qo=!1;function Kh(){if(!(Tc()||Qo)){Qo=!0;try{for(;Ts.length>0;)Ts.shift()()}finally{Qo=!1}}}function sn(e){if(ge(e))return e.constructor[sr];if(Pr(e))return e[sr];throw m("modelClassOrInstance must be a model class or instance")}const Zh=new WeakMap;function an(e){return Qe(Zh,e,()=>sn(e).modelIdProperty)}var An=(e=>(e.OnInit="$$onInit",e.OnLazyInit="$$onLazyInit",e.OnAttachedToRootStore="$$onAttachedToRootStore",e.OnAttachedToRootStoreDisposer="$$onAttachedToRootStoreDisposer",e))(An||{});new Set(Object.values(An));var ci=(e=>(e.ParentFirst="parentFirst",e.ChildrenFirst="childrenFirst",e))(ci||{});function jc(e,t,n){return le(e,"root"),n==="parentFirst"?Jh(e,t):kc(e,t)}function Jh(e,t){const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);if(o!==void 0)return o;const s=Eo(r);n.length+=s.size;let i=n.length-1;const a=s.values();let u=a.next();for(;!u.done;)n[i--]=u.value,u=a.next()}}function kc(e,t){const n=Eo(e).values();let r=n.next();for(;!r.done;){const s=kc(r.value,t);if(s!==void 0)return s;r=n.next()}const o=t(e);if(o!==void 0)return o}function Ec(e,t,n){let r=e.get(n);return r||(r=te(()=>Xh(n,t,o=>Ec(e,t,o))),e.set(n,r)),r.get()}function Hh(e){const t=new WeakMap;return{walk:n=>Ec(t,e,n)}}function Xh(e,t,n){let r;const o=t(e),s=Eo(e),i=s.values();let a=i.next();if(o===void 0&&s.size===1)return n(a.value);for(;!a.done;){const u=n(a.value);if(u){r||(r=new Map);const f=u.keys();let c=f.next();for(;!c.done;){const l=c.value,d=u.get(l);r.set(l,d),c=f.next()}}a=i.next()}return o!==void 0&&(r||(r=new Map),r.set(o,e)),r}const js=new WeakMap,ks=new WeakSet,Mc=T("attachToRootStore",(e,t)=>{const n=[];jc(t,o=>{ks.has(o)||(ks.add(o),o instanceof Cn&&o.onAttachedToRootStore&&(Ls(o,"onAttachedToRootStore",An.OnAttachedToRootStore),n.push(o)))},ci.ParentFirst);const r=n.length;for(let o=0;o<r;o++){const s=n[o],i=s.onAttachedToRootStore(e);i&&js.set(s,i)}}),$c=T("detachFromRootStore",e=>{const t=[];jc(e,r=>{if(!ks.delete(r))return;const o=js.get(r);if(o){const s=dn({nameOrNameFn:An.OnAttachedToRootStoreDisposer,fn:o,actionType:Ft.Sync}).bind(r);js.delete(r),t.push(s)}},ci.ChildrenFirst);const n=t.length;for(let r=0;r<n;r++)t[r]()}),Ic=new WeakMap;function Yh(){return{atom:void 0,is:!1}}const fi=e=>Qe(Ic,e,Yh),xb=T("registerRootStore",e=>{var t;le(e,"node");const n=fi(e);if(n.is)throw m("object already registered as root store");if(!k0(e))throw m("a root store must not have a parent");return n.is=!0,Mc(e,e),(t=n.atom)==null||t.reportChanged(),e}),Ob=T("unregisterRootStore",e=>{var t;if(!Qh(e))throw m("not a root store");const n=fi(e);n.is=!1,$c(e),(t=n.atom)==null||t.reportChanged()});function Qh(e){le(e,"node");const t=fi(e);return t.atom||(t.atom=Rt("rootStore")),t.atom.reportObserved(),t.is}function es(e){var t;return!!((t=Ic.get(e))!=null&&t.is)}class Fe{constructor(t,n,r,o){E(this,"message"),this.path=t,this.expectedTypeName=n,this.actualValue=r,this.typeCheckedValue=o;let s=[];this.typeCheckedValue&&At(this.typeCheckedValue,!0)&&(s=j0(this.typeCheckedValue,!1).path);const i=At(this.actualValue,!0)?we(this.actualValue):this.actualValue;this.message=`TypeCheckError: [/${[...s,...this.path].join("/")}] Expected a value of type <${this.expectedTypeName}> but got the value <${JSON.stringify(i)}> instead`}throw(){throw m(this.message)}}const ep=[],Es=new WeakMap;var $e=(e=>(e.Object="object",e.Array="array",e.Primitive="primitive",e.Any="any",e))($e||{});function tp(e){return xe(e)?"array":ze(e)?"object":ce(e)?"primitive":"any"}function np(e){let t=e;for(;t;){const n=Es.get(t);n&&(Es.delete(t),n.forEach(r=>{r.invalidateCachedResult(t)})),t=T0(t,!1)}}const Ms=new WeakMap;function rp(e){const t=Ms.get(e);t&&(t.forEach(n=>{n.invalidateSnapshotProcessorCachedResult(e)}),Ms.delete(e))}class Oe{constructor(t,n,r,o,s,i,a){E(this,"checkResultCache"),E(this,"unchecked"),E(this,"_cachedTypeInfoGen"),E(this,"fromSnapshotProcessor",u=>this._fromSnapshotProcessor(u)),E(this,"_toSnapshotProcessorCache",new WeakMap),E(this,"toSnapshotProcessor",u=>{if(typeof u!="object"||u===null)return this._toSnapshotProcessor(u);if(this._toSnapshotProcessorCache.has(u))return this._toSnapshotProcessorCache.get(u);const f=this._toSnapshotProcessor(u);return this._toSnapshotProcessorCache.set(u,f),Qe(Ms,u,()=>new Set).add(this),f}),this.baseType=t,this._check=n,this.getTypeName=r,this.typeInfoGen=o,this.snapshotType=s,this._fromSnapshotProcessor=i,this._toSnapshotProcessor=a,this.unchecked=!n,this._cachedTypeInfoGen=jt(o)}createCacheIfNeeded(){return this.checkResultCache||(this.checkResultCache=new WeakMap),this.checkResultCache}setCachedResult(t,n){this.createCacheIfNeeded().set(t,n),Qe(Es,t,()=>new Set).add(this)}invalidateCachedResult(t){var n;(n=this.checkResultCache)==null||n.delete(t)}getCachedResult(t){var n;return(n=this.checkResultCache)==null?void 0:n.get(t)}check(t,n,r){if(this.unchecked)return null;if(!At(t,!0))return this._check(t,n,r);let o=this.getCachedResult(t);return o===void 0&&(o=this._check(t,ep,void 0),this.setCachedResult(t,o)),o?new Fe([...n,...o.path],o.expectedTypeName,o.actualValue,r):null}get typeInfo(){return this._cachedTypeInfoGen(this)}invalidateSnapshotProcessorCachedResult(t){this._toSnapshotProcessorCache.delete(t)}}const Nc=Symbol("lateTypeCheker");function Pt(e,t){let n;const r=()=>n||(n=e(),n);r[Nc]=!0;const o=jt(t);return Object.defineProperty(r,"typeInfo",{enumerable:!0,configurable:!1,get(){return o(r)}}),r}function li(e){return typeof e=="function"&&Nc in e}class Ge{constructor(t){this.thisType=t}}const di=new WeakMap,Jt=new WeakMap;function Ue(e){return di.get(e)}function op(e,t){if(!(t&&e))return;const n=Ue(t.parent);if(n)return{parentSnapshot:n,parentPath:t}}const sp=T("unsetInternalSnapshot",e=>{var t;const n=Ue(e);n&&(di.delete(e),(t=n.atom)==null||t.reportChanged())}),hi=T("setNewInternalSnapshot",(e,t,n,r=!1)=>{var o;const s=n?n(t):t,i={untransformed:t,transformFn:n,transformed:s,atom:void 0};Jt.set(t,r),s!==void 0&&s!==t&&Jt.set(s,r),di.set(e,i),(o=i.atom)==null||o.reportChanged()}),pi=T("updateInternalSnapshot",(e,t)=>{var n;const r=Ue(e);let o=r.untransformed;Jt.get(o)?Array.isArray(o)?o=o.slice():o=Object.assign({},o):rp(o),t(o),r.untransformed=o,r.transformed=r.transformFn?r.transformFn(o):o,Jt.set(r.untransformed,!1),r.transformed!==void 0&&Jt.set(r.transformed,!1),(n=r.atom)==null||n.reportChanged();const i=op(r,lt(e,!1));if(i){const{parentSnapshot:a,parentPath:u}=i;if(a){const f=u.path;pi(u.parent,c=>{c[f]=r.transformed})}}});function ip(e){e.atom||(e.atom=Rt("snapshot")),e.atom.reportObserved()}function Ce(e){if(ce(e))return e;const t=Jt.get(e);if(t===void 0||t)return e;if(Array.isArray(e))for(let n=0;n<e.length;n++)Ce(e[n]);else{const n=Object.keys(e);for(let r=0;r<n.length;r++)Ce(e[n[r]])}return Jt.set(e,!0),e}const $r=[];class Lc{constructor(){E(this,"patches",$r),E(this,"invPatches",$r)}reset(){this.patches=$r,this.invPatches=$r}record(t,n){this.patches=t,this.invPatches=n}emit(t){Dc(t,this.patches,this.invPatches),this.reset()}}function Dc(e,t,n){(t.length>0||n.length>0)&&(up(e,t,n),cp(e,t,n))}const ap=new WeakMap,Ca=[];function up(e,t,n){for(let r=0;r<Ca.length;r++){const o=Ca[r];o(e,t,n)}}function Ra(e,t,n,r){const o=ap.get(e);if(!o||o.length===0)return;const s=u=>r.length>0?u.map(f=>fp(f,r)):u,i=s(t),a=s(n);for(let u=0;u<o.length;u++){const f=o[u];f(i,a)}}function cp(e,t,n){const r=[];Ra(e,t,n,r);let o=lt(e,!1);for(;o;)r.unshift(o.path),Ra(o.parent,t,n,r),o=lt(o.parent,!1)}function fp(e,t){return{...e,path:[...t,...e.path]}}const Ta=e=>{if(ce(e))return e;const t=Ue(e);return t?Ce(t.transformed):e};function gn(e,t,n){return n===void 0?{op:"remove",path:e}:t===void 0?{op:"add",path:e,value:Ta(n)}:{op:"replace",path:e,value:Ta(n)}}function ae(e,t,n){(e[t]!==n||!(t in e))&&Tt(e,t,n)}function lp(e,t,n){return e[t]!==n||!(t in e)?(Tt(e,t,n),!0):!1}var Sr=(e=>(e[e.Model=0]="Model",e[e.Array=1]="Array",e[e.PlainObject=2]="PlainObject",e[e.Frozen=3]="Frozen",e))(Sr||{});function dp(e,t,n=0){const r=hp(e,t,n);return r?r.parent:void 0}function hp(e,t,n=0){le(e,"child");const r=[];let o=e,s=0,i;for(;i=lt(o,!0);){if(r.unshift(i.path),o=i.parent,t(o))return{parent:o,path:r};if(s++,n>0&&s===n)break}}let Gr=!0;function gi(e){const t=Gr;Gr=!1;try{e()}finally{Gr=t}}function pp(){return Gr}var kt=(e=>(e[e.Array=0]="Array",e[e.Frozen=1]="Frozen",e[e.Model=2]="Model",e[e.PlainObject=3]="PlainObject",e))(kt||{});function gp(e,t,n){if(!xe(e))return Ht(t);const r=we(e);return gi(()=>{e.length>t.length&&e.splice(t.length,e.length-t.length);for(let o=0;o<e.length;o++){const s=e[o],i=gt(s,t[o],n,e);fo(i,s,n),ae(e,o,i)}for(let o=e.length;o<t.length;o++){const s=gt(void 0,t[o],n,e);fo(s,void 0,n),e.push(s)}}),Ar(e,void 0,r),e}function vp(){Mo(kt.Array,(e,t,n)=>{if(xe(t))return gp(e,t,n)})}const Vc="$frozen";class vi{constructor(t,n="devModeOnly"){E(this,"data"),ft(t)&&(t=to(t));const r=n==="on"||vc;r&&Ur(t),this.data=t,r&&Object.freeze(this.data),Be(this,void 0)}}function Bc(e,t="devModeOnly"){return new vi(e,t)}function Ur(e){if(!ce(e)){if(Array.isArray(e)){const t=e.length;for(let n=0;n<t;n++){const r=e[n];if(r===void 0&&!ko().allowUndefinedArrayElements)throw m("undefined is not supported inside arrays since it is not serializable in JSON, consider using null instead");Ur(r)}Object.freeze(e);return}if(ut(e)){const t=Object.keys(e),n=t.length;for(let r=0;r<n;r++){const o=t[r],s=e[o];Ur(o),Ur(s)}Object.freeze(e);return}throw m(`frozen data must be plainly serializable to JSON, but ${e} is not`)}}function bi(e){return ut(e)&&Vc in e}function bp(e,t){return e instanceof vi&&e.data===t.data?e:Bc(t.data)}function _p(){Mo(kt.Frozen,(e,t)=>{if(bi(t))return bp(e,t)})}function mp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ts,ja;function yp(){return ja||(ja=1,ts=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){var i=s[o];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),ts}var wp=yp();const xp=mp(wp);function zc(e,t){return e+" "+t}class Fc{constructor(t){E(this,"pool");var n;t=(n=In.get(t))!=null?n:t,this.pool=Op(Fh(t))}findModelByTypeAndId(t,n){return n?this.pool.get(zc(t,n)):void 0}findModelForSnapshot(t){if(!Do(t))return;const n=t[G],r=wr(n),o=an(r.class);return o?this.findModelByTypeAndId(n,t[o]):void 0}}const Op=Pc({initData(){return new Map},addNode(e,t){if(ge(e)){const n=e[ke];n&&t.set(zc(e[G],n),e)}}});function ka(e,t){le(e,"node"),$n(t,"snapshot"),Sp().call(e,t)}function Gc(e){const t=this,n=()=>{const r=new Fc(t);gt(t,e,r,void 0)};if(xe(e)){if(!xe(t))throw m("if the snapshot is an array the target must be an array too");n();return}if(bi(e))throw m("applySnapshot cannot be used over frozen objects");if(ut(e)&&e[G]===void 0&&ge(t)){const r=Ee.get(t.constructor);e={...e,[G]:r.name}}if(Do(e)){const r=e[G],o=wr(r);if(!o)throw m(`model with name "${r}" not found in the registry`);if(!ge(t))throw m("the target for a model snapshot must be a model instance");if(t[G]!==r)throw m(`snapshot model type '${r}' does not match target model type '${t[G]}'`);const s=an(o.class);if(s){const i=e[s];if(t[ke]!==i)throw m(`snapshot model id '${i}' does not match target model id '${t[ke]}'`)}n();return}if(ut(e)){if(!(ut(t)||Q(t)))throw m("if the snapshot is an object the target must be an object too");n();return}throw To(e)?m("a snapshot must not contain maps"):jo(e)?m("a snapshot must not contain sets"):m(`unsupported snapshot - ${e}`)}const Sp=jt(()=>dn({nameOrNameFn:mr.ApplySnapshot,fn:Gc,actionType:Ft.Sync}));function $s(e,t){return e===t?!0:(As(e)?e=we(e):ft(e)&&(e=to(e)),As(t)?t=we(t):ft(t)&&(t=to(t)),xp(e,t))}function Ap(e,t,n,r){const o=t[G],s=wr(o);if(!s)throw m(`model with name "${o}" not found in the registry`);const i=n.findModelForSnapshot(t);if(i&&(e=i),!ge(e)||e[G]!==o)return Ht(t);const a=s.class,u=xr(a),f=an(a);if(f){const d=t[f];if(e[ke]!==d)return Ht(t)}else if(xe(r)&&!$s(e,t))return Ht(t);const c=e,l=we(c);return gi(()=>{const d=c.constructor,p=d.fromSnapshotProcessor?d.fromSnapshotProcessor(t):t,h=c.$,_=Object.keys(h),x=_.length;for(let v=0;v<x;v++){const y=_[v];if(!(y in p)){const S=u[y],C=S?ir(S):ie;C===ie?xt(h,y):ae(h,y,C)}}const O=Object.keys(p),b=O.length;for(let v=0;v<b;v++){const y=O[v];if(!pc(y)){const S=p[y],C=h[y];let I=gt(C,S,n,c);if(I==null){const Z=u[y],A=Z?ir(Z):ie;A!==ie&&(I=A)}fo(I,C,n),ae(h,y,I)}}}),Ar(c,void 0,l),c}function Pp(){Mo(kt.Model,(e,t,n,r)=>{if(Do(t))return Ap(e,t,n,r)})}function Cp(e,t,n){if(!(ut(e)||Q(e)))return Ht(t);const r=e,o=we(r);return gi(()=>{const s=Object.keys(r),i=s.length;for(let f=0;f<i;f++){const c=s[f];c in t||xt(r,c)}const a=Object.keys(t),u=a.length;for(let f=0;f<u;f++){const c=a[f],l=t[c],d=r[c],p=gt(d,l,n,r);fo(p,d,n),ae(r,c,p)}}),Ar(r,void 0,o),r}function Rp(){Mo(kt.PlainObject,(e,t,n)=>{if(ut(t))return Cp(e,t,n)})}let Ea=!1;function Tp(){Ea||(Ea=!0,vp(),_p(),Pp(),Rp())}const co=[];function Mo(e,t){co.push({priority:e,reconciler:t}),co.sort((n,r)=>n.priority-r.priority)}function gt(e,t,n,r){if(ce(t))return t;if(we(e)===t)return e;Tp();const o=co.length;for(let s=0;s<o;s++){const{reconciler:i}=co[s],a=i(e,t,n,r);if(a!==void 0)return a}throw To(t)?m("a snapshot must not contain maps"):jo(t)?m("a snapshot must not contain sets"):m(`unsupported snapshot - ${t}`)}function fo(e,t,n){if(e!==t&&ge(e)&&n.findModelByTypeAndId(e[G],e[ke])){const r=rf(e,!1);r&&Tt(r.parent,r.path,null)}}function lo(e,t,n=!1){le(e,"node"),!(t.length<=0)&&jp().call(e,t,n)}function Uc(e,t=!1){const n=this,r=new Fc(n);if(t){let o=e.length;for(;o--;){const s=e[o];if(xe(s)){let i=s.length;for(;i--;)Ir(n,s[i],r)}else Ir(n,s,r)}}else{const o=e.length;for(let s=0;s<o;s++){const i=e[s];if(xe(i)){const a=i.length;for(let u=0;u<a;u++)Ir(n,i[u],r)}else Ir(n,i,r)}}}const jp=jt(()=>dn({nameOrNameFn:mr.ApplyPatches,fn:Uc,actionType:Ft.Sync}));function Ir(e,t,n){const{target:r,prop:o}=kp(e,t.path);if(xe(r))switch(t.op){case"add":{const s=+o,i=gt(void 0,t.value,n,r);s<0?r.push(i):r.splice(s,0,i);break}case"remove":{const s=+o;r.splice(s,1);break}case"replace":{if(o==="length")r.length=t.value;else{const s=+o,i=gt(r[s],t.value,n,r);ae(r,s,i)}break}default:throw m(`unsupported patch operation: ${t.op}`)}else switch(t.op){case"add":{const s=gt(void 0,t.value,n,r);ae(r,o,s);break}case"remove":{xt(r,o);break}case"replace":{const s=gt(r[o],t.value,n,r);ae(r,o,s);break}default:throw m(`unsupported patch operation: ${t.op}`)}}function kp(e,t){let n=or(e);if(t.length===0)return{target:n};for(let r=0;r<=t.length-2;r++)n=or(n[t[r]]);return{target:n,prop:t[t.length-1]}}function Ar(e,t,n){if(pp()&&(np(e),Or())){const r=Ep(e);if(r){const o=r.typeCheck();o&&($h(()=>{t?Uc.call(e,t.invPatches,!0):n&&Gc.call(e,n)}),o.throw())}}}function Ep(e){const t=Sn(e);return e!==t&&(e=t,ge(e)&&sn(e).dataType)?e:dp(e,n=>ge(n)&&!!sn(n).dataType)}function qc(e,t,n){const r=e,o=r.length,s=be(r)?r:F.array(void 0,Fp);s!==r&&(s.length=r.length);let i,a;const u=()=>{i(),a()};on.set(s,u),Ct(s,t,!1,!1,!1);const f=[];f.length=o;for(let c=0;c<o;c++){const l=r[c];if(ce(l))n||ae(s,c,l),f[c]=l;else{const d={parent:s,path:c};let p;n?(p=l,Ct(p,d,!1,!1,!1)):(p=Be(l,d),ae(s,c,p));const h=Ue(p);f[c]=h.transformed}}return hi(s,f,void 0),i=Po(s,Dp.bind(void 0,s)),a=Co(s,Ip),s}function Mp(e,t,n){n[e]=t}function $p(e,t,n,r){r.splice(e,t,...n)}const nr=new Lc;function Ip(e){const t=e.object,n=Ue(t).untransformed;nr.reset();let r;switch(e.type){case"splice":r=Lp(e,n);break;case"update":r=Np(e,n);break}Ar(t,nr),!tr&&r&&(pi(t,r),nr.emit(t))}function Np(e,t){const n=e.index,r=e.newValue,o=t[n];let s;ce(r)?s=r:s=Ue(r).transformed;const i=Mp.bind(void 0,n,s),a=[n];return nr.record([{op:"replace",path:a,value:Ce(s)}],[{op:"replace",path:a,value:Ce(o)}]),i}function Lp(e,t){const n=e.index,r=e.addedCount,o=e.removedCount,s=[];s.length=r;for(let c=0;c<r;c++){const l=e.added[c];ce(l)?s[c]=l:s[c]=Ue(l).transformed}const i=t.length,a=$p.bind(void 0,n,o,s),u=[],f=[];if(r===o){const c=[],l=[];let d=0;for(let p=0;p<r;p++){const h=n+p,_=Ma(t,h,n,o,s),x=t[h];if(_!==x){const O=[h-d];u.push({op:"remove",path:O}),f.push({op:"remove",path:O}),d++;const b=[h];c.push({op:"add",path:b,value:Ce(_)}),l.push({op:"add",path:b,value:Ce(x)})}}u.push(...c),f.push(...l),f.reverse()}else{const c=i-o;if(o>0){const l=n>=c;l&&u.push({op:"replace",path:["length"],value:c});for(let d=o-1;d>=0;d--){const p=n+d,h=[p];l||u.push({op:"remove",path:h}),f.push({op:"add",path:h,value:Ce(t[p])})}}if(r>0){const l=n>=c;l&&f.push({op:"replace",path:["length"],value:c});for(let d=0;d<r;d++){const p=n+d,h=[p];u.push({op:"add",path:h,value:Ce(Ma(t,p,n,o,s))}),l||f.push({op:"remove",path:h})}}}return nr.record(u,f),a}function Dp(e,t){switch(Rc(),t.type){case"splice":Bp(t);break;case"update":Vp(t,e);break}return t}function Vp(e,t){const n=t[e.index];Be(n,void 0),e.newValue=Be(e.newValue,{parent:t,path:e.index})}function Bp(e){for(let r=0;r<e.removedCount;r++){const o=e.object[e.index+r];Be(o,void 0)}for(let r=0;r<e.added.length;r++)e.added[r]=Be(e.added[r],{parent:e.object,path:e.index+r});const t=e.index+e.removedCount,n=e.index+e.added.length;if(t!==n)for(let r=t,o=n;r<e.object.length;r++,o++)Ct(e.object[r],{parent:e.object,path:o},!0,!1,!1)}function zp(){No(Sr.Array,(e,t)=>{if(xe(e))return qc(e,t,!1)})}const Fp={deep:!1};function Ma(e,t,n,r,o){const s=t-n;return s<0?e[t]:s<o.length?o[s]:e[t-o.length+r]}function Gp(e,t){const n=F.array([],mi),r=e.length;for(let o=0;o<r;o++)n.push(Io(e[o],t));return qc(n,void 0,!0)}function Up(){$o(kt.Array,(e,t)=>{if(xe(e))return Gp(e,t)})}function qp(){$o(kt.Frozen,e=>{if(bi(e))return Bc(e.data)})}function Wp(e,t){const n=e[G];if(!n)throw m(`a model snapshot must contain a type key (${G}), but none was found`);const r=wr(n);if(!r)throw m(`model with name "${n}" not found in the registry`);const o=an(r.class);if(o&&e[o]===void 0)throw m(`a model snapshot of type '${n}' must contain an id key (${o}), but none was found`);return new r.class(void 0,{snapshotInitialData:{unprocessedSnapshot:e,unprocessedModelType:typeof t.untypedSnapshot=="object"&&t.untypedSnapshot&&G in t.untypedSnapshot?t.untypedSnapshot[G]:void 0,snapshotToInitialData:t.snapshotToInitialData},generateNewIds:t.options.generateNewIds})}function Kp(){$o(kt.Model,(e,t)=>{if(Do(e))return Wp(e,t)})}function _i(e,t,n,r,o){const s=e,i=Q(s)?s:F.object({},void 0,Zp);let a,u;const f=()=>{a(),u()};on.set(i,f),Ct(i,t,!1,o,!1);const c={},l=Object.keys(s),d=l.length;for(let h=0;h<d;h++){const _=l[h],x=s[_];if(ce(x))r||ae(i,_,x),c[_]=x;else{const O={parent:i,path:_};let b;r?(b=x,Ct(b,O,!1,!1,!1)):(b=Be(x,O),ae(i,_,b));const v=Ue(b);c[_]=v.transformed}}let p;if(n){c[G]=n;const h=wr(n);if(!h)throw m(`model with name "${n}" not found in the registry`);const _=h.class.toSnapshotProcessor;_&&(p=x=>_(x,Sn(i)))}return hi(o?Sn(i):i,c,p),a=Po(i,e0),u=Co(i,Xp),i}const Zp={deep:!1};function Jp(e,t,n){n[e]=t}function Hp(e,t){delete t[e]}const yn=new Lc;function Xp(e){const t=e.object,n=Sn(t),r=Ue(n).untransformed;yn.reset();let o;switch(e.type){case"add":case"update":o=Qp(e,r);break;case"remove":o=Yp(e,r);break;default:throw m("assertion error: unsupported object change type")}Ar(t,yn),tr||(pi(n,o),yn.emit(n))}function Yp(e,t){const n=e.name,r=t[n],o=Hp.bind(void 0,n),s=[n];return yn.record([{op:"remove",path:s}],[{op:"add",path:s,value:Ce(r)}]),o}function Qp(e,t){const n=e.name,r=e.newValue,o=t[n];let s;ce(r)?s=r:s=Ue(r).transformed;const i=Jp.bind(void 0,n,s),a=[n];return e.type==="add"?yn.record([{op:"add",path:a,value:Ce(s)}],[{op:"remove",path:a}]):yn.record([{op:"replace",path:a,value:Ce(s)}],[{op:"replace",path:a,value:Ce(o)}]),i}function e0(e){if(Rc(),typeof e.name=="symbol")throw m("symbol properties are not supported");switch(e.type){case"add":e.newValue=Be(e.newValue,{parent:e.object,path:String(e.name)});break;case"remove":{Be(e.object[e.name],void 0);break}case"update":{const t=e.object[e.name],n=e.newValue;n!==t&&(Be(t,void 0),e.newValue=Be(n,{parent:e.object,path:String(e.name)}));break}default:throw m("assertion error: unsupported object change type")}return e}function t0(){No(Sr.PlainObject,(e,t)=>{if(Q(e)||ut(e))return _i(e,t,void 0,!1,!1)})}function n0(e,t){const n=F.object({},void 0,mi),r=Object.keys(e),o=r.length;for(let s=0;s<o;s++){const i=r[s],a=e[i];Tt(n,i,Io(a,t))}return _i(n,void 0,void 0,!0,!1)}function r0(){$o(kt.PlainObject,(e,t)=>{if(ut(e))return n0(e,t)})}let $a=!1;function o0(){$a||($a=!0,Up(),qp(),Kp(),r0())}const ho=[];function $o(e,t){ho.push({priority:e,snapshotter:t}),ho.sort((n,r)=>n.priority-r.priority)}function Ht(e,t,n){let r,o,s;if(li(e)||e instanceof Oe||Pr(e)){const i=he(e);o=t,r=i.fromSnapshotProcessor(o),s=n}else r=e,o=r,s=t;return s0(r,o,s)}const s0=T("fromSnapshot",(e,t,n)=>{const o={options:{generateNewIds:!1,overrideRootModelId:void 0,...n},untypedSnapshot:t};return o.snapshotToInitialData=i0.bind(void 0,o),Io(e,o)});function Io(e,t){if(ce(e))return e;o0();const n=ho.length;for(let r=0;r<n;r++){const{snapshotter:o}=ho[r],s=o(e,t);if(s!==void 0)return s}throw To(e)?m("a snapshot must not contain maps"):jo(e)?m("a snapshot must not contain sets"):m(`unsupported snapshot - ${e}`)}function i0(e,t){const n=F.object({},void 0,mi),r=Object.keys(t),o=r.length;for(let s=0;s<o;s++){const i=r[s];if(!pc(i)){const a=t[i];Tt(n,i,Io(a,e))}}return n}const mi={deep:!1};function a0(e,t){le(e,"node");const n={generateNewIds:!0,...t},r=we(e);return Ht(r,n)}const Ct=T("setParent",(e,t,n,r,o)=>{if(ce(e))return e;let s=lt(e,!1);if(jh(s,t))return e;if(es(e))throw m("root stores cannot be attached to any parents");if(r)return In.set(e,t.parent),e;if(t){const c=Sn(t.parent);t.parent!==c&&(t={parent:c,path:t.path})}if(o&&t?.parent&&s?.parent&&ge(e)&&sn(e).valueType&&(e=a0(e,{generateNewIds:!0}),s=lt(e,!1)),s&&t){if(s.parent===t.parent&&n)return Ss.set(e,t),wa(e),e;throw m("an object cannot be assigned a new parent when it already has one")}const i=t?void 0:p0(e),a=e instanceof Cn;let u,f;if(a&&(u=go(e,!1),f=es(u)?u:void 0),s?.parent&&Uh(s.parent,e),Ss.set(e,t),t?.parent&&Gh(t.parent,e),wa(e),a){const c=go(e,!1),l=es(c)?c:void 0;f!==l&&(f||l)&&Wh(()=>{f&&$c(e),l&&Mc(l,e)})}return i?.(),e});function yi(e,t){const n=he(e);return n.unchecked?null:n.check(t,[],t)}function u0(e,t){return on.set(e,void 0),Ct(e,t,!1,!1,!1),hi(e,{[Vc]:!0,data:e.data},void 0,!0),e}function c0(){No(Sr.Frozen,(e,t)=>{if(e instanceof vi)return u0(e,t)})}function Wc(e,t){return on.set(e,void 0),Ct(e,t,!1,!1,!0),e}function f0(){No(Sr.Model,(e,t)=>{if(ge(e))return Wc(e,t)})}let Ia=!1;function l0(){Ia||(Ia=!0,zp(),c0(),f0(),t0())}function d0(e,t){let n,r,o;if(arguments.length===1?(o=!1,n=e):(r=e,o=!0,n=t),!ze(n))throw m("only objects can be turned into tree nodes");if(o&&Or()){const s=yi(r,n);s&&s.throw()}return At(n,!0)?n:Be(n,void 0)}const po=[];function No(e,t){po.push({priority:e,tweaker:t}),po.sort((n,r)=>n.priority-r.priority)}function h0(e,t){if(ce(e))return e;if(At(e,!0))return e=Ct(e,t,!1,!1,!0),e;if(wi(e))throw m("data models are not directly supported. you may insert the data in the tree instead ('$' property).");l0();const n=po.length;for(let r=0;r<n;r++){const{tweaker:o}=po[r],s=o(e,t);if(s!==void 0)return s}throw To(e)?m("maps are not directly supported. consider using 'ObjectMap' / 'asMap' instead."):jo(e)?m("sets are not directly supported. consider using 'ArraySet' / 'asSet' instead."):m(`tweak can only work over models, observable objects/arrays, or primitives, but got ${e} instead`)}const Be=T("tweak",h0);function p0(e){if(ce(e))return;const t=on.get(e);if(!t)return;const n=Array.from(Eo(e).values());for(let r=0;r<n.length;r++)Ct(n[r],void 0,!1,!1,!1);return()=>{t(),on.delete(e),sp(e)}}const Is=Symbol("modelInitializers");function g0(e){return e[Is]}function Kc(e,t){const n=g0(e);if(n){const r=n.length;for(let o=0;o<r;o++)n[o](t)}}const v0=T("newModel",(e,t,n)=>{const{modelClass:r}=n,o=r,s=e;if(!Ee.get(o))throw m(`no model info for class ${o.name} could be found - did you forget to add the @model decorator?`);if(s.$=t,Kc(o,s),Or()&&Zc(o).dataType){const a=s.typeCheck();a&&a.throw()}return s}),b0=new WeakMap;lc=ao;class Ns{constructor(t){if(E(this,lc),E(this,"$"),!ze(t))throw m("data models can only work over data objects");const{modelClass:n}=arguments[1],r=n;let o;if(As(t))o=t;else{if(!Ee.get(r))throw m(`no model info for class ${r.name} could be found - did you forget to add the @model decorator?`);const f=xr(r),c=Object.assign({},t),l=Object.keys(f);for(let d=0;d<l.length;d++){const p=l[d],h=f[p];let _=c[p],x=!1;h._transform&&(x=!0,_=h._transform.untransform(_,this,p)),_==null&&(h._defaultFn!==ie?(x=!0,_=h._defaultFn()):h._defaultValue!==ie&&(x=!0,_=h._defaultValue)),x&&(c[p]=_)}o=d0(c)}const s=Qe(b0,r,()=>new WeakMap),i=s.get(o);if(i)return i;s.set(o,this),Object.setPrototypeOf(this,r.prototype);const a=this;delete a[ao],v0(this,o,{modelClass:r})}typeCheck(){const t=xi(this.constructor);return yi(t,this.$)}toString(t){const n={withData:!0,...t},r=Ee.get(this.constructor),o=`${this.constructor.name}#${r.name}`;return n.withData?`[${o} ${JSON.stringify(we(this))}]`:`[${o}]`}}function wi(e){return e instanceof Ns}function Pn(e){return!(typeof e!="function"||e!==Ns&&!(e.prototype instanceof Ns))}function Zc(e){if(wi(e))return e.constructor[sr];if(Pn(e))return e[sr];throw m("modelClassOrInstance must be a model class or instance")}function fn(e){const n=ln(e).typeInfo;if(!n)throw m(`type info not found for ${e}`);return n}const Na=new WeakMap;function xi(e){if(!Pn(e)&&typeof e=="function"){const t=e;return Pt(()=>xi(t()),r=>new La(r,t()))}else{const t=e,n=Na.get(t);if(n)return n;const r=s=>new La(s,t),o=Pt(()=>{const s=Ee.get(t),i=`DataModelData(${s.name})`,a=Zc(t).dataType;if(!a)throw m(`type checking cannot be performed over data model data of type '${s.name}' since that model type has no data type declared, consider adding a data type or using types.unchecked() instead`);const u=he(a),f=new Oe($e.Object,(c,l,d)=>u.check(c,l,d),()=>i,r,c=>u.snapshotType(c)?f:null,c=>u.fromSnapshotProcessor(c),c=>u.toSnapshotProcessor(c));return f},r);return Na.set(t,o),o}}class La extends Ge{constructor(t,n){super(t),E(this,"_props",jt(()=>{const r=xr(this.modelClass),o={};return Object.keys(r).forEach(s=>{const i=r[s],a=i._typeChecker;let u;a&&(u=fn(a));let f=!1,c;i._defaultFn!==ie?(c=i._defaultFn,f=!0):i._defaultValue!==ie&&(c=i._defaultValue,f=!0),o[s]={type:a,typeInfo:u,hasDefault:f,default:c}}),o})),this.modelClass=n}get props(){return this._props()}get modelType(){return Ee.get(this.modelClass).name}}function _0(){Ai(e=>Pn(e)?xi(e):void 0)}const Da=new WeakMap;function Oi(e){if(!Pr(e)&&typeof e=="function"){const t=e;return Pt(()=>Oi(t()),r=>new Va(r,t()))}else{const t=e,n=Da.get(t);if(n)return n;const r=s=>new Va(s,t),o=Pt(()=>{const s=Ee.get(t),i=`Model(${s.name})`,a=sn(t).dataType,u=a?he(a):void 0,f=new Oe($e.Object,(c,l,d)=>c instanceof t?u?u.check(c.$,l,d):null:new Fe(l,i,c,d),()=>i,r,c=>ze(c)?c[G]!==void 0?c[G]===s.name?f:null:u&&u.snapshotType(c)?f:null:null,c=>c[G]?c:{...c,[G]:s.name},c=>c);return f},r);return Da.set(t,o),o}}class Va extends Ge{constructor(t,n){super(t),E(this,"_props",jt(()=>{const r=xr(this.modelClass),o={};return Object.keys(r).forEach(s=>{const i=r[s],a=i._typeChecker;let u;a&&(u=fn(a));let f=!1,c;i._defaultFn!==ie?(c=i._defaultFn,f=!0):i._defaultValue!==ie&&(c=i._defaultValue,f=!0),o[s]={type:a,typeInfo:u,hasDefault:f,default:c}}),o})),this.modelClass=n}get props(){return this._props()}get modelType(){return Ee.get(this.modelClass).name}}function m0(){Ai(e=>Pr(e)?Oi(e):void 0)}const Ln=[];function Jc(e){Ch(e,"literal");let t;switch(e){case void 0:t="undefined";break;case null:t="null";break;default:t=JSON.stringify(e);break}const n=o=>new y0(o,e),r=new Oe($e.Primitive,(o,s,i)=>o===e?null:new Fe(s,t,o,i),()=>t,n,o=>o===e?r:null,Ye,Ye);return r}class y0 extends Ge{constructor(t,n){super(t),this.literal=n}}const Hc=Jc(void 0);Ln.push(e=>e===void 0?Hc:void 0);const Xc=Jc(null);Ln.push(e=>e===null?Xc:void 0);const Si=new Oe($e.Primitive,(e,t,n)=>typeof e=="boolean"?null:new Fe(t,"boolean",e,n),()=>"boolean",e=>new w0(e),e=>typeof e=="boolean"?Si:null,Ye,Ye);Ln.push(e=>e===Boolean?Si:void 0);class w0 extends Ge{}const Lo=new Oe($e.Primitive,(e,t,n)=>typeof e=="number"?null:new Fe(t,"number",e,n),()=>"number",e=>new x0(e),e=>typeof e=="number"?Lo:null,Ye,Ye);Ln.push(e=>e===Number?Lo:void 0);class x0 extends Ge{}const Dn=new Oe($e.Primitive,(e,t,n)=>typeof e=="string"?null:new Fe(t,"string",e,n),()=>"string",e=>new O0(e),e=>typeof e=="string"?Dn:null,Ye,Ye);Ln.push(e=>e===String?Dn:void 0);class O0 extends Ge{}function S0(){Ln.forEach(e=>{Ai(e)})}let Ba=!1;function A0(){Ba||(Ba=!0,m0(),_0(),S0())}const Yc=[];function Ai(e){Yc.push(e)}function Qc(e){A0();for(const t of Yc){const n=t(e);if(n)return n}}function he(e){let t=e;for(;;){if(t instanceof Oe)return t;if(li(t))t=t();else{const n=Qc(e);if(n)return he(n);throw m("type checker could not be resolved")}}}function ef(e){if(e instanceof Oe||li(e))return e;{const t=Qc(e);return t||void 0}}function ln(e){const t=ef(e);if(t)return t;throw m("standard type could not be resolved")}function we(e,t){let n=Ye,r;if(arguments.length>=2?(n=he(e).toSnapshotProcessor,r=t):r=e,ce(r))return n(r);le(r,"nodeOrPrimitive");const o=Ue(r);if(!o)throw m("getSnapshot is not supported for this kind of object");return Ce(o.transformed),ip(o),n(o.transformed)}const P0=T("newModel",(e,t,n)=>{const{modelInfo:r,modelIdPropertyName:o,modelProps:s,modelIdPropData:i}=tf(n);if(o&&i){let f;t[o]?f=t[o]:f=i._defaultFn(),ae(t,o,f)}const a=e;a[G]=r.name;const u=Object.keys(s);for(let f=0;f<u.length;f++){const c=u[f];if(c===o)continue;const l=s[c];let p=t[c],h=!1;if(l._transform&&(h=!0,p=l._transform.untransform(p,a,c)),p==null){const _=ir(l);_!==ie?(h=!0,p=_):c in t||(h=!0)}h&&Tt(t,c,p)}if(nf(a,t,n),Or()&&sn(n).dataType){const f=a.typeCheck();f&&f.throw()}}),C0=T("fromSnapshotModel",(e,t,n,r)=>{const{modelInfo:o,modelIdPropertyName:s,modelProps:i,modelIdPropData:a}=tf(n);let u,f=t.unprocessedSnapshot;a&&s&&(r?u=a._defaultFn():u=f[s]),n.fromSnapshotProcessor&&(f=n.fromSnapshotProcessor(f));const c=t.snapshotToInitialData(f),l=e;l[G]=o.name;const d=[],p=[];if(s){const O=c[s];if(lp(c,s,u)){const v=[s];d.push(gn(v,O,u)),p.push(gn(v,u,O))}}const h=Object.keys(i);for(let O=0;O<h.length;O++){const b=h[O];if(b===s)continue;const v=i[b],y=c[b];let S=y,C=!1;if(S==null){const I=ir(v);I!==ie?(C=!0,S=I):b in c||(C=!0)}if(C&&(Tt(c,b,S),S!==y)){const I=[b];d.push(gn(I,y,S)),p.push(gn(I,S,y))}}const _=t?.unprocessedModelType,x=o.name;if(_!==x){const O=[G];d.push(gn(O,_,x)),p.push(gn(O,x,_))}if(nf(l,c,n),Dc(l,d,p),Or()&&sn(n).dataType){const O=l.typeCheck();O&&O.throw()}});function tf(e){const t=Ee.get(e);if(!t)throw m(`no model info for class ${e.name} could be found - did you forget to add the @model decorator?`);const n=an(e),r=xr(e),o=n?r[n]:void 0;return{modelInfo:t,modelIdPropertyName:n,modelProps:r,modelIdPropData:o}}function nf(e,t,n){Wc(e,void 0),e.$=_i(t,{parent:e,path:"$"},e[G],!1,!0),Kc(n,e)}const za=Symbol("modelIdPropertyName");class Cn{constructor(t){E(this,da),E(this,la),E(this,fa),E(this,ca),E(this,ua),E(this,"$");const n=t,{snapshotInitialData:r,modelClass:o,generateNewIds:s}=arguments[1];Object.setPrototypeOf(this,o.prototype);const i=this;delete i[ao],delete i[ma],delete i[ya],delete i[za],r?C0(this,r,o,!!s):($n(n,"initialData"),P0(this,F.object(n,void 0,{deep:!1}),o))}get[(da=ao,la=ma,fa=ya,ca=za,ua=G,ke)](){const t=an(this.constructor);return t?this.$[t]:void 0}set[ke](t){const n=an(this.constructor);if(!n)throw m("$modelId cannot be set when there is no idProp set in the model");this.$[n]=t}getRefId(){return this[ke]}typeCheck(){const t=Oi(this.constructor);return yi(t,this)}toString(t){const n={withData:!0,...t},r=`${this.constructor.name}#${this[G]}`;return n.withData?`[${r} ${JSON.stringify(we(this))}]`:`[${r}]`}}const R0=new Set([G,ke,"onInit","$","getRefId","onAttachedToRootStore","typeCheck"]);function ge(e){return e instanceof Cn}function Pr(e){return!(typeof e!="function"||e!==Cn&&!(e.prototype instanceof Cn))}function Do(e){return ut(e)&&G in e}function lt(e,t){return t&&Eh(e),Ss.get(e)}function rf(e,t){const n=In.get(e);if(n)return{parent:n,path:"$"};const r=lt(e,t);return r&&ge(r.parent)?{parent:r.parent.$,path:r.path}:r}function ar(e,t){var n;return(n=lt(e,t))==null?void 0:n.parent}function T0(e,t){var n;return(n=rf(e,t))==null?void 0:n.parent}function j0(e,t){let n=e;const r=[],o=[e];let s;for(;s=lt(n,t);)n=s.parent,r.unshift(s.path),o.unshift(s.parent);return{root:n,path:r,pathObjects:o}}function go(e,t){let n=e,r;for(;r=lt(n,t);)n=r.parent;return n}function k0(e){return le(e,"value"),!ar(e,!0)}const ns={resolved:!1};function rs(e,t){let n=e;const r=t.length;for(let o=0;o<r;o++){if(!ze(n))return ns;const s=t[o];if(xe(n)&&+s>=n.length)return ns;if(ge(n)){const i=or(n);if(s in i)n=i;else if(!(s in n))return ns}n=n[s]}return{resolved:!0,value:n}}const of=Symbol("skipIdChecking");function os(e,t,n){var r;let o=or(e);const s=t.length;for(let i=0;i<s;i++){if(!ze(o))return{resolved:!1};const a=t[i];if(xe(o)&&+a>=o.length)return{resolved:!1};const u=o[a];o=or(u);const f=n[i];if(f!==of){const c=ge(u)&&(r=u[ke])!=null?r:null;if(f!==c)return{resolved:!1}}}return{resolved:!0,value:Sn(o)}}const E0=new WeakMap;function M0(e){const t=[];let n=e;for(;n;){const r=E0.get(n);r&&r.length>0&&t.push(r),n=ar(n,!1)}return t}function dn({nameOrNameFn:e,fn:t,actionType:n,overrideContext:r,isFlowFinisher:o=!1}){let s=!1;const i=function(...a){const u=typeof e=="function"?e():e;s||(s=!0,t=T(u,t));const f=Ro(),c={actionName:u,type:n,target:this,args:a,parentContext:f,data:{},rootContext:void 0};r&&r(c,this),c.rootContext||(c.previousAsyncStepContext?c.rootContext=c.previousAsyncStepContext.rootContext:c.parentContext?c.rootContext=c.parentContext.rootContext:c.rootContext=c),ba(c);const l=M0(c.target);let d=l.length-1,p=0;const h=()=>{const _=l[d];if(!_)return t.apply(this,a);const x=_[p];return p++,p>=_.length&&(p=0,d--),(x.filter?x.filter(c):!0)?x.middleware(c,h):h()};try{const _=h();if(o){const x=_,O=x.value;return x.resolution==="accept"?x.accepter(O):x.rejecter(O),O}else return _}finally{ba(c.parentContext),Kh()}};return i[hc]=!0,i}function Ls(e,t,n){const r=e[t];if(oi(r))return;const o=dn({nameOrNameFn:n,fn:r,actionType:Ft.Sync}),s=Object.getPrototypeOf(e);s[t]===r?s[t]=o:e[t]=o}const ss=Symbol("unboundMethod"),Fa=(e,t)=>{const n=ss in e?e[ss]:e,r=n.bind(t);return Object.getOwnPropertySymbols(n).forEach(o=>{r[o]=n[o]}),r[ss]=n,r};function $0(e,t,n){if(typeof t[1]!="object"){const r=t[0],o=t[1],s=t[2],i=is(r,o,!0),a=()=>{mc(r,_c,u=>{const f=n(i,u[o]);u[o]=Fa(f,u)})};if(s){if(s.get!==void 0)throw m(`@${e} cannot be used with getters`);if(s.value)return{enumerable:!1,writable:!0,configurable:!0,value:n(i,s.value)};a()}else a()}else{const r=t[1];switch(r.kind){case"method":{const o=t[0],s=r.name;let i=!1;r.addInitializer(function(){if(i)return;i=!0;const a=this;let u=this,f=Object.getPrototypeOf(u);for(;f&&f[s]===o;)u=f,f=Object.getPrototypeOf(u);u[s]=n(is(a,s,!1),u[s])});break}case"field":{const o=r.name;let s;return function(i){const a=this;s||(s=is(a,o,!1));const u=n(s,i);return Fa(u,a)}}default:throw m(`@${e} can only be used on fields or methods}`)}}}const I0=(e,t)=>{e.target=t.$};function is(e,t,n){if(Pn(e)||wi(e)){const r=Pn(e)?e:e.constructor;let o;const s=i=>{const a=Ee.get(i);o=`fn::${a.name}::${t}`,Ah(o,a.class,t)};return n?mc(r,Ps,s):s(r),{actionName:()=>o,overrideContext:I0}}else return{actionName:t,overrideContext:void 0}}const N0=Symbol("modelFlow");function L0(e){return typeof e=="function"&&N0 in e}const Ga=new Map;function D0(e,t,n){if(bc(t,e),Ga.has(e)&&yc("warn",`an standalone action with name "${e}" already exists (if you are using hot-reloading you may safely ignore this warning)`,`duplicateActionName - ${e}`),oi(t))throw m("the standalone action must not be previously marked as an action");if(L0(t))throw m("the standalone action must not be previously marked as a flow action");const r=dn({nameOrNameFn:e,fn:t,actionType:Ft.Sync}),o=(s,...i)=>(Mh(s,"target"),r.call(s,s,...i));return Ga.set(e,o),o}function sf(e,t,n){le(e,"node",!0),B0().call(e,t,n)}function V0(e,t){!ge(this)&&ft(this)?ae(this,e,t):this[e]=t}const B0=jt(()=>dn({nameOrNameFn:mr.ApplySet,fn:V0,actionType:Ft.Sync}));function qe(...e){return $0("modelAction",e,(t,n)=>{if(oi(n))return n;if(typeof n!="function")throw m("modelAction has to be used over functions");return dn({nameOrNameFn:t.actionName,fn:n,actionType:Ft.Sync,overrideContext:t.overrideContext})})}function z0(e,t){var n;const r=[];let o=e;for(let s=0;s<t.length;s++){o=o[t[s]];const i=ge(o)&&(n=o[ke])!=null?n:null;r.push(i)}return r}function F0(e,t,n){return bc(e,"objFn"),Pt(()=>{const r=e();$n(r,"objectSchema");const o=Object.entries(r),s=(...u)=>{const f=[];for(const[c,l]of o){const d=he(l);let p="...";u.includes(d)||(p=d.getTypeName(...u,d)),f.push(`${c}: ${p};`)}return`{ ${f.join(" ")} }`},i=(u,f)=>{const c={},l=Object.keys(u);for(let d=0;d<l.length;d++){const p=l[d],h=r[p];if(h){const _=he(h);c[p]=f==="from"?_.fromSnapshotProcessor(u[p]):_.toSnapshotProcessor(u[p])}else c[p]=u[p]}return c},a=new Oe($e.Object,(u,f,c)=>{if(!ze(u)||t)return new Fe(f,s(a),u,c);for(const[l,d]of o){const p=he(d),h=u[l],_=p.check(h,[...f,l],c);if(_)return _}return null},s,n,u=>{if(!ze(u))return null;for(const[f,c]of o){const l=he(c),d=u[f];if(!l.snapshotType(d))return null}return a},u=>i(u,"from"),u=>i(u,"to"));return a},n)}function G0(e){return F0(e,!1,n=>new U0(n,e))}class U0 extends Ge{constructor(t,n){super(t),E(this,"_props",jt(()=>{const r=this._objTypeFn(),o={};return Object.keys(r).forEach(s=>{const i=ln(r[s]);o[s]={type:i,typeInfo:fn(i)}}),o})),this._objTypeFn=n}get props(){return this._props()}}const af=new Oe($e.Any,null,()=>"any",e=>new q0(e),()=>af,Ye,Ye);function Rn(){return af}class q0 extends Ge{}function W0(e,...t){const n=t.slice();let r;const o=ef(e);if(o)n.unshift(o);else{const i=e;r=a=>{const u=i(a);return he(u)}}if(n.length<=0)throw m("or type must have at least 1 possible type");const s=i=>new K0(i,n.map(ln));return Pt(()=>{const i=n.map(he);if(i.some(c=>c.unchecked))return Rn();const a=(...c)=>i.map(d=>c.includes(d)?"...":d.getTypeName(...c,d)).join(" | ");let u;i.some(c=>c.baseType!==i[0].baseType)?u=$e.Any:u=i[0].baseType;const f=new Oe(u,(c,l,d)=>i.some(h=>!h.check(c,l,d))?null:new Fe(l,a(f),c,d),a,s,c=>{const l=tp(c),d=i.filter(p=>p.baseType===l||p.baseType===$e.Any);if(d.length===1&&d[0].baseType===l)return d[0];for(let p=0;p<d.length;p++){const h=d[p].snapshotType(c);if(h)return h}return null},c=>{const l=r?r(c):f.snapshotType(c);if(!l)throw m(`snapshot '${JSON.stringify(c)}' does not match the following type: ${a(f)}`);return l.fromSnapshotProcessor(c)},c=>{const l=r?r(c):f.snapshotType(c);if(!l)throw m(`snapshot '${JSON.stringify(c)}' does not match the following type: ${a(f)}`);return l.toSnapshotProcessor(c)});return f},s)}class K0 extends Ge{constructor(t,n){super(t),E(this,"_orTypeInfos",jt(()=>this.orTypes.map(fn))),this.orTypes=n}get orTypeInfos(){return this._orTypeInfos()}}const Z0=Symbol("noDefaultValue"),Ua=new WeakMap;function J0(e,t,n){let r=Ua.get(e);r||(r=new Map,Ua.set(e,r));let o=r.get(t);return o||(o=n(),r.set(t,o)),o}function yt(e,t){switch(typeof e){case"string":return yt(Dn,e);case"number":return yt(Lo,e);case"boolean":return yt(Si,e)}const n=arguments.length>=2,r=ln(e);return J0(r,n?t:Z0,()=>{const o=n?W0(r,Hc,Xc):r,s=Object.create(n?Cs(t):Cs());return Object.assign(s,{_typeChecker:r,_fromSnapshotProcessor:H0.bind(void 0,o),_toSnapshotProcessor:X0.bind(void 0,r)}),s})}function H0(e,t){const n=he(e).fromSnapshotProcessor;return n?n(t):t}function X0(e,t){const n=he(e).toSnapshotProcessor;return n?n(t):t}function qa(...e){const t=e.filter(r=>!!r);return t.length<=0?void 0:(r,...o)=>{let s=r;for(let i=0;i<t.length;i++)s=t[i](s,...o);return s}}function Y0(e,t){var n;const r=(n=e._transform)==null?void 0:n.transform;if(!r)return function(){return this.$[t]};const o=(s,i)=>r(i,s,t,a=>{sf(s.$,t,a)});return function(){const s=this.$[t];return o(this,s)}}const uf=(e,t,n,r)=>{if(e._setter==="assign"&&!Ro()){sf(n,t,r);return}let o=e._transform?e._transform.untransform(r,n,t):r;if(o==null){const s=ir(e);s!==ie&&(o=s)}n.$[t]=o},Q0=(e,t,n,r)=>n[ii]?(uf(e,t,n,r),!0):!1,cf=()=>ko().modelIdGenerator(),ff=yt(Dn,cf);ff._isId=!0;const lf=Cs(cf);lf._isId=!0;function eg({modelProps:e,baseModel:t,type:n,valueType:r,fromSnapshotProcessor:o,toSnapshotProcessor:s}){$n(e,"modelProps"),e=Object.assign(Object.create(null),e);const i=e,a=Object.keys(i).filter(v=>i[v]._isId);if(a.length>1)throw m(`expected at most one idProp but got many: ${JSON.stringify(a)}`);const u=Object.values(i).some(v=>!!v._typeChecker);let f;if(a.length>0){f=a[0];const v=i[f];let y=u?ff:lf;switch(v._setter){case!0:y=y.withSetter();break;case"assign":y=y.withSetter("assign");break}i[f]=y}let c;if(u){const v={};for(const[y,S]of Object.entries(i))v[y]=S._typeChecker?S._typeChecker:Rn();c=G0(()=>v)}const l=Cn,d=R0;let p;function h(v,y){var S;const C=(S=y?.modelClass)!=null?S:this.constructor,I=new l(v,{...y,modelClass:C});return gc(I,ii,!1,!0),p||(p=Object.keys(e).filter(Z=>!d.has(Z)&&Object.hasOwn(I,Z))),p.forEach(Z=>{delete I[Z]}),I}Object.assign(h,l);const _=l[Is];_&&(h[Is]=_.slice()),Ih(h,i);{const v={dataType:c,modelIdProperty:f,valueType:r};h[sr]=v}h.prototype=Object.create(l.prototype),h.prototype.constructor=h;let x=(v,y,S,C)=>{Q0(v,y,S,C)&&(x=uf)};for(const[v,y]of Object.entries(e)){if(!d.has(v)){const S=Y0(y,v);Object.defineProperty(h.prototype,v,{get:S,set(C){x(y,v,this,C)},enumerable:!0,configurable:!1})}if(y._setter===!0){const S=Th(v);if(!d.has(S)){const C=qe(h.prototype,S,{value:function(I){this[v]=I},writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(h.prototype,S,C)}}}const O=tg(i),b=ng(i);return h.fromSnapshotProcessor=qa(o,O),h.toSnapshotProcessor=qa(b,s),h}function tg(e){const t=Object.entries(e).filter(([n,r])=>r._fromSnapshotProcessor);if(!(t.length<=0))return n=>{const r={...n};for(const[o,s]of t)s._fromSnapshotProcessor&&(r[o]=s._fromSnapshotProcessor(n[o]));return r}}function ng(e){const t=Object.entries(e).filter(([n,r])=>r._toSnapshotProcessor);if(!(t.length<=0))return n=>{const r={...n};for(const[o,s]of t)s._toSnapshotProcessor&&(r[o]=s._toSnapshotProcessor(n[o]));return r}}function Vo(e,t){const n=typeof e=="function"?e():e;return rg(n,void 0)}function rg(e,t,n){var r;return eg({modelProps:e,baseModel:t,type:"class",valueType:(r=void 0)!=null?r:!1,fromSnapshotProcessor:void 0,toSnapshotProcessor:void 0})}const Bo=e=>(t,...n)=>{const r=typeof n[1]=="object"?n[1]:void 0;return sg(e,t,r?.addInitializer)},df=new WeakMap,hf=(e,t)=>{so(t,_c);const n=df.get(e);if(n.needsMakeObservable)io.makeObservable(t);else if(n.needsMakeObservable===void 0)if(wc()>=6)try{io.makeObservable(t),n.needsMakeObservable=!0}catch(r){const o=r;if(o.message!=="[MobX] No annotations were passed to makeObservable, but no decorator members have been found either"&&o.message!=="[MobX] No annotations were passed to makeObservable, but no decorated members have been found either")throw o;n.needsMakeObservable=!1}else n.needsMakeObservable=!1;t[ii]=!0,so(t,Rh),n.type==="class"&&t.onInit&&(Ls(t,"onInit",An.OnInit),t.onInit()),n.type==="data"&&t.onLazyInit&&(Ls(t,"onLazyInit",An.OnLazyInit),t.onLazyInit())},og={construct(e,t){const n=new e(...t);return hf(e,n),n}},sg=(e,t,n)=>{const r=Pr(t)?"class":Pn(t)?"data":void 0;if(!r)throw m("clazz must be a class that extends from Model/DataModel");if(Fr[e]&&ko().showDuplicateModelNameWarnings&&yc("warn",`a model with name "${e}" already exists (if you are using hot-reloading you may safely ignore this warning)`,`duplicateModelName - ${e}`),Yo in t&&t[Yo]===t)throw m("a class already decorated with `@model` cannot be re-decorated");if(t.toString=()=>`class ${t.name}#${e}`,r==="class"&&(t[G]=e),df.set(t,{needsMakeObservable:void 0,type:r}),n){n(function(){hf(t,this)});const o={name:e,class:t};Fr[e]=o,Ee.set(t,o),so(t,Ps);return}else{const o=new Proxy(t,og);o.prototype.constructor=o,o[Yo]=t;const s={name:e,class:o};return Fr[e]=s,Ee.set(o,s),Ee.set(t,s),so(t,Ps),o}};function Ds(e){const t=n=>new ig(n,ln(e));return Pt(()=>{const n=he(e),r=(...s)=>`Array<${n.getTypeName(...s,n)}>`,o=new Oe($e.Array,(s,i,a)=>{if(!xe(s))return new Fe(i,r(o),s,a);if(!n.unchecked)for(let u=0;u<s.length;u++){const f=n.check(s[u],[...i,u],a);if(f)return f}return null},r,t,s=>{if(!xe(s))return null;if(!n.unchecked){for(let i=0;i<s.length;i++)if(!n.snapshotType(s[i]))return null}return o},s=>n.unchecked?s:s.map(i=>n.fromSnapshotProcessor(i)),s=>n.unchecked?s:s.map(i=>n.toSnapshotProcessor(i)));return o},t)}class ig extends Ge{constructor(t,n){super(t),this.itemType=n}get itemTypeInfo(){return fn(this.itemType)}}var ag=Object.defineProperty,ug=Object.getOwnPropertyDescriptor,_e=(e,t,n,r)=>{for(var o=r>1?void 0:r?ug(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&ag(t,n,o),o};function vo(e,t){if(e.type==="single")return[e];{const n=[];for(const r of e.events)t?n.unshift(...vo(r,!0)):n.push(...vo(r,!1));return n}}let Dt=class extends Vo({undoEvents:yt(Ds(Rn()),()=>[]),redoEvents:yt(Ds(Rn()),()=>[])}){constructor(){super(...arguments),E(this,"_groupStack",[])}_clearUndo(){Zt(()=>{this.undoEvents.length=0})}_clearRedo(){Zt(()=>{this.redoEvents.length=0})}enforceMaxLevels({maxUndoLevels:e,maxRedoLevels:t}){if(e!==void 0)for(;this.undoEvents.length>e;)this.undoEvents.shift();if(t!==void 0)for(;this.redoEvents.length>t;)this.redoEvents.shift()}_undo({maxRedoLevels:e}){Zt(()=>{const t=this.undoEvents.pop();this.redoEvents.push(t),this.enforceMaxLevels({maxRedoLevels:e})})}_redo({maxUndoLevels:e}){Zt(()=>{const t=this.redoEvents.pop();this.undoEvents.push(t),this.enforceMaxLevels({maxUndoLevels:e})})}_addUndo({event:e,maxUndoLevels:t}){Zt(()=>{this.undoEvents.push(e),this.redoEvents.length=0,this.enforceMaxLevels({maxUndoLevels:t})})}_addUndoToParentGroup(e,t){e.events.push(t)}get _currentGroup(){return this._groupStack[this._groupStack.length-1]}_startGroup(e,t,n){var r;let o=!1,s=!1;const i=this._currentGroup,a={type:"group",groupName:e,events:[]},u=i||(r=n?.attachedState)==null?void 0:r.save(),f={pause:()=>{if(s)throw m("cannot pause a group when it is already ended");if(!o)throw m("cannot pause a group when it is not running");if(this._currentGroup!==a)throw m("group out of order");this._groupStack.pop(),o=!1},resume:()=>{if(s)throw m("cannot resume a group when it is already ended");if(o)throw m("cannot resume a group when it is already running");this._groupStack.push(a),o=!0},end:()=>{var c;o&&f.pause(),s=!0,i?this._addUndoToParentGroup(i,a):this._addUndo({event:{...a,attachedState:{beforeEvent:u,afterEvent:(c=n?.attachedState)==null?void 0:c.save()}},maxUndoLevels:n?.maxUndoLevels})}};return t&&f.resume(),f}};_e([qe],Dt.prototype,"_clearUndo",1);_e([qe],Dt.prototype,"_clearRedo",1);_e([qe],Dt.prototype,"_undo",1);_e([qe],Dt.prototype,"_redo",1);_e([qe],Dt.prototype,"_addUndo",1);Dt=_e([Bo(`${yr}/UndoStore`)],Dt);class dt{constructor(t,n,r,o){E(this,"store"),E(this,"_isUndoRecordingDisabled",!1),this.disposer=t,this.subtreeRoot=n,this.options=o,wc()>=6&&io.makeObservable(this),this.store=r??new Dt({})}get undoQueue(){return this.store.undoEvents}get redoQueue(){return this.store.redoEvents}get undoLevels(){return this.undoQueue.length}get canUndo(){return this.undoLevels>0}clearUndo(){this.store._clearUndo()}get redoLevels(){return this.redoQueue.length}get canRedo(){return this.redoLevels>0}clearRedo(){this.store._clearRedo()}undo(){var t;if(!this.canUndo)throw m("nothing to undo");const n=this.undoQueue[this.undoQueue.length-1];Zt(()=>{var r,o,s;vo(n,!0).forEach(i=>{lo(this.subtreeRoot,i.inversePatches,!0)}),(r=n.attachedState)!=null&&r.beforeEvent&&((s=(o=this.options)==null?void 0:o.attachedState)==null||s.restore(n.attachedState.beforeEvent))}),this.store._undo({maxRedoLevels:(t=this.options)==null?void 0:t.maxRedoLevels})}redo(){var t;if(!this.canRedo)throw m("nothing to redo");const n=this.redoQueue[this.redoQueue.length-1];Zt(()=>{var r,o,s;vo(n,!1).forEach(i=>{lo(this.subtreeRoot,i.patches)}),(r=n.attachedState)!=null&&r.afterEvent&&((s=(o=this.options)==null?void 0:o.attachedState)==null||s.restore(n.attachedState.afterEvent))}),this.store._redo({maxUndoLevels:(t=this.options)==null?void 0:t.maxUndoLevels})}dispose(){this.disposer()}get isUndoRecordingDisabled(){return this._isUndoRecordingDisabled}withoutUndo(t){const n=this._isUndoRecordingDisabled;this._isUndoRecordingDisabled=!0;try{return t()}finally{this._isUndoRecordingDisabled=n}}createGroup(t){const n=this.store._startGroup(t,!1,this.options);return{continue(r){n.resume();try{return r()}finally{n.pause()}},end(){n.end()}}}withGroup(t,n){let r,o;typeof t=="string"?(r=t,o=n):o=t;const s=this.store._startGroup(r,!0,this.options);try{return o()}finally{s.end()}}withGroupFlow(t,n){let r,o;typeof t=="string"?(r=t,o=n):o=t;const s=o(),i=this.store._startGroup(r,!1,this.options),a=s.next.bind(s),u=s.throw.bind(s);return new Promise((c,l)=>{function d(_){i.resume();let x;try{x=a(_)}catch(O){i.end(),l(O);return}i.pause(),h(x)}function p(_){i.resume();let x;try{x=u(_)}catch(O){i.end(),l(O);return}i.pause(),h(x)}function h(_){_&&typeof _.then=="function"?_.then(h,l):_.done?(i.end(),c(_.value)):Promise.resolve(_.value).then(d,p)}d(void 0)})}}_e([te],dt.prototype,"undoQueue",1);_e([te],dt.prototype,"redoQueue",1);_e([te],dt.prototype,"undoLevels",1);_e([te],dt.prototype,"canUndo",1);_e([T],dt.prototype,"clearUndo",1);_e([te],dt.prototype,"redoLevels",1);_e([te],dt.prototype,"canRedo",1);_e([T],dt.prototype,"clearRedo",1);_e([T],dt.prototype,"undo",1);_e([T],dt.prototype,"redo",1);let as=!1;function Zt(e){const t=as;as=!0;try{return e()}finally{as=t}}function us(e){return e.type==="value"?e.value:e.value.get()}const cg=()=>Rt("contextValue");class fg{constructor(t){E(this,"defaultContextValue",F.box(void 0,{deep:!1})),E(this,"overrideContextValue",F.box(void 0,{deep:!1})),E(this,"nodeContextValue",new WeakMap),E(this,"nodeAtom",new WeakMap),E(this,"setDefault",T(n=>{this.defaultContextValue.set({type:"value",value:n})})),E(this,"setDefaultComputed",T(n=>{this.defaultContextValue.set({type:"computed",value:te(n)})})),E(this,"set",T((n,r)=>{le(n,"node"),this.nodeContextValue.set(n,{type:"value",value:r}),this.reportNodeAtomChanged(n)})),E(this,"setComputed",T((n,r)=>{this._setComputed(n,te(r))})),E(this,"unset",T(n=>{le(n,"node"),this.nodeContextValue.delete(n),this.reportNodeAtomChanged(n)})),E(this,"apply",T((n,r)=>{const o=this.overrideContextValue.get();this.overrideContextValue.set({type:"value",value:r});try{const s=n();return At(s,!0)&&this.set(s,r),s}finally{this.overrideContextValue.set(o)}})),E(this,"applyComputed",T((n,r)=>{const o=te(r),s=this.overrideContextValue.get();this.overrideContextValue.set({type:"computed",value:o});try{const i=n();return At(i,!0)&&this._setComputed(i,o),i}finally{this.overrideContextValue.set(s)}})),this.setDefault(t)}reportNodeAtomObserved(t){Qe(this.nodeAtom,t,cg).reportObserved()}reportNodeAtomChanged(t){var n;(n=this.nodeAtom.get(t))==null||n.reportChanged()}fastGet(t,n){n&&this.reportNodeAtomObserved(t);const r=this.nodeContextValue.get(t);if(r)return us(r);const o=ar(t,n);if(!o){const s=this.overrideContextValue.get();return s?us(s):this.getDefault()}return this.fastGet(o,n)}get(t){return le(t,"node"),this.fastGet(t,!0)}fastGetProviderNode(t,n){if(n&&this.reportNodeAtomObserved(t),this.nodeContextValue.get(t))return t;const o=ar(t,n);if(o)return this.fastGetProviderNode(o,n)}getProviderNode(t){return le(t,"node"),this.fastGetProviderNode(t,!0)}getDefault(){return us(this.defaultContextValue.get())}_setComputed(t,n){le(t,"node"),this.nodeContextValue.set(t,{type:"computed",value:n}),this.reportNodeAtomChanged(t)}}function pf(e){return new fg(e)}pf(!1);var lg=Object.defineProperty,dg=Object.getOwnPropertyDescriptor,Pi=(e,t,n,r)=>{for(var o=dg(t,n),s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=i(t,n,o)||o);return o&&lg(t,n,o),o};class Cr extends Vo({id:yt(Dn)}){get maybeCurrent(){return this.resolve()}get isValid(){return!!this.maybeCurrent}get current(){const t=this.maybeCurrent;if(!t)throw m(`a reference of type '${this[G]}' could not resolve an object with id '${this.id}'`);return t}}Pi([te],Cr.prototype,"maybeCurrent");Pi([te],Cr.prototype,"isValid");Pi([te],Cr.prototype,"current");var hg=Object.defineProperty,pg=Object.getOwnPropertyDescriptor,Wa=(e,t,n,r)=>{for(var o=r>1?void 0:r?pg(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&hg(t,n,o),o};const Ka=new WeakMap;function gf(e,t,n,r){let o=class extends Cr{constructor(){super(...arguments),E(this,"resolver"),E(this,"savedOldTarget")}resolve(){return this.resolver||(this.resolver=t(this)),this.resolver(this)}internalForceUpdateBackRefs(a){const u=this.savedOldTarget;this.savedOldTarget=a,bg(this,i,a,u)}forceUpdateBackRefs(){this.internalForceUpdateBackRefs(this.maybeCurrent)}onInit(){let a,u=!0;Zu(()=>this.maybeCurrent,f=>{this.internalForceUpdateBackRefs(f);const c=a,l=u;a=f,u=!1,!l&&r&&f!==c&&r(this,f,c)},{fireImmediately:!0})}};Wa([T],o.prototype,"forceUpdateBackRefs",1),o=Wa([Bo(e)],o);const s=a=>{let u;if(typeof a=="string"?u=a:($n(a,"target"),u=n(a)),typeof u!="string")throw m("ref target object must have an id of string type");return new o({id:u})};s.refClass=o;const i=s;return i}function Ci(e){if(ge(e)){const t=e.getRefId();if(t!==void 0&&typeof t!="string")throw m("'getRefId()' must return a string or undefined when present");return t}}const gg=new WeakMap;function vg(e,t,n=Ci){const o=Qe(gg,n,()=>Hh(s=>n(s))).walk(e);return o?o.get(t):void 0}function Nr(e,t){let n=Ka.get(e);if(n||(n={all:F.set(void 0,{deep:!1}),byType:new WeakMap},Ka.set(e,n)),t){let r=n.byType.get(t);return r||(r=F.set(void 0,{deep:!1}),n.byType.set(t,r)),r}else return n.all}const bg=T("updateBackRefs",(e,t,n,r)=>{n!==r&&(r&&(Nr(r).delete(e),Nr(r,t).delete(e)),n&&(Nr(n).add(e),Nr(n,t).add(e)))});Pc({initData(){return{all:new Set,byType:new WeakMap}},addNode(e,t){e instanceof Cr&&(t.all.add(e),Qe(t.byType,e.constructor,()=>new Set).add(e))}});T("customRef",(e,t)=>{var n;const r=(n=t.getId)!=null?n:Ci;return gf(e,()=>t.resolve,r,t.onResolvedValueChange)});T("rootRef",(e,t)=>{var n;const r=(n=t?.getId)!=null?n:Ci,o=t?.onResolvedValueChange;return gf(e,i=>{let a;return()=>{const u=go(i,!0);if(_g(i,u,a,r))return a;const f=vg(u,i.id,r);return f&&(a=f),f}},r,o)});function _g(e,t,n,r){return!(!n||e.id!==r(n)||t!==go(n,!0))}function oe(e,t){return D0(e,t)}function mg(e,...t){return e.splice(...t)}const ye=`${yr}/arrayActions`;oe(`${ye}::set`,(e,t,n)=>{ae(e,t,n)}),oe(`${ye}::delete`,(e,t)=>xt(e,String(t))),oe(`${ye}::setLength`,(e,t)=>{e.length=t}),oe(`${ye}::concat`,(e,...t)=>e.concat(...t)),oe(`${ye}::copyWithin`,(e,t,n,r)=>e.copyWithin(t,n,r)),oe(`${ye}::fill`,(e,t,n,r)=>e.fill(t,n,r)),oe(`${ye}::pop`,e=>e.pop()),oe(`${ye}::push`,(e,...t)=>e.push(...t)),oe(`${ye}::reverse`,e=>e.reverse()),oe(`${ye}::shift`,e=>e.shift()),oe(`${ye}::slice`,(e,t,n)=>e.slice(t,n)),oe(`${ye}::sort`,(e,t)=>e.sort(t)),oe(`${ye}::splice`,mg),oe(`${ye}::unshift`,(e,...t)=>e.unshift(...t)),oe(`${ye}::swap`,(e,t,n)=>{if(t<0||n<0||t>=e.length||n>=e.length)return!1;n<t&&([t,n]=[n,t]);const[r]=e.splice(t,1),[o]=e.splice(n-1,1);return e.splice(t,0,o),e.splice(n,0,r),!0});const Lr=`${yr}/objectActions`;oe(`${Lr}::set`,(e,t,n)=>{ft(e)?ae(e,t,n):e[t]=n}),oe(`${Lr}::assign`,(e,t)=>{$n(t,"partialObject");const n=Object.keys(t);if(ft(e))for(const r of n){const o=t[r];ae(e,r,o)}else for(const r of n)e[r]=t[r]}),oe(`${Lr}::delete`,(e,t)=>xt(e,t)),oe(`${Lr}::call`,(e,t,...n)=>e[t](...n));T(e=>{const t=Ke(()=>Oo(()=>{const o=F.map(),s=Object.keys(e);for(let i=0;i<s.length;i++){const a=s[i];o.set(a,e[a])}return o}));t.dataObject=e;let n=!1,r=!1;return Co(e,T(o=>{if(!n){r=!0;try{switch(o.type){case"add":case"update":{t.set(o.name,o.newValue);break}case"remove":{t.delete(o.name);break}default:throw m("assertion error: unsupported object change type")}}finally{r=!1}}})),Po(t,T(o=>{if(n)return null;if(r)return o;n=!0;try{switch(o.type){case"add":case"update":{ae(e,o.name,o.newValue);break}case"delete":{xt(e,o.name);break}default:throw m("assertion error: unsupported map change type")}return o}finally{n=!1}})),t});var yg=Object.defineProperty,wg=Object.getOwnPropertyDescriptor,Vn=(e,t,n,r)=>{for(var o=wg(t,n),s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=i(t,n,o)||o);return o&&yg(t,n,o),o};class Bn{constructor(t){E(this,"data"),E(this,"originalData"),le(t,"original"),this.originalData=t,this.data=Ht(this.originalSnapshot,{generateNewIds:!1})}commit(){ka(this.originalData,we(this.data))}commitByPath(t){const n=rs(this.data,t);if(!n.resolved)throw m(`path ${JSON.stringify(t)} could not be resolved in draft object`);const r=cs(this.data,t);if(!os(this.originalData,t,r).resolved)throw m(`path ${JSON.stringify(t)} could not be resolved in original object`);lo(this.originalData,[{path:t,op:"replace",value:we(n.value)}])}reset(){ka(this.data,this.originalSnapshot)}resetByPath(t){const n=rs(this.originalData,t);if(!n.resolved)throw m(`path ${JSON.stringify(t)} could not be resolved in original object`);const r=cs(this.originalData,t);if(!os(this.data,t,r).resolved)throw m(`path ${JSON.stringify(t)} could not be resolved in draft object`);lo(this.data,[{path:t,op:"replace",value:we(n.value)}])}get isDirty(){return!$s(we(this.data),this.originalSnapshot)}isDirtyByPath(t){const n=rs(this.data,t);if(!n.resolved)throw m(`path ${JSON.stringify(t)} could not be resolved in draft object`);const r=cs(this.data,t),o=os(this.originalData,t,r);return o.resolved?!$s(n.value,o.value):!0}get originalSnapshot(){return we(this.originalData)}}Vn([T],Bn.prototype,"commit");Vn([T],Bn.prototype,"commitByPath");Vn([T],Bn.prototype,"reset");Vn([T],Bn.prototype,"resetByPath");Vn([te],Bn.prototype,"isDirty");Vn([te],Bn.prototype,"originalSnapshot");function cs(e,t){const n=z0(e,t);return n.length>0&&(n[n.length-1]=of),n}pf();var xg=Object.defineProperty,Og=Object.getOwnPropertyDescriptor,zo=(e,t,n,r)=>{for(var o=r>1?void 0:r?Og(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&xg(t,n,o),o};let ur=class extends Vo({[ke]:ai,items:yt(Ds(Rn()),()=>[])}){constructor(){super(...arguments),E(this,ha,"ArraySet")}add(e){const t=this.items;return t.includes(e)||t.push(e),this}clear(){this.items.length=0}delete(e){const t=this.items,n=t.findIndex(r=>r===e);return n>=0?(t.splice(n,1),!0):!1}forEach(e,t){const n=this.items,r=n.length;for(let o=0;o<r;o++){const s=n[o];e.call(t,s,s,this)}}has(e){return this.items.includes(e)}get size(){return this.items.length}*keys(){for(const e of eo(this.items))yield e}*values(){for(const e of eo(this.items))yield e}*entries(){for(const e of this.items)yield[e,e]}[(pa=Symbol.iterator,ha=Symbol.toStringTag,pa)](){return this.values()}union(e){return new Set(this).union(e)}intersection(e){return new Set(this).intersection(e)}difference(e){return new Set(this).difference(e)}symmetricDifference(e){return new Set(this).symmetricDifference(e)}isSubsetOf(e){return new Set(this).isSubsetOf(e)}isSupersetOf(e){return new Set(this).isSupersetOf(e)}isDisjointFrom(e){return new Set(this).isDisjointFrom(e)}};zo([qe],ur.prototype,"add",1);zo([qe],ur.prototype,"clear",1);zo([qe],ur.prototype,"delete",1);ur=zo([Bo(`${yr}/ArraySet`)],ur);function Sg(e){const t=n=>new Ag(n,ln(e));return Pt(()=>{const n=he(e),r=(...i)=>`Record<${n.getTypeName(...i,n)}>`,o=(i,a)=>{if(n.unchecked)return i;const u={},f=Object.keys(i);for(let c=0;c<f.length;c++){const l=f[c],d=a==="from"?n.fromSnapshotProcessor(i[l]):n.toSnapshotProcessor(i[l]);u[l]=d}return u},s=new Oe($e.Object,(i,a,u)=>{if(!ze(i))return new Fe(a,r(s),i,u);if(!n.unchecked){const f=Object.keys(i);for(let c=0;c<f.length;c++){const l=f[c],d=i[l],p=n.check(d,[...a,l],u);if(p)return p}}return null},r,t,i=>{if(!ze(i))return null;if(!n.unchecked){const a=Object.keys(i);for(let u=0;u<a.length;u++){const f=a[u],c=i[f];if(!n.snapshotType(c))return null}}return s},i=>o(i,"from"),i=>o(i,"to"));return s},t)}class Ag extends Ge{constructor(t,n){super(t),this.valueType=n}get valueTypeInfo(){return fn(this.valueType)}}var Pg=Object.defineProperty,Cg=Object.getOwnPropertyDescriptor,Fo=(e,t,n,r)=>{for(var o=r>1?void 0:r?Cg(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&Pg(t,n,o),o};let cr=class extends Vo({[ke]:ai,items:yt(Sg(Rn()),()=>({}))}){constructor(){super(...arguments),E(this,ga,"ObjectMap")}clear(){const e=this.items,t=Object.keys(e),n=t.length;for(let r=0;r<n;r++){const o=t[r];xt(e,o)}}delete(e){return this.has(e)?(xt(this.items,e),!0):!1}forEach(e,t){const n=this.items,r=Object.keys(n),o=r.length;for(let s=0;s<o;s++){const i=r[s];e.call(t,n[i],i,this)}}get(e){return nc(this.items,e)}has(e){return Xs(this.items,e)}set(e,t){return ae(this.items,e,t),this}get size(){return rn(this.items).length}*keys(){for(const e of rn(this.items))yield e}*values(){for(const e of eo(this.items))yield e}*entries(){for(const e of tc(this.items))yield e}[(va=Symbol.iterator,ga=Symbol.toStringTag,va)](){return this.entries()}};Fo([qe],cr.prototype,"clear",1);Fo([qe],cr.prototype,"delete",1);Fo([qe],cr.prototype,"set",1);cr=Fo([Bo(`${yr}/ObjectMap`)],cr);function vf(e,t,n){const r=o=>new Rg(o,ln(e),t,n);return Pt(()=>{const o=he(e),s=(...a)=>{const u=o.getTypeName(...a,o);return`${n||"refinementOf"}<${u}>`},i=new Oe(o.baseType,(a,u,f)=>{const c=o.check(a,u,f);if(c)return c;const l=t(a);return l===!0||l==null?null:l===!1?new Fe(u,s(i),a,f):new Fe(l.path,l.expectedTypeName,l.actualValue,f)},s,r,a=>o.snapshotType(a),a=>o.fromSnapshotProcessor(a),a=>o.toSnapshotProcessor(a));return i},r)}class Rg extends Ge{constructor(t,n,r,o){super(t),this.baseType=n,this.checkFunction=r,this.typeName=o}get baseTypeInfo(){return fn(this.baseType)}}vf(Lo,e=>Number.isInteger(e),"integer");vf(Dn,e=>e!=="","nonEmpty");class Sb extends Kt{constructor(t){super(t),sc(this,{_m:F,set:T,delete:T,clear:T})}}const Ab=e=>{const t=Zr.createContext(void 0),n=()=>Zr.useContext(t);return{ctx:t,use:()=>Jf(n(),()=>`"${e}" is not provided`),useIfProvided:n,provider:t.Provider}};function Tg(e,t,n,r){var o=arguments.length,s=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}class bf{constructor(){Ne(this,"callback",null);Ne(this,"ref",{observer:()=>this.observer,_current:null,get current(){return this._current},set current(t){this._current!==t&&(this._current&&this.observer().unobserve(this._current),this._current=t,t&&this.observer().observe(t))}})}setCallback(t){this.callback=t}get observer(){return new ResizeObserver(t=>this.observed(t))}observed(t){if(!this.callback)return;const n=t.find(r=>r.target===this.ref.current);n&&this.callback(n)}destroy(){this.ref.current=null}}Tg([jn],bf.prototype,"observer",null);const Pb=e=>{const t=Zr.useRef(void 0);return t.current||(t.current=new bf),t.current.callback=e,Zr.useEffect(()=>()=>{t.current&&(t.current.destroy(),t.current=void 0)},[]),t.current};const{abs:Tn,atan2:_f,cos:Wt,floor:jg,log:vt,min:mf,max:Ri,round:de,sign:Za,sin:kg,sqrt:qr,cbrt:Eg,PI:ot,hypot:yf}=Math;function pe(e,t,n){return e+(t-e)*n}function Mg(e,t,n){return(n-e)/(t-e)}function se(e,t=0,n=1){return e<t?t:e>n?n:e}function fs(e,t,n,r=1e-8){let o=t,s;for(;n--&&Tn(s=e(o))>r;){const i=(e(o+r)-s)/r;console.log("fx / dfdx",s/i,"fx",s,"x",o),o=o-s/i}return o}function $g(e,t,n,r){let o=e(t);for(;r--;){const s=(t+n)/2,i=e(s);Za(o)==Za(i)?(t=s,o=i):n=s}return(t+n)/2}const Vs=ot/180,Ti=180/ot;function fr(...e){return e[0]instanceof et?e[0]:e.length>1&&typeof e[e.length-1]=="string"?It(e.slice(0,e.length-1),e[e.length-1]):Array.isArray(e[0])?It(e[0]):It(e)}class et{constructor(t,n,r,o=1){this.r=t,this.g=n,this.b=r,this.a=o}mix(t,n,r="rgb"){return Wr(this,t,n,r)}rgb(t=!0,n=!0){const r=a=>(t&&(a=de(a)),n&&(a=se(a,0,255)),a),{r:o,g:s,b:i}=this;return[r(o),r(s),r(i)]}rgba(t=!0,n=!0){const r=u=>(t&&(u=de(u)),n&&(u=se(u,0,255)),u),{r:o,g:s,b:i,a}=this;return[r(o),r(s),r(i),a]}hex(t="rgb"){const{r:n,g:r,b:o,a:s}=this;return Bg(n,r,o,s,t)}hsl(){const{r:t,g:n,b:r}=this;return ov(t,n,r)}hsv(){const{r:t,g:n,b:r}=this;return iv(t,n,r)}hcg(){const{r:t,g:n,b:r}=this;return uv(t,n,r)}css(t="rgb"){if(t=="rgb"){const{r:n,g:r,b:o,a:s}=this;return Zg(n,r,o,s)}else{if(t=="hsl")return Jg(this.hsl(),this.alpha());throw new Error}}name(t=!1){const n=this.num(),r=Object.keys(bt).find(o=>bt[o]==n);if(!r&&t){const[o,s,i]=this.lab();return gv(Object.keys(bt),a=>{const[u,f,c]=wf(bt[a]).lab();return-yf(o-u,s-f,i-c)})}return r}cmyk(){const{r:t,g:n,b:r}=this;return ev(t,n,r)}gl(){const{r:t,g:n,b:r,a:o}=this;return[t/255,n/255,r/255,o]}luminance(t){const{r:n,g:r,b:o,a:s}=this,[,i]=Bs(n,r,o);if(t===void 0)return i;const a=(u,f,c)=>(c-u)/(f-u);return t>i?Wr(this,Ha,a(i,1,t),"xyz").alpha(s):Wr(Ja,this,a(0,i,t),"xyz").alpha(s)}temperature(){const{r:t,g:n,b:r}=this;return rv(t,n,r)}set(t,n){const[r,o]=t.split("."),s=this[r](),i=r.indexOf(o);if(i==-1)throw new Error("invalid channel");return s[i]=typeof n=="number"?n:n(s[i]),fr(s,r).alpha(this.a)}clipped(){const{r:t,g:n,b:r}=this;return!(0<=t&&t<=255&&0<=n&&n<=255&&0<=r&&r<=255)}textColor(){return this.luminance()>.5?Ja:Ha}alpha(t){if(t===void 0)return this.a;const{r:n,g:r,b:o}=this;return Ya(n,r,o,t)}darker(t=1){const[n,r,o]=this.lab();return Lg(n-nu*t,r,o,this.alpha())}brighter(t=1){return this.darker(-t)}saturate(t=1){const[n,r,o]=this.lch();return Ng(n,Ri(0,r+t*nu),o,this.alpha())}desaturate(t=1){return this.saturate(-t)}premultiplied(){const{r:t,g:n,b:r,a:o}=this;return Ya(t*o,n*o,r*o,o)}hsi(){const{r:t,g:n,b:r}=this;return pv(t,n,r)}lab(){const{r:t,g:n,b:r}=this;return jf(t,n,r)}num(t="rgb"){const{r:n,g:r,b:o,a:s}=this;return zg(n,r,o,s,t)}lch(){const{r:t,g:n,b:r}=this;return Qg(t,n,r)}xyz(){const{r:t,g:n,b:r}=this;return Bs(t,n,r)}equals(t){const{r:n,g:r,b:o,a:s}=this,{r:i,g:a,b:u,a:f}=t;return n==i&&r==a&&o==u&&s==f}hashCode(){return this.num("rgba")}toSource(){const{r:t,g:n,b:r,a:o}=this;return"chroma.rgb("+t+", "+n+", "+r+(o===1?")":", "+o+")")}}et.prototype.toString=et.prototype.css;et.prototype.kelvin=et.prototype.temperature;const Ja=new et(0,0,0,1),Ha=new et(255,255,255,1),Ig={OrRd:[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072],PuBu:[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496],BuPu:[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347],Oranges:[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060],BuGn:[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435],YlOrBr:[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150],YlGn:[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705],Reds:[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221],RdPu:[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234],Greens:[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435],YlGnBu:[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800],Purples:[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893],GnBu:[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801],Greys:[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0],YlOrRd:[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646],PuRd:[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239],Blues:[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683],PuBuGn:[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510],Viridis:[4456788,4728695,4147850,3237774,2524047,2071946,7130714,11984427,16705573],Spectral:[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770],RdYlGn:[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679],RdBu:[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065],PiYG:[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529],PRGn:[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435],RdYlBu:[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237],BrBG:[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408],RdGy:[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618],PuOr:[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195],Set2:[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947],Accent:[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886],Set1:[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329],Set3:[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463],Dark2:[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886],Paired:[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696],Pastel2:[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772],Pastel1:[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906]},bt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflower:6591981,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,laserlemon:16777044,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrod:16448210,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,maroon2:8323072,maroon3:11546720,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,purple2:8323199,purple3:10494192,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Wr(e,t,n=.5,r="rgb"){const o=fr(e),s=fr(t),i=Ve[r]&&Ve[r](o,s,n,r);if(!i)throw new Error("color mode "+r+" is not supported");return i.alpha(pe(o.alpha(),s.alpha(),n))}function Cb(e){const[t,n,r,o]=Sf(e);return new et(t,n,r,o)}function Ng(...e){return It(e,"lch")}function Xa(...e){return It(e,"hsl")}function Lg(...e){return It(e,"lab")}function wf(e){const[t,n,r]=Uo(e);return new et(t,n,r)}function Ya(...e){return It(e,"rgb")}function Qa(...e){const t=(n=>t._at(n));return Object.getOwnPropertyNames(eu.prototype).forEach(n=>t[n]=eu.prototype[n]),Array.isArray(e[0])&&(e=e[0]),e.length==1&&typeof e[0]=="string"&&(e=Ig[e[0]]),t._init(typeof e[0]=="function"?e[0]:e.map(n=>fr(n))),t}class eu{classes(t){if(t===void 0)return this._classes;if(Array.isArray(t))this._classes=t,this.domain(t[0],t[t.length-1]);else{if(t%1!=0||t<1)throw new Error("invalid classes param");this._classes=xf(this.domain(),"e",t)}return this}domain(...t){if(t[0]===void 0)return typeof this._colors!="function"?this._pos.map(n=>pe(this._min,this._max,n)):[this._min,this._max];if(this._min=t[0],this._max=t[t.length-1],t.length==2)typeof this._colors!="function"&&(this._pos=this._colors.map((n,r)=>r/(this._colors.length-1)));else if(typeof this._colors!="function"&&t.length==this._colors.length)this._pos=t.map(n=>Mg(this._min,this._max,n));else throw new Error("invalid domain "+t);return this}mode(t){return t===void 0?this._mode:(this._mode=t,this._resetCache(),this)}out(t){return this._out=t,this}correctLightness(t=!0){if(this._correctLightness!=t){this._resetCache();const n=this._colors;if(t&&typeof n!="function"){let r=0;for(let o=1;o<n.length;o++){const s=n[o].lab()[0]-n[o-1].lab()[0];if(r==0)r=s;else if(r*s<0)throw new Error("scale color lightnesses must be monotonic")}}}return this._correctLightness=t,this}padding(t,n=t){return t?(this._paddingLeft=t,this._paddingRight=n,this):[this._paddingLeft,this._paddingRight]}colors(t,n="hex"){let r;if(t===void 0)r=this._colors.slice();else if(t==1)r=[this._color((this._min+this._max)/2)];else if(t>1)r=Array.from({length:t},(o,s)=>this._color(pe(this._min,this._max,s/(t-1))));else{let o;this._classes&&this._classes.length>2?o=Array.from({length:this._classes.length-1},(s,i)=>(this._classes[i]+this._classes[i+1])*.5):o=this.domain(),r=o.map(s=>this._color(s))}return n!="color"?r.map(o=>o[n]()):r}cache(t){return t===void 0?!!this._cache:(this._cache=t?this._cache||new Map:void 0,this)}gamma(t){return t===void 0?this._gamma:(this._gamma=t,this)}_at(t){const n=this._color(t);return this._out?n[this._out]():n}_init(t){this._colors=t,typeof t!="function"&&(this._pos=t.map((n,r)=>r/(t.length-1))),this._mode="rgb",this.domain(0,1),this._paddingLeft=0,this._paddingRight=0,this._correctLightness=!1,this._cache=new Map,this._gamma=1}_getClass(t){return this._classes.findIndex(n=>t<=n)-1}_color(t,n=!1){let r;if(n)r=t;else{const i=this._min,a=this._max;this._classes&&this._classes.length>2?r=this._getClass(t)/(this._classes.length-2):a!==i?r=(t-i)/(a-i):r=1,this._correctLightness&&(r=this._tCorrectedLightness(r))}r=r**this._gamma,r=(this._paddingLeft+r)/(1+this._paddingLeft+this._paddingRight),r=se(r,0,1);const o=r,s=this._cache&&this._cache.get(o);if(s)return s;{let i;if(Array.isArray(this._colors))for(let a=0;a<this._pos.length;a++){const u=this._pos[a];if(r<=u){i=this._colors[a];break}if(r>=u&&a==this._pos.length-1){i=this._colors[a];break}if(r>u&&r<this._pos[a+1]){r=(r-u)/(this._pos[a+1]-u),i=Wr(this._colors[a],this._colors[a+1],r,this._mode);break}}else i=this._colors(r);return this._cache&&this._cache.set(o,i),i}}_tCorrectedLightness(t){const n=this._color(0,!0).lab()[0],r=this._color(1,!0).lab()[0],o=pe(n,r,t);return $g(s=>this._color(s,!0).lab()[0]-o,0,1,8)}_resetCache(){this._cache&&this._cache.clear()}}var tu;(function(e){function t(){return Qa([Xa(180,1,.9),Xa(250,.7,.4)])}e.cool=t;function n(){return Qa(["#000","#f00","#ff0","#fff"]).mode("rgb")}e.hot=n})(tu||(tu={}));function Dg(e){const t={min:1/0,max:-1/0,sum:0,values:[],count:0};function n(r){r!=null&&!isNaN(r)&&(t.values.push(r),t.sum+=r,r<t.min&&(t.min=r),r>t.max&&(t.max=r),t.count+=1)}return e.forEach(r=>n(r)),t.domain=[t.min,t.max],t.limits=function(r,o){return xf(this,r,o)},t}function xf(e,t="e",n=7){const r=Array.isArray(e)?Dg(e):e,{min:o,max:s,values:i}=r;if(i.sort((a,u)=>a-u),n==1)return[o,s];if(t.startsWith("c"))return[o,s];if(t.startsWith("e"))return Array.from({length:n+1},(a,u)=>pe(o,s,u/n));if(t.startsWith("l")){if(o<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*vt(o),u=Math.LOG10E*vt(s);return Array.from({length:n+1},(f,c)=>10**pe(a,u,c/n))}else{if(t.startsWith("q"))return Array.from({length:n+1},(a,u)=>{const f=(i.length-1)*u/n,c=jg(f);return c==f?i[c]:pe(i[c],i[c+1],f-c)});if(t.startsWith("k")){const a=i.length,u=new Array(a),f=new Array(n);let c=!0,l=0,d=Array.from({length:n+1},(x,O)=>pe(o,s,O/n));do{f.fill(0);for(let O=0;O<i.length;O++){const b=i[O],v=Ef(d,y=>-Tn(y-b));f[v]++,u[O]=v}const x=new Array(n).fill(0);for(let O=0;O<u.length;O++){const b=u[O];x[b]+=i[O]}for(let O=0;O<x.length;O++)x[O]/=f[O];c=x.some((O,b)=>O!=d[b]),d=x}while(l++<200&&c);const p=Array.from({length:n},()=>[]);for(let x=0;x<u.length;x++){const O=u[x];p[O].push(i[x])}const h=[];for(const x of p)h.push(x[0],x[x.length-1]);h.sort((x,O)=>x-O);const _=[];_.push(h[0]);for(let x=1;x<h.length;x+=2){const O=h[x];!isNaN(O)&&_.indexOf(O)==-1&&_.push(O)}return _}else throw new Error("unknown mode")}}const Ve={},ne={};function Vg(e,t,n,r){const o=e[r](),s=t[r]();return It([pe(o[0],s[0],n),pe(o[1],s[1],n),pe(o[2],s[2],n),pe(e.alpha(),t.alpha(),n)],r)}Ve.xyz=Ve.rgb=Ve.lab=Vg;Ve.num=function(e,t,n){const r=e.num(),o=t.num();return wf(pe(r,o,n))};Ve.lrgb=function(e,t,n){const[r,o,s,i]=e.rgba(!1,!1),[a,u,f,c]=t.rgba(!1,!1);return new et(qr(r**2*(1-n)+a**2*n),qr(o**2*(1-n)+u**2*n),qr(s**2*(1-n)+f**2*n),pe(i,c,n))};function It(e,t){if(Array.isArray(e[0])&&(e=e[0]),!t)if(e.length==1&&e[0]in bt)t="name";else if(e.length==1&&typeof e[0]=="string")t="css";else if(e.length==3)t="rgb";else if(e.length==4&&typeof e[3]=="number"&&e[3]>=0&&e[3]<=1)t="rgb";else if(e.length==1&&typeof e[0]=="number"&&e[0]>=0&&e[0]<=16777215)t="num";else throw new Error("could not guess mode. args "+JSON.stringify(e));const n=ne[t](...e);return new et(n[0],n[1],n[2],n[3]!==void 0?n[3]:1)}function Of(e){let t;if(t=e.match(/^#?([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})?$/i))return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),t[4]?parseInt(t[4],16)/255:1];if(t=e.match(/^#?([A-F\d])([A-F\d])([A-F\d])([A-F\d])?$/i))return[parseInt(t[1],16)*17,parseInt(t[2],16)*17,parseInt(t[3],16)*17,t[4]?parseInt(t[4],16)*17/255:1];throw new Error("invalid hex color: "+e)}function Bg(e,t,n,r,o="rgb"){e=se(de(e),0,255),t=se(de(t),0,255),n=se(de(n),0,255);const i=(e<<16|t<<8|n).toString(16).padStart(6,"0"),a=de(se(r)*255).toString(16).padStart(2,"0");return"#"+(o=="argb"?a+i:o=="rgba"?i+a:i)}ne.lrgb=ne.rgb;ne.hex=Of;ne.hsl=Af;function Go(e){return(e%360+360)%360}ne.hsv=sv;function Uo(e){if(!(typeof e=="number"&&e>=0&&e<=16777215))throw new Error("unknown num color: "+e);const t=e>>16,n=e>>8&255,r=e&255;return[t,n,r,1]}function zg(e,t,n,r=1,o="rgb"){const s=de(e)<<16|de(t)<<8|de(n);return o==="rgb"?s:o==="rgba"?s<<8|de(r*255)<<24:de(r*255)<<24|s}ne.num=Uo;const zn="\\s*",X="([+-]?(?:\\d*\\.?)?\\d+(?:[eE][+-]?\\d+)?)",Fg=new RegExp(["^rgba?\\(",X,",",X,",",X,"(?:,",X+"(%)?",")?\\)$"].join(zn),"i"),Gg=new RegExp(["^rgba?\\(",X,X,X,"(?:/",X+"(%)?",")?\\)$"].join(zn),"i"),Ug=new RegExp(["^rgba?\\(",X+"%",",",X+"%",",",X+"%","(?:,",X+"(%)?",")?\\)$"].join(zn),"i"),qg=new RegExp(["^rgba?\\(",X+"%",X+"%",X+"%","(?:/",X+"(%)?",")?\\)$"].join(zn),"i"),Wg=new RegExp(["^hsla?\\(",X+"(deg|rad|turn)?",",",X+"%",",",X+"%","(?:,",X+"(%)?",")?\\)$"].join(zn),"i"),Kg=new RegExp(["^hsla?\\(",X+"(deg|rad|turn)?\\s+"+X+"%",X+"%","(?:/",X+"(%)?",")?\\)$"].join(zn),"i");function Sf(e){if(bt&&bt.hasOwnProperty(e))return Uo(bt[e.toLowerCase()]);let t;if(t=e.match(Fg)||e.match(Gg))return[se(+t[1],0,255),se(+t[2],0,255),se(+t[3],0,255),t[4]?se(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(Ug)||e.match(qg))return[se(+t[1]/100)*255,se(+t[2]/100)*255,se(+t[3]/100)*255,t[4]?se(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(Wg)||e.match(Kg)){const n={deg:1,rad:Ti,turn:360},r=t[2]?t[2].toLowerCase():"deg";return Af((+t[1]*n[r]%360+360)%360,se(+t[3]/100),se(+t[4]/100),t[5]?se(t[6]?+t[5]/100:+t[5]):1)}else return Of(e)}function Zg(e,t,n,r=1){return r>=1?"rgb("+[e,t,n].map(de).join(",")+")":"rgba("+[e,t,n].map(de).join(",")+","+r+")"}function Dr(e){return de(e*100)/100}function Jg([e,t,n],r){const o=r<1?"hsla":"hsl";return o+"("+Dr(e)+","+Dr(t*100)+"%,"+Dr(n*100)+"%"+(o=="hsla"?","+Dr(r):"")+")"}ne.css=Sf;ne.name=function(e){return Uo(bt[e])};function Hg(e,t,n){return[e,Wt(n*Vs)*t,kg(n*Vs)*t]}function Xg(e,t,n,r=1){const[,o,s]=Hg(e,t,n);return Pf(e,o,s,r)}function Yg(e,t,n){const r=yf(t,n),o=(_f(n,t)*Ti+360)%360;return[e,r,o]}function Qg(e,t,n){const[r,o,s]=jf(e,t,n);return Yg(r,o,s)}ne.lch=Xg;function ev(e,t,n){e/=255,t/=255,n/=255;const r=1-Ri(e,t,n);if(r==1)return[0,0,0,1];const o=(1-e-r)/(1-r),s=(1-t-r)/(1-r),i=(1-n-r)/(1-r);return[o,s,i,r]}function tv(e,t,n,r,o=1){if(r==1)return[0,0,0,o];const s=255*(1-e)*(1-r),i=255*(1-t)*(1-r),a=255*(1-n)*(1-r);return[s,i,a,o]}ne.cmyk=tv;ne.gl=function(e,t,n,r=1){return[e*255,t*255,n*255,r]};function ls(e){const t=e/255;return t<=.04045?t/12.92:((t+.055)/1.055)**2.4}function ds(e){return e<=.0031308?255*(12.92*e):255*((1+.055)*e**(1/2.4)-.055)}function nv(e){const t=e/100;let n,r,o;return t<66?(n=255,r=-155.25485562709179-.44596950469579133*(t-2)+104.49216199393888*vt(t-2),o=t<20?0:-254.76935184120902+.8274096064007395*(t-10)+115.67994401066147*vt(t-10)):(n=351.97690566805693+.114206453784165*(t-55)-40.25366309332127*vt(t-55),r=325.4494125711974+.07943456536662342*(t-50)-28.0852963507957*vt(t-50),o=255),[n,r,o]}ne.rgb=(...e)=>e;function rv(e,t,n){return console.log(n-e),t+n<158.61?(console.log("0 < t < 20"),de(fs(r=>t-(-155.25485562709179-.44596950469579133*(r-2)+104.49216199393888*vt(r-2)),15,4)*100)):n-e<0?(console.log("20 < t < 66"),de(fs(r=>n-(-254.76935184120902+.8274096064007395*(r-10)+115.67994401066147*vt(r-10)),43,4)*100)):(console.log("0 < t < 400, start= "+(-1.4*(e+t)+755)),de(fs(r=>e-(351.97690566805693+.114206453784165*(r-55)-40.25366309332127*vt(r-55)),-1.4*(e+t)+755,8)*100))}ne.temperature=ne.kelvin=ne.K=nv;function ji(e,t,n){const r=mf(e,t,n),o=Ri(e,t,n),s=o-r;let i;return s==0?i=0:e==o?i=(t-n)/s+(t<n?6:0):t==o?i=2+(n-e)/s:i=4+(e-t)/s,[i*60,r,o]}function ki(e,t,n,r,o){const s=r*255,i=t*255+s,a=n*255+s;return e<60?[i,a,s,o]:e<120?[a,i,s,o]:e<180?[s,i,a,o]:e<240?[s,a,i,o]:e<300?[a,s,i,o]:[i,s,a,o]}function Af(e,t,n,r=1){e=Go(e);const o=(1-Tn(2*n-1))*t;return ki(e,o,o*(1-Tn(e/60%2-1)),n-o/2,r)}function ov(e,t,n){const[r,o,s]=ji(e/255,t/255,n/255),i=(s+o)/2;let a;return s==o?a=0:a=i<.5?(s-o)/(s+o):(s-o)/(2-s-o),[r,a,i]}function sv(e,t,n,r=1){e=Go(e);const o=n*t;return ki(e,o,o*(1-Tn(e/60%2-1)),n-o,r)}function iv(e,t,n){const[r,o,s]=ji(e,t,n),i=s-o,a=s/255,u=s==0?0:i/s;return[r,u,a]}function av(e,t,n,r=1){e=Go(e);const o=n*(1-t);return ki(e,t,t*(1-Tn(e/60%2-1)),o,r)}function uv(e,t,n){const[r,o,s]=ji(e,t,n),i=(s-o)/255,a=i<1?o/255/(1-i):0;return[r,i,a]}ne.hcg=av;function Pf(e,t,n,r=1){const[o,s,i]=cv(e,t,n);return kf(o,s,i,r)}function cv(e,t,n){function r(o){return o>lv?o**3:Tf*(o-4/29)}return[Cf*r((e+16)/116+t/500),Kr*r((e+16)/116),Rf*r((e+16)/116-n/200)]}function fv(e,t,n){function r(o){return o>dv?Eg(o):o/Tf+4/29}return[116*r(t/Kr)-16,500*(r(e/Cf)-r(t/Kr)),200*(r(t/Kr)-r(n/Rf))]}const nu=18,Cf=.95047,Kr=1,Rf=1.08883,lv=.206896552,Tf=.12841855,dv=.008856452;function jf(e,t,n){const[r,o,s]=Bs(e,t,n);return fv(r,o,s)}function Bs(e,t,n){const r=ls(e),o=ls(t),s=ls(n),i=.4124564*r+.3575761*o+.1804375*s,a=.2126729*r+.7151522*o+.072175*s,u=.0193339*r+.119192*o+.9503041*s;return[i,a,u]}function kf(e,t,n,r=1){const o=3.2404542*e-1.5371385*t-.4985314*n,s=-.969266*e+1.8760108*t+.041556*n,i=.0556434*e-.2040259*t+1.0572252*n;return[ds(o),ds(s),ds(i),r]}ne.xyz=kf;ne.lab=Pf;function hv(e,t,n,r=1){let o,s,i,a=e*Vs;return a<2*ot/3?(i=(1-t)/3,o=(1+t*Wt(a)/Wt(ot/3-a))/3,s=1-(i+o)):a<4*ot/3?(a-=2*ot/3,o=(1-t)/3,s=(1+t*Wt(a)/Wt(ot/3-a))/3,i=1-(o+s)):(a-=4*ot/3,s=(1-t)/3,i=(1+t*Wt(a)/Wt(ot/3-a))/3,o=1-(s+i)),[3*n*o*255,3*n*s*255,3*n*i*255,r]}function pv(e,t,n){const r=e/255,o=t/255,s=n/255,i=(r+o+s)/3;if(r==o&&o==s)return[0,0,i];{const a=.5*(2*r-o-s),u=qr(3)/2*(o-s),f=_f(u,a),l=1-mf(r,o,s)/i;return[(f<0?2*ot+f:f)*Ti,l,i]}}ne.hsi=hv;Ve.hsv=Ve.hsl=Ve.hsi=Ve.lch=Ve.hcg=function(t,n,r,o){const[s,i,a]=t[o](),[u,f,c]=n[o]();function l(d,p,h){const _=Go(p-d+180)-180;return d+h*_}return fr((o.charAt(0)=="h"?l:pe)(s,u,r),pe(i,f,r),(o.charAt(2)=="h"?l:pe)(a,c,r),o)};function Ef(e,t){let n=-1/0,r=-1;for(let o=0;o<e.length;o++){const s=t(e[o]);s>n&&(n=s,r=o)}return r}function gv(e,t){return e[Ef(e,t)]}function re(e,t,n){function r(a,u){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:u,constr:i,traits:new Set},enumerable:!1}),a._zod.traits.has(e))return;a._zod.traits.add(e),t(a,u);const f=i.prototype,c=Object.keys(f);for(let l=0;l<c.length;l++){const d=c[l];d in a||(a[d]=f[d].bind(a))}}const o=n?.Parent??Object;class s extends o{}Object.defineProperty(s,"name",{value:e});function i(a){var u;const f=n?.Parent?new s:this;r(f,a),(u=f._zod).deferred??(u.deferred=[]);for(const c of f._zod.deferred)c();return f}return Object.defineProperty(i,"init",{value:r}),Object.defineProperty(i,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class rr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const vv={};function Fn(e){return vv}function bv(e,t){return typeof t=="bigint"?t.toString():t}function _v(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const ru=Symbol("evaluating");function pt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==ru)return r===void 0&&(r=ru,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}const Mf="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function ou(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function mv(e){if(ou(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(ou(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function yv(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function hn(e){return{}}function Xn(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Yn(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Vr(e){return typeof e=="string"?e:e?.message}function Gn(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=Vr(e.inst?._zod.def?.error?.(e))??Vr(t?.error?.(e))??Vr(n.customError?.(e))??Vr(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}const $f=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,bv,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},wv=re("$ZodError",$f),qo=re("$ZodError",$f,{Parent:Error}),xv=e=>(t,n,r,o)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new rr;if(i.issues.length){const a=new(o?.Err??e)(i.issues.map(u=>Gn(u,s,Fn())));throw Mf(a,o?.callee),a}return i.value},Ov=xv(qo),Sv=e=>async(t,n,r,o)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise&&(i=await i),i.issues.length){const a=new(o?.Err??e)(i.issues.map(u=>Gn(u,s,Fn())));throw Mf(a,o?.callee),a}return i.value},Av=Sv(qo),Pv=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new rr;return s.issues.length?{success:!1,error:new(e??wv)(s.issues.map(i=>Gn(i,o,Fn())))}:{success:!0,data:s.value}},If=Pv(qo),Cv=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(i=>Gn(i,o,Fn())))}:{success:!0,data:s.value}},Nf=Cv(qo),Rv=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Tv=/^-?\d+(?:\.\d+)?/,jv=/^(?:true|false)$/i,kv=/^null$/i,Ev={major:4,minor:1,patch:13},Et=re("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Ev;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(i,a,u)=>{let f=Xn(i),c;for(const l of a){if(l._zod.def.when){if(!l._zod.def.when(i))continue}else if(f)continue;const d=i.issues.length,p=l._zod.check(i);if(p instanceof Promise&&u?.async===!1)throw new rr;if(c||p instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await p,i.issues.length!==d&&(f||(f=Xn(i,d)))});else{if(i.issues.length===d)continue;f||(f=Xn(i,d))}}return c?c.then(()=>i):i},s=(i,a,u)=>{if(Xn(i))return i.aborted=!0,i;const f=o(a,r,u);if(f instanceof Promise){if(u.async===!1)throw new rr;return f.then(c=>e._zod.parse(c,u))}return e._zod.parse(f,u)};e._zod.run=(i,a)=>{if(a.skipChecks)return e._zod.parse(i,a);if(a.direction==="backward"){const f=e._zod.parse({value:i.value,issues:[]},{...a,skipChecks:!0});return f instanceof Promise?f.then(c=>s(c,i,a)):s(f,i,a)}const u=e._zod.parse(i,a);if(u instanceof Promise){if(a.async===!1)throw new rr;return u.then(f=>o(f,r,a))}return o(u,r,a)}}e["~standard"]={validate:o=>{try{const s=If(e,o);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return Nf(e,o).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}}),Mv=re("$ZodString",(e,t)=>{Et.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Rv(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),$v=re("$ZodNumber",(e,t)=>{Et.init(e,t),e._zod.pattern=e._zod.bag.pattern??Tv,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const s=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...s?{received:s}:{}}),n}}),Iv=re("$ZodBoolean",(e,t)=>{Et.init(e,t),e._zod.pattern=jv,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),Nv=re("$ZodNull",(e,t)=>{Et.init(e,t),e._zod.pattern=kv,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const o=n.value;return o===null||n.issues.push({expected:"null",code:"invalid_type",input:o,inst:e}),n}});function su(e,t,n){e.issues.length&&t.issues.push(...Yn(n,e.issues)),t.value[n]=e.value}const Lv=re("$ZodArray",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const s=[];for(let i=0;i<o.length;i++){const a=o[i],u=t.element._zod.run({value:a,issues:[]},r);u instanceof Promise?s.push(u.then(f=>su(f,n,i))):su(u,n,i)}return s.length?Promise.all(s).then(()=>n):n}});function iu(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const o=e.filter(s=>!Xn(s));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(i=>Gn(i,r,Fn())))}),t)}const Dv=re("$ZodUnion",(e,t)=>{Et.init(e,t),pt(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),pt(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),pt(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),pt(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${o.map(s=>_v(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,s)=>{if(n)return r(o,s);let i=!1;const a=[];for(const u of t.options){const f=u._zod.run({value:o.value,issues:[]},s);if(f instanceof Promise)a.push(f),i=!0;else{if(f.issues.length===0)return f;a.push(f)}}return i?Promise.all(a).then(u=>iu(u,o,e,s)):iu(a,o,e,s)}}),Vv=re("$ZodRecord",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!mv(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const s=[],i=t.keyType._zod.values;if(i){n.value={};const a=new Set;for(const f of i)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){a.add(typeof f=="number"?f.toString():f);const c=t.valueType._zod.run({value:o[f],issues:[]},r);c instanceof Promise?s.push(c.then(l=>{l.issues.length&&n.issues.push(...Yn(f,l.issues)),n.value[f]=l.value})):(c.issues.length&&n.issues.push(...Yn(f,c.issues)),n.value[f]=c.value)}let u;for(const f in o)a.has(f)||(u=u??[],u.push(f));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:u})}else{n.value={};for(const a of Reflect.ownKeys(o)){if(a==="__proto__")continue;const u=t.keyType._zod.run({value:a,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(c=>Gn(c,r,Fn())),input:a,path:[a],inst:e}),n.value[u.value]=u.value;continue}const f=t.valueType._zod.run({value:o[a],issues:[]},r);f instanceof Promise?s.push(f.then(c=>{c.issues.length&&n.issues.push(...Yn(a,c.issues)),n.value[u.value]=c.value})):(f.issues.length&&n.issues.push(...Yn(a,f.issues)),n.value[u.value]=f.value)}}return s.length?Promise.all(s).then(()=>n):n}}),Bv=re("$ZodLazy",(e,t)=>{Et.init(e,t),pt(e._zod,"innerType",()=>t.getter()),pt(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),pt(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),pt(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),pt(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)});var au;class zv{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Fv(){return new zv}(au=globalThis).__zod_globalRegistry??(au.__zod_globalRegistry=Fv());function Gv(e,t){return new e({type:"string",...hn()})}function Uv(e,t){return new e({type:"number",checks:[],...hn()})}function qv(e,t){return new e({type:"boolean",...hn()})}function Wv(e,t){return new e({type:"null",...hn()})}const Gt=re("ZodMiniType",(e,t)=>{if(!e._zod)throw new Error("Uninitialized schema in ZodMiniType.");Et.init(e,t),e.def=t,e.type=t.type,e.parse=(n,r)=>Ov(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>If(e,n,r),e.parseAsync=async(n,r)=>Av(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>Nf(e,n,r),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>yv(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e))}),Kv=re("ZodMiniString",(e,t)=>{Mv.init(e,t),Gt.init(e,t)});function Ei(e){return Gv(Kv)}const Zv=re("ZodMiniNumber",(e,t)=>{$v.init(e,t),Gt.init(e,t)});function Jv(e){return Uv(Zv)}const Hv=re("ZodMiniBoolean",(e,t)=>{Iv.init(e,t),Gt.init(e,t)});function Xv(e){return qv(Hv)}const Yv=re("ZodMiniNull",(e,t)=>{Nv.init(e,t),Gt.init(e,t)});function Qv(e){return Wv(Yv)}const eb=re("ZodMiniArray",(e,t)=>{Lv.init(e,t),Gt.init(e,t)});function tb(e,t){return new eb({type:"array",element:e,...hn()})}const nb=re("ZodMiniUnion",(e,t)=>{Dv.init(e,t),Gt.init(e,t)});function Lf(e,t){return new nb({type:"union",options:e,...hn()})}const rb=re("ZodMiniRecord",(e,t)=>{Vv.init(e,t),Gt.init(e,t)});function Df(e,t,n){return new rb({type:"record",keyType:e,valueType:t,...hn()})}const ob=re("ZodMiniLazy",(e,t)=>{Bv.init(e,t),Gt.init(e,t)});function sb(e){return new ob({type:"lazy",getter:e})}const ib=Lf([Ei(),Jv(),Xv(),Qv()]),zs=sb(()=>Lf([ib,tb(zs),Df(Ei(),zs)]));Df(Ei(),zs);export{P as $,Cs as A,Zs as B,Ht as C,yb as D,Bo as E,db as F,vb as G,hb as H,lb as I,we as J,pb as K,gb as L,Vo as M,bb as N,Qs as O,_b as P,jn as Q,ct as R,Pb as S,fr as T,Cb as U,wb as V,xb as W,Ob as X,Jf as Y,fb as Z,ih as _,Vd as a,to as a0,zs as a1,hd as b,Dd as c,bd as d,te as e,T as f,cb as g,F as h,tn as i,Co as j,Hs as k,xs as l,sc as m,Hd as n,Js as o,St as p,Q as q,Zu as r,rn as s,Ke as t,be as u,ue as v,Jd as w,Ab as x,mb as y,Sb as z};
