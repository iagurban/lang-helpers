var zs=Object.defineProperty;var Is=(e,t,r)=>t in e?zs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ge=(e,t,r)=>Is(e,typeof t!="symbol"?t+"":t,r);import{r as Ds,a as ks,b as lr}from"./vendor-twynIv06.js";function fc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}class Vs extends Error{constructor(t){super("Programming error"+(t?`: ${t}`:""))}}const Gs=(e,t)=>{if(!e)throw new Vs(t?.())};class nt{constructor(t){ge(this,"_m");this._m=new Map(t)}clear(){this._m.clear()}delete(t){return this._m.delete(t)}forEach(t){for(const[r,n]of this._m)t(n,r,this)}get(t){return this._m.get(t)}has(t){return this._m.has(t)}set(t,r){return this._m.set(t,r),this}get size(){return this._m.size}static groupedBy(t,r){const n=new nt;for(const i of t)n.update(r(i),s=>s?(s.push(i),s):[i]);return n}static mappedBy(t,r){const n=new nt;for(const i of t)n.set(r(i),i);return n}getOrCreate(t,r,n){let i=this.get(t);return i==null?this.set(t,i=r(t)):n&&n(i,t),i}update(t,r){return this.set(t,r(this.get(t),t))}mapEntries(t){return new nt([...this.entries()].map(([r,n])=>[r,t(n,r)]))}toArray(t){return[...this.entries()].map(([r,n])=>t(n,r))}valuesToArray(t){return[...this.values()].map(r=>t(r))}deleteKeys(t){for(const r of t)this.delete(r);return this}assign(t){for(const[r,n]of t)this.set(r,n);return this}backup(t){const r=t?t(this):new nt(this);return()=>{this.clear(),this.assign(r)}}filter(t){return new nt([...this.entries()].filter(([r,n])=>t(n,r)))}freeze(){const t={value(){throw new Error("Can not mutate frozen ExMap")},configurable:!1,enumerable:!1};for(const r of["set","delete","clear"])Object.defineProperty(this,r,t);return Object.freeze(this),this}[Symbol.iterator](){return this._m[Symbol.iterator]()}entries(){return this._m.entries()}keys(){return this._m.keys()}values(){return this._m.values()}get[Symbol.toStringTag](){return"ExMap"}}const ie=(e,t)=>Object.assign(e,{type:t}),jr=Symbol("gettrTag:cachedTypeSymbol"),di=(e,t,r=!0)=>(Object.defineProperty(e,"type",{get:r?()=>e[jr]??(e[jr]=t()):t,set:void 0,enumerable:!0,configurable:!0}),e),_i=e=>e.type??"[unknown]",qs=(e,t=[])=>{const r=t.filter(n=>n!=null&&n!==!1);return r.length===0?e:`${e}(${r.join(", ")})`};ie(e=>e!=null,"[defined]");ie(e=>e!==void 0,"!undefined");ie(e=>e!==null,"!null");const cc=ie(e=>!!e,"[truthy]"),lc=ie(e=>e===void 0,"undefined");ie(e=>e===null,"null");ie(e=>e==null,"(null|undefined)");ie(e=>typeof e=="symbol","symbol");ie(e=>e instanceof Error,"error");ie(e=>e instanceof RegExp,"regexp");ie(e=>e instanceof Map,"map");ie(e=>e instanceof Set,"set");const Us=ie(e=>Array.isArray(e),"readonly-array");function hc(e,t,r){if(!t(e)){const n=r(e);throw typeof n=="string"?new Error(n):n}return e}const Ks=(e,t)=>r=>e(r)&&t(r),Fs=e=>({push(t){this.run=Ks(this.run,t)},run:e}),dc=(e={})=>{const t=(()=>{const n=Fs(a=>!0),{minLength:i,maxLength:s,check:o}=e;return i!=null&&n.push(a=>a.length>=i),s!=null&&n.push(a=>a.length<=s),o!=null&&n.push(o),n.run})(),{item:r}=e;return di(n=>{if(!Array.isArray(n)||!t(n))return!1;if(r==null)return!0;for(const i of n)if(!r(i))return!1;return!0},()=>qs(`${r?_i(r):"unknown"}[]`,[e.minLength!=null&&`len>=${e.minLength}`,e.maxLength!=null&&`len<=${e.maxLength}`,e.check&&(e.checkName??"custom")]))},_c=ie(e=>typeof e=="boolean","boolean"),gc=ie(e=>typeof e=="object"&&e!=null&&!Array.isArray(e),"some-object"),bc=(...e)=>di(t=>{for(const r of e)if(r(t))return!0;return!1},()=>`(${e.map(t=>_i(t)).join(" | ")})`),vc=ie(e=>typeof e=="string","string");class wn extends Error{}const Zs=(e,t="arg is null")=>{if(e==null){if(typeof t=="string")throw new wn(t);const r=t();throw typeof r=="string"?new wn(r):r}return e},pc=(e,t)=>Array.from({length:e},(r,n)=>t(n)),An=(e,t,r)=>(Object.defineProperty(e,t,{value:r,writable:!1,enumerable:!0,configurable:!0}),r);function Ot(e,t,r,n){if(r===!0)return An(e,t,n);const{get:i,set:s}=r;if(!i||s)throw new Error("decorator must be called on getters only");return{get(){return An(this,t,i.call(this))},enumerable:!0,configurable:!0}}const Ws=globalThis.crypto?.getRandomValues?(()=>{const e=t=>{const r=new Uint8Array(t);return globalThis.crypto.getRandomValues(r),r};return Object.assign(e,{hex:t=>Array.from(e(t)).map(r=>r.toString(16).padStart(2,"0")).join("")})})():(e=>Object.assign(t=>e.randomBytes(t),{hex:t=>e.randomBytes(t).toString("hex")}))(typeof require=="function"?require("crypto"):{randomBytes:Object.assign(()=>{throw new Error("Secure random generation not supported")},{hex:()=>{throw new Error("Secure random generation not supported")}})});function qt(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}class Hs{constructor(t,r=20){ge(this,"base");ge(this,"powers",[1n]);if(this.base=t,t<2n)throw new Error("mapping length must be > 1");this.get(Math.max(1,r)-1)}get(t){let r=this.powers.length-1;for(;t>r++;)this.powers.push(this.base*this.powers[this.powers.length-1]);return this.powers[t]}}class wt{constructor(t){ge(this,"parts");ge(this,"from10",t=>{if(typeof t=="number"&&Math.floor(t)!==t)throw new Error(`n is floating ${t}`);let r=BigInt(t);if(r<0n)throw new Error(`n is negative: ${r}`);const{base:n,digits:i}=this;if(n===10n)throw new Error("mapping length must be != 10");const s=[];do s.push(i[Number(r%n)]),r/=n;while(r>0n);return String.fromCharCode(...s.reverse())});ge(this,"to10",t=>{const{byChar:r,powers:n}=this;let i=0n;for(let s=t.length-1;s>=0;--s){const o=r.get(t.charCodeAt(s));if(o===void 0)throw new Error(`invalid char '${t[s]}' in '${t}'`);i+=o*n.get(t.length-1-s)}return i});ge(this,"mask",t=>{const r=this.digits[this.digits.length-1];return String.fromCharCode(...Array.from({length:t},()=>r))});ge(this,"random",t=>{if(t<1||Math.floor(t)!==t)throw new Error(`random length must be integer > 0, got ${t}`);return String.fromCharCode(...Array.from({length:t},()=>this.digits[Math.random()*this.digits.length|0]))});ge(this,"fixedWidthRandomGenerator",t=>{const r=c=>{const _=Number(this.to10(this.mask(c)));if(_<=0||!Number.isFinite(_))throw new Error(`invalid mask: ${_}`);const b=BigInt(_),C=Math.ceil(Math.log2(_)),x=Math.max(1,Math.ceil(C/8)),j=1n<<BigInt(8*x),E=j-j%b;return()=>{for(;;){const O=Ws(x);let d=0n;for(let g=0;g<x;g++)d=d<<8n|BigInt(O[g]);if(d<E)return Number(d%b)}}};if(t<1||Math.floor(t)!==t)throw new Error(`length must be integer < 1, got ${t}`);const n=String.fromCharCode(this.digits[0]),i=this.maxSafeExponent,s=t%i,o=Math.floor(t/i),a=(c,_)=>this.from10(c()).padStart(_,n),u=c=>{const _=[];for(let b=0;b<o;++b)_.push(a(c,i));return _.join("")};if(s>0){const c=r(s);if(o>0){const _=r(i);return()=>u(_)+a(c,s)}return()=>a(c,t)}Gs(o>0);const f=r(i);return()=>u(f)});this.parts=t}get base(){return BigInt(this.digits.length)}get digits(){return[...this.digitsSet].sort((r,n)=>r-n)}get digitsSet(){const t=new Set;for(const[r,n]of this.parts.entries())if(Us(n)){if(n.length!==2||n[0].length!==1||n[1].length!==1)throw new Error(`parts[${r}] must be ['a','z'] (to add a range) or 'abc0xyz' (to add by char)`);const[i,s]=Array.from(n).map(o=>o.codePointAt(0));if(i>s)throw new Error(`parts[${r}] 'from' must be <= 'to', got '${i}' > '${s}'`);for(let o=0;o<s-i+1;++o)t.add(i+o)}else for(let i=0;i<n.length;++i)t.add(n.codePointAt(i));if(t.size<2)throw new Error("empty digits set");return t}get powers(){return new Hs(this.base)}get byChar(){return new Map([...this.digits].map((t,r)=>[t,BigInt(r)]))}get maxSafeInteger(){return this.from10(BigInt(Number.MAX_SAFE_INTEGER))}get maxSafeExponent(){return this.maxSafeInteger.length-1}}qt([Ot],wt.prototype,"digits",null);qt([Ot],wt.prototype,"digitsSet",null);qt([Ot],wt.prototype,"powers",null);qt([Ot],wt.prototype,"byChar",null);qt([Ot],wt.prototype,"maxSafeInteger",null);const Js=e=>{const t={};for(const[r,n]of Object.entries(e))t[r]=t[`b${r}`]=new wt(n);return t},Xs={...Js({2:[["0","1"]],3:[["0","2"]],4:[["0","3"]],6:[["0","5"]],8:[["0","7"]],10:[["0","9"]],16:[["0","9"],["a","f"]],62:[["0","9"],["a","z"],["A","Z"]],70:[["0","9"],["a","z"],["A","Z"],"!@$&%+_="],88:[["0","9"],["a","z"],["A","Z"],`_+-=~!?@#:*&^%$.,{}[]<>'"/`]})},{b62:{from10:Ys,to10:Qs,mask:eo,fixedWidthRandomGenerator:gi}}=Xs,to=gi(16);gi(12);const bi=e=>{const t=Number(Qs(eo(e)));return()=>Ys(Date.now()%t).padStart(e,"0")},ro=bi(4);bi(2);const mc=()=>`${ro()}${to()}`;var Mr={},Lt={},et={},Sn;function vi(){return Sn||(Sn=1,Object.defineProperty(et,"__esModule",{value:!0}),et.ROARR_LOG_FORMAT_VERSION=et.ROARR_VERSION=void 0,et.ROARR_VERSION="5.0.0",et.ROARR_LOG_FORMAT_VERSION="2.0.0"),et}var Ct={},En;function en(){return En||(En=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.logLevels=void 0,Ct.logLevels={debug:20,error:50,fatal:60,info:30,trace:10,warn:40}),Ct}var $t={},Rn;function no(){if(Rn)return $t;Rn=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.hasOwnProperty=void 0;const e=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);return $t.hasOwnProperty=e,$t}var jt={},Pn;function io(){if(Pn)return jt;Pn=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.isBrowser=void 0;const e=()=>typeof window<"u";return jt.isBrowser=e,jt}var Mt={},Ln;function so(){if(Ln)return Mt;Ln=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.isTruthy=void 0;const e=t=>["true","t","yes","y","on","1"].includes(t.trim().toLowerCase());return Mt.isTruthy=e,Mt}var Tr={},Cn;function oo(){return Cn||(Cn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMockLogger=void 0;const t=en(),r=(i,s)=>(o,a,u,f,c,_,b,C,x,j)=>{i.child({logLevel:s})(o,a,u,f,c,_,b,C,x,j)},n=(i,s)=>{const o=()=>{};return o.adopt=async a=>a(),o.child=()=>(0,e.createMockLogger)(i,s),o.getContext=()=>({}),o.debug=r(o,t.logLevels.debug),o.debugOnce=r(o,t.logLevels.debug),o.error=r(o,t.logLevels.error),o.errorOnce=r(o,t.logLevels.error),o.fatal=r(o,t.logLevels.fatal),o.fatalOnce=r(o,t.logLevels.fatal),o.info=r(o,t.logLevels.info),o.infoOnce=r(o,t.logLevels.info),o.trace=r(o,t.logLevels.trace),o.traceOnce=r(o,t.logLevels.trace),o.warn=r(o,t.logLevels.warn),o.warnOnce=r(o,t.logLevels.warn),o};e.createMockLogger=n})(Tr)),Tr}var Qt={exports:{}},$n;function pi(){return $n||($n=1,(function(e,t){const{hasOwnProperty:r}=Object.prototype,n=O();n.configure=O,n.stringify=n,n.default=n,t.stringify=n,t.configure=O,e.exports=n;const i=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function s(d){return d.length<5e3&&!i.test(d)?`"${d}"`:JSON.stringify(d)}function o(d,g){if(d.length>200||g)return d.sort(g);for(let y=1;y<d.length;y++){const w=d[y];let L=y;for(;L!==0&&d[L-1]>w;)d[L]=d[L-1],L--;d[L]=w}return d}const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function u(d){return a.call(d)!==void 0&&d.length!==0}function f(d,g,y){d.length<y&&(y=d.length);const w=g===","?"":" ";let L=`"0":${w}${d[0]}`;for(let F=1;F<y;F++)L+=`${g}"${F}":${w}${d[F]}`;return L}function c(d){if(r.call(d,"circularValue")){const g=d.circularValue;if(typeof g=="string")return`"${g}"`;if(g==null)return g;if(g===Error||g===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function _(d){let g;if(r.call(d,"deterministic")&&(g=d.deterministic,typeof g!="boolean"&&typeof g!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return g===void 0?!0:g}function b(d,g){let y;if(r.call(d,g)&&(y=d[g],typeof y!="boolean"))throw new TypeError(`The "${g}" argument must be of type boolean`);return y===void 0?!0:y}function C(d,g){let y;if(r.call(d,g)){if(y=d[g],typeof y!="number")throw new TypeError(`The "${g}" argument must be of type number`);if(!Number.isInteger(y))throw new TypeError(`The "${g}" argument must be an integer`);if(y<1)throw new RangeError(`The "${g}" argument must be >= 1`)}return y===void 0?1/0:y}function x(d){return d===1?"1 item":`${d} items`}function j(d){const g=new Set;for(const y of d)(typeof y=="string"||typeof y=="number")&&g.add(String(y));return g}function E(d){if(r.call(d,"strict")){const g=d.strict;if(typeof g!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(g)return y=>{let w=`Object can not safely be stringified. Received type ${typeof y}`;throw typeof y!="function"&&(w+=` (${y.toString()})`),new Error(w)}}}function O(d){d={...d};const g=E(d);g&&(d.bigint===void 0&&(d.bigint=!1),"circularValue"in d||(d.circularValue=Error));const y=c(d),w=b(d,"bigint"),L=_(d),F=typeof L=="function"?L:void 0,ne=C(d,"maximumDepth"),p=C(d,"maximumBreadth");function z(I,l,m,R,$,M){let A=l[I];switch(typeof A=="object"&&A!==null&&typeof A.toJSON=="function"&&(A=A.toJSON(I)),A=R.call(l,I,A),typeof A){case"string":return s(A);case"object":{if(A===null)return"null";if(m.indexOf(A)!==-1)return y;let P="",G=",";const V=M;if(Array.isArray(A)){if(A.length===0)return"[]";if(ne<m.length+1)return'"[Array]"';m.push(A),$!==""&&(M+=$,P+=`
${M}`,G=`,
${M}`);const oe=Math.min(A.length,p);let Re=0;for(;Re<oe-1;Re++){const Yt=z(String(Re),A,m,R,$,M);P+=Yt!==void 0?Yt:"null",P+=G}const Pe=z(String(Re),A,m,R,$,M);if(P+=Pe!==void 0?Pe:"null",A.length-1>p){const Yt=A.length-p-1;P+=`${G}"... ${x(Yt)} not stringified"`}return $!==""&&(P+=`
${V}`),m.pop(),`[${P}]`}let T=Object.keys(A);const q=T.length;if(q===0)return"{}";if(ne<m.length+1)return'"[Object]"';let B="",se="";$!==""&&(M+=$,G=`,
${M}`,B=" ");const me=Math.min(q,p);L&&!u(A)&&(T=o(T,F)),m.push(A);for(let oe=0;oe<me;oe++){const Re=T[oe],Pe=z(Re,A,m,R,$,M);Pe!==void 0&&(P+=`${se}${s(Re)}:${B}${Pe}`,se=G)}if(q>p){const oe=q-p;P+=`${se}"...":${B}"${x(oe)} not stringified"`,se=G}return $!==""&&se.length>1&&(P=`
${M}${P}
${V}`),m.pop(),`{${P}}`}case"number":return isFinite(A)?String(A):g?g(A):"null";case"boolean":return A===!0?"true":"false";case"undefined":return;case"bigint":if(w)return String(A);default:return g?g(A):void 0}}function k(I,l,m,R,$,M){switch(typeof l=="object"&&l!==null&&typeof l.toJSON=="function"&&(l=l.toJSON(I)),typeof l){case"string":return s(l);case"object":{if(l===null)return"null";if(m.indexOf(l)!==-1)return y;const A=M;let P="",G=",";if(Array.isArray(l)){if(l.length===0)return"[]";if(ne<m.length+1)return'"[Array]"';m.push(l),$!==""&&(M+=$,P+=`
${M}`,G=`,
${M}`);const q=Math.min(l.length,p);let B=0;for(;B<q-1;B++){const me=k(String(B),l[B],m,R,$,M);P+=me!==void 0?me:"null",P+=G}const se=k(String(B),l[B],m,R,$,M);if(P+=se!==void 0?se:"null",l.length-1>p){const me=l.length-p-1;P+=`${G}"... ${x(me)} not stringified"`}return $!==""&&(P+=`
${A}`),m.pop(),`[${P}]`}m.push(l);let V="";$!==""&&(M+=$,G=`,
${M}`,V=" ");let T="";for(const q of R){const B=k(q,l[q],m,R,$,M);B!==void 0&&(P+=`${T}${s(q)}:${V}${B}`,T=G)}return $!==""&&T.length>1&&(P=`
${M}${P}
${A}`),m.pop(),`{${P}}`}case"number":return isFinite(l)?String(l):g?g(l):"null";case"boolean":return l===!0?"true":"false";case"undefined":return;case"bigint":if(w)return String(l);default:return g?g(l):void 0}}function K(I,l,m,R,$){switch(typeof l){case"string":return s(l);case"object":{if(l===null)return"null";if(typeof l.toJSON=="function"){if(l=l.toJSON(I),typeof l!="object")return K(I,l,m,R,$);if(l===null)return"null"}if(m.indexOf(l)!==-1)return y;const M=$;if(Array.isArray(l)){if(l.length===0)return"[]";if(ne<m.length+1)return'"[Array]"';m.push(l),$+=R;let B=`
${$}`;const se=`,
${$}`,me=Math.min(l.length,p);let oe=0;for(;oe<me-1;oe++){const Pe=K(String(oe),l[oe],m,R,$);B+=Pe!==void 0?Pe:"null",B+=se}const Re=K(String(oe),l[oe],m,R,$);if(B+=Re!==void 0?Re:"null",l.length-1>p){const Pe=l.length-p-1;B+=`${se}"... ${x(Pe)} not stringified"`}return B+=`
${M}`,m.pop(),`[${B}]`}let A=Object.keys(l);const P=A.length;if(P===0)return"{}";if(ne<m.length+1)return'"[Object]"';$+=R;const G=`,
${$}`;let V="",T="",q=Math.min(P,p);u(l)&&(V+=f(l,G,p),A=A.slice(l.length),q-=l.length,T=G),L&&(A=o(A,F)),m.push(l);for(let B=0;B<q;B++){const se=A[B],me=K(se,l[se],m,R,$);me!==void 0&&(V+=`${T}${s(se)}: ${me}`,T=G)}if(P>p){const B=P-p;V+=`${T}"...": "${x(B)} not stringified"`,T=G}return T!==""&&(V=`
${$}${V}
${M}`),m.pop(),`{${V}}`}case"number":return isFinite(l)?String(l):g?g(l):"null";case"boolean":return l===!0?"true":"false";case"undefined":return;case"bigint":if(w)return String(l);default:return g?g(l):void 0}}function Y(I,l,m){switch(typeof l){case"string":return s(l);case"object":{if(l===null)return"null";if(typeof l.toJSON=="function"){if(l=l.toJSON(I),typeof l!="object")return Y(I,l,m);if(l===null)return"null"}if(m.indexOf(l)!==-1)return y;let R="";const $=l.length!==void 0;if($&&Array.isArray(l)){if(l.length===0)return"[]";if(ne<m.length+1)return'"[Array]"';m.push(l);const V=Math.min(l.length,p);let T=0;for(;T<V-1;T++){const B=Y(String(T),l[T],m);R+=B!==void 0?B:"null",R+=","}const q=Y(String(T),l[T],m);if(R+=q!==void 0?q:"null",l.length-1>p){const B=l.length-p-1;R+=`,"... ${x(B)} not stringified"`}return m.pop(),`[${R}]`}let M=Object.keys(l);const A=M.length;if(A===0)return"{}";if(ne<m.length+1)return'"[Object]"';let P="",G=Math.min(A,p);$&&u(l)&&(R+=f(l,",",p),M=M.slice(l.length),G-=l.length,P=","),L&&(M=o(M,F)),m.push(l);for(let V=0;V<G;V++){const T=M[V],q=Y(T,l[T],m);q!==void 0&&(R+=`${P}${s(T)}:${q}`,P=",")}if(A>p){const V=A-p;R+=`${P}"...":"${x(V)} not stringified"`}return m.pop(),`{${R}}`}case"number":return isFinite(l)?String(l):g?g(l):"null";case"boolean":return l===!0?"true":"false";case"undefined":return;case"bigint":if(w)return String(l);default:return g?g(l):void 0}}function ce(I,l,m){if(arguments.length>1){let R="";if(typeof m=="number"?R=" ".repeat(Math.min(m,10)):typeof m=="string"&&(R=m.slice(0,10)),l!=null){if(typeof l=="function")return z("",{"":I},[],l,R,"");if(Array.isArray(l))return k("",I,[],j(l),R,"")}if(R.length!==0)return K("",I,[],R,"")}return Y("",I,[])}return ce}})(Qt,Qt.exports)),Qt.exports}var jn;function ao(){return jn||(jn=1,(function(e){var t={},r=Lt&&Lt.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.createLogger=void 0;const n=vi(),i=en(),s=no(),o=io(),a=so(),u=oo(),f=Ds(),c=r(pi());let _=!1;const b=()=>globalThis.ROARR,C=()=>({messageContext:{},transforms:[]}),x=()=>{const w=b().asyncLocalStorage;if(!w)throw new Error("AsyncLocalContext is unavailable.");const L=w.getStore();return L||C()},j=()=>!!b().asyncLocalStorage,E=()=>{if(j()){const w=x();return(0,s.hasOwnProperty)(w,"sequenceRoot")&&(0,s.hasOwnProperty)(w,"sequence")&&typeof w.sequence=="number"?String(w.sequenceRoot)+"."+String(w.sequence++):String(b().sequence++)}return String(b().sequence++)},O=(w,L)=>(F,ne,p,z,k,K,Y,ce,I,l)=>{w.child({logLevel:L})(F,ne,p,z,k,K,Y,ce,I,l)},d=1e3,g=(w,L)=>(F,ne,p,z,k,K,Y,ce,I,l)=>{const m=(0,c.default)({a:F,b:ne,c:p,d:z,e:k,f:K,g:Y,h:ce,i:I,j:l,logLevel:L});if(!m)throw new Error("Expected key to be a string");const R=b().onceLog;R.has(m)||(R.add(m),R.size>d&&R.clear(),w.child({logLevel:L})(F,ne,p,z,k,K,Y,ce,I,l))},y=(w,L={},F=[])=>{var ne;if(!(0,o.isBrowser)()&&typeof process<"u"&&!(0,a.isTruthy)((ne=t.ROARR_LOG)!==null&&ne!==void 0?ne:""))return(0,u.createMockLogger)(w,L);const p=(z,k,K,Y,ce,I,l,m,R,$)=>{const M=Date.now(),A=E();let P;j()?P=x():P=C();let G,V;if(typeof z=="string"?G={...P.messageContext,...L}:G={...P.messageContext,...L,...z},typeof z=="string"&&k===void 0)V=z;else if(typeof z=="string"){if(!z.includes("%"))throw new Error("When a string parameter is followed by other arguments, then it is assumed that you are attempting to format a message using printf syntax. You either forgot to add printf bindings or if you meant to add context to the log message, pass them in an object as the first parameter.");V=(0,f.printf)(z,k,K,Y,ce,I,l,m,R,$)}else{let q=k;if(typeof k!="string")if(k===void 0)q="";else throw new TypeError("Message must be a string. Received "+typeof k+".");V=(0,f.printf)(q,K,Y,ce,I,l,m,R,$)}let T={context:G,message:V,sequence:A,time:M,version:n.ROARR_LOG_FORMAT_VERSION};for(const q of[...P.transforms,...F])if(T=q(T),typeof T!="object"||T===null)throw new Error("Message transform function must return a message object.");w(T)};return p.child=z=>{let k;return j()?k=x():k=C(),typeof z=="function"?(0,e.createLogger)(w,{...k.messageContext,...L,...z},[z,...F]):(0,e.createLogger)(w,{...k.messageContext,...L,...z},F)},p.getContext=()=>{let z;return j()?z=x():z=C(),{...z.messageContext,...L}},p.adopt=async(z,k)=>{if(!j())return _===!1&&(_=!0,w({context:{logLevel:i.logLevels.warn,package:"roarr"},message:"async_hooks are unavailable; Roarr.adopt will not function as expected",sequence:E(),time:Date.now(),version:n.ROARR_LOG_FORMAT_VERSION})),z();const K=x();let Y;(0,s.hasOwnProperty)(K,"sequenceRoot")&&(0,s.hasOwnProperty)(K,"sequence")&&typeof K.sequence=="number"?Y=K.sequenceRoot+"."+String(K.sequence++):Y=String(b().sequence++);let ce={...K.messageContext};const I=[...K.transforms];typeof k=="function"?I.push(k):ce={...ce,...k};const l=b().asyncLocalStorage;if(!l)throw new Error("Async local context unavailable.");return l.run({messageContext:ce,sequence:0,sequenceRoot:Y,transforms:I},()=>z())},p.debug=O(p,i.logLevels.debug),p.debugOnce=g(p,i.logLevels.debug),p.error=O(p,i.logLevels.error),p.errorOnce=g(p,i.logLevels.error),p.fatal=O(p,i.logLevels.fatal),p.fatalOnce=g(p,i.logLevels.fatal),p.info=O(p,i.logLevels.info),p.infoOnce=g(p,i.logLevels.info),p.trace=O(p,i.logLevels.trace),p.traceOnce=g(p,i.logLevels.trace),p.warn=O(p,i.logLevels.warn),p.warnOnce=g(p,i.logLevels.warn),p};e.createLogger=y})(Lt)),Lt}var tt={},Mn;function uo(){if(Mn)return tt;Mn=1;var e=tt&&tt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(tt,"__esModule",{value:!0}),tt.createRoarrInitialGlobalStateBrowser=void 0;const t=vi(),r=e(ks()),n=i=>{const s=(i.versions||[]).concat();return s.length>1&&s.sort(r.default),s.includes(t.ROARR_VERSION)||s.push(t.ROARR_VERSION),s.sort(r.default),{sequence:0,...i,versions:s}};return tt.createRoarrInitialGlobalStateBrowser=n,tt}var Tt={},Tn;function fo(){if(Tn)return Tt;Tn=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.stringify=void 0;const t=(0,pi().configure)({deterministic:!1,maximumBreadth:20,maximumDepth:10,strict:!1}),r=n=>{var i,s;try{return(i=JSON.stringify(n))!==null&&i!==void 0?i:""}catch{}try{return(s=t(n))!==null&&s!==void 0?s:""}catch(o){throw console.error("[roarr] could not serialize value",n),o}};return Tt.stringify=r,Tt}var Nt={},Nn;function co(){if(Nn)return Nt;Nn=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.getLogLevelName=void 0;const e=t=>t<=10?"trace":t<=20?"debug":t<=30?"info":t<=40?"warn":t<=50?"error":"fatal";return Nt.getLogLevelName=e,Nt}var Bn;function lo(){return Bn||(Bn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getLogLevelName=e.logLevels=e.Roarr=e.ROARR=void 0;const t=ao(),r=uo(),n=fo(),i=(0,r.createRoarrInitialGlobalStateBrowser)(globalThis.ROARR||{});e.ROARR=i,globalThis.ROARR=i;const s=f=>(0,n.stringify)(f),o=(0,t.createLogger)(f=>{var c;i.write&&i.write(((c=i.serializeMessage)!==null&&c!==void 0?c:s)(f))});e.Roarr=o;var a=en();Object.defineProperty(e,"logLevels",{enumerable:!0,get:function(){return a.logLevels}});var u=co();Object.defineProperty(e,"getLogLevelName",{enumerable:!0,get:function(){return u.getLogLevelName}})})(Mr)),Mr}var yc=lo();function S(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var ho={};function yr(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:ho}var mi=Object.assign,hr=Object.getOwnPropertyDescriptor,je=Object.defineProperty,Ut=Object.prototype,Vr=[];Object.freeze(Vr);var tn={};Object.freeze(tn);var _o=typeof Proxy<"u",go=Object.toString();function yi(){_o||S("Proxy not available")}function xi(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var gt=function(){};function de(e){return typeof e=="function"}function it(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function xr(e){return e!==null&&typeof e=="object"}function Ve(e){if(!xr(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r.toString()===go}function Oi(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Kt(e,t,r){je(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function wi(e,t,r){je(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}function Je(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(n){return xr(n)&&n[r]===!0}}function At(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function bo(e){var t=Object.getPrototypeOf(e),r=Object.getPrototypeOf(t),n=Object.getPrototypeOf(r);return n===null}function Ne(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var Ai=typeof Object.getOwnPropertySymbols<"u";function vo(e){var t=Object.keys(e);if(!Ai)return t;var r=Object.getOwnPropertySymbols(e);return r.length?[].concat(t,r.filter(function(n){return Ut.propertyIsEnumerable.call(e,n)})):t}var pt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Ai?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Si(e){return e===null?null:typeof e=="object"?""+e:e}function De(e,t){return Ut.hasOwnProperty.call(e,t)}var po=Object.getOwnPropertyDescriptors||function(t){var r={};return pt(t).forEach(function(n){r[n]=hr(t,n)}),r};function le(e,t){return!!(e&t)}function he(e,t,r){return r?e|=t:e&=~t,e}function zn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function mo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xo(n.key),n)}}function St(e,t,r){return t&&mo(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Oo(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},We.apply(null,arguments)}function Ei(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Gr(e,t)}function Gr(e,t){return Gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Gr(e,t)}function yo(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xo(e){var t=yo(e,"string");return typeof t=="symbol"?t:t+""}function Oo(e,t){if(e){if(typeof e=="string")return zn(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zn(e,t):void 0}}var $e=Symbol("mobx-stored-annotations");function xe(e){function t(r,n){if(Zt(n))return e.decorate_20223_(r,n);Ft(r,n,e)}return Object.assign(t,e)}function Ft(e,t,r){De(e,$e)||Kt(e,$e,We({},e[$e])),$o(r)||(e[$e][t]=r)}function wo(e){return De(e,$e)||Kt(e,$e,We({},e[$e])),e[$e]}function Zt(e){return typeof e=="object"&&typeof e.kind=="string"}var v=Symbol("mobx administration"),Xe=(function(){function e(r){r===void 0&&(r="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=N.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=r}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},t.reportObserved=function(){return Ui(this)},t.reportChanged=function(){ae(),Ki(this),ue()},t.toString=function(){return this.name_},St(e,[{key:"isBeingObserved",get:function(){return le(this.flags_,e.isBeingObservedMask_)},set:function(n){this.flags_=he(this.flags_,e.isBeingObservedMask_,n)}},{key:"isPendingUnobservation",get:function(){return le(this.flags_,e.isPendingUnobservationMask_)},set:function(n){this.flags_=he(this.flags_,e.isPendingUnobservationMask_,n)}},{key:"diffValue",get:function(){return le(this.flags_,e.diffValueMask_)?1:0},set:function(n){this.flags_=he(this.flags_,e.diffValueMask_,n===1)}}])})();Xe.isBeingObservedMask_=1;Xe.isPendingUnobservationMask_=2;Xe.diffValueMask_=4;var rn=Je("Atom",Xe);function nn(e,t,r){t===void 0&&(t=gt),r===void 0&&(r=gt);var n=new Xe(e);return t!==gt&&Qi(n,t),r!==gt&&cn(n,r),n}function Ao(e,t){return e===t}function So(e,t){return bn(e,t)}function Eo(e,t){return bn(e,t,1)}function Ro(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var st={identity:Ao,structural:So,default:Ro,shallow:Eo};function ot(e,t,r){return Pr(e)?e:Array.isArray(e)?H.array(e,{name:r}):Ve(e)?H.object(e,void 0,{name:r}):At(e)?H.map(e,{name:r}):Ne(e)?H.set(e,{name:r}):typeof e=="function"&&!ut(e)&&!yt(e)?Oi(e)?ft(e):mt(r,e):e}function Po(e,t,r){if(e==null||te(e)||fe(e)||re(e)||J(e))return e;if(Array.isArray(e))return H.array(e,{name:r,deep:!1});if(Ve(e))return H.object(e,void 0,{name:r,deep:!1});if(At(e))return H.map(e,{name:r,deep:!1});if(Ne(e))return H.set(e,{name:r,deep:!1})}function Or(e){return e}function Lo(e,t){return bn(e,t)?t:e}var Ri="override",Co=xe({annotationType_:Ri,make_:jo,extend_:Mo,decorate_20223_:To});function $o(e){return e.annotationType_===Ri}function jo(e,t){return 0}function Mo(e,t,r,n){S("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function To(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function Wt(e,t){return{annotationType_:e,options_:t,make_:No,extend_:Bo,decorate_20223_:zo}}function No(e,t,r,n){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,r,!1)===null?0:1;if(n===e.target_)return this.extend_(e,t,r,!1)===null?0:2;if(ut(r.value))return 1;var s=Pi(e,this,t,r,!1);return je(n,t,s),2}function Bo(e,t,r,n){var i=Pi(e,this,t,r);return e.defineProperty_(t,i,n)}function zo(e,t){var r=t.kind,n=t.name,i=t.addInitializer,s=this,o=function(f){var c,_,b,C;return He((c=(_=s.options_)==null?void 0:_.name)!=null?c:n.toString(),f,(b=(C=s.options_)==null?void 0:C.autoAction)!=null?b:!1)};if(r=="field")return function(u){var f,c=u;return ut(c)||(c=o(c)),(f=s.options_)!=null&&f.bound&&(c=c.bind(this),c.isMobxAction=!0),c};if(r=="method"){var a;return ut(e)||(e=o(e)),(a=this.options_)!=null&&a.bound&&i(function(){var u=this,f=u[n].bind(u);f.isMobxAction=!0,u[n]=f}),e}S("Cannot apply '"+s.annotationType_+"' to '"+String(n)+"' (kind: "+r+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function Pi(e,t,r,n,i){var s,o,a,u,f,c,_;i===void 0&&(i=h.safeDescriptors);var b=n.value;if((s=t.options_)!=null&&s.bound){var C;b=b.bind((C=e.proxy_)!=null?C:e.target_)}return{value:He((o=(a=t.options_)==null?void 0:a.name)!=null?o:r.toString(),b,(u=(f=t.options_)==null?void 0:f.autoAction)!=null?u:!1,(c=t.options_)!=null&&c.bound?(_=e.proxy_)!=null?_:e.target_:void 0),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function Li(e,t){return{annotationType_:e,options_:t,make_:Io,extend_:Do,decorate_20223_:ko}}function Io(e,t,r,n){var i;if(n===e.target_)return this.extend_(e,t,r,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!De(e.target_,t)||!yt(e.target_[t]))&&this.extend_(e,t,r,!1)===null)return 0;if(yt(r.value))return 1;var s=Ci(e,this,t,r,!1,!1);return je(n,t,s),2}function Do(e,t,r,n){var i,s=Ci(e,this,t,r,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,s,n)}function ko(e,t){var r,n=t.name,i=t.addInitializer;return yt(e)||(e=ft(e)),(r=this.options_)!=null&&r.bound&&i(function(){var s=this,o=s[n].bind(s);o.isMobXFlow=!0,s[n]=o}),e}function Ci(e,t,r,n,i,s){s===void 0&&(s=h.safeDescriptors);var o=n.value;if(yt(o)||(o=ft(o)),i){var a;o=o.bind((a=e.proxy_)!=null?a:e.target_),o.isMobXFlow=!0}return{value:o,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function sn(e,t){return{annotationType_:e,options_:t,make_:Vo,extend_:Go,decorate_20223_:qo}}function Vo(e,t,r){return this.extend_(e,t,r,!1)===null?0:1}function Go(e,t,r,n){return e.defineComputedProperty_(t,We({},this.options_,{get:r.get,set:r.set}),n)}function qo(e,t){var r=this,n=t.name,i=t.addInitializer;return i(function(){var s=lt(this)[v],o=We({},r.options_,{get:e,context:this});o.name||(o.name="ObservableObject."+n.toString()),s.values_.set(n,new Ae(o))}),function(){return this[v].getObservablePropValue_(n)}}function wr(e,t){return{annotationType_:e,options_:t,make_:Uo,extend_:Ko,decorate_20223_:Fo}}function Uo(e,t,r){return this.extend_(e,t,r,!1)===null?0:1}function Ko(e,t,r,n){var i,s;return e.defineObservableProperty_(t,r.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:ot,n)}function Fo(e,t){var r=this,n=t.kind,i=t.name,s=new WeakSet;function o(a,u){var f,c,_=lt(a)[v],b=new Fe(u,(f=(c=r.options_)==null?void 0:c.enhancer)!=null?f:ot,"ObservableObject."+i.toString(),!1);_.values_.set(i,b),s.add(a)}if(n=="accessor")return{get:function(){return s.has(this)||o(this,e.get.call(this)),this[v].getObservablePropValue_(i)},set:function(u){return s.has(this)||o(this,u),this[v].setObservablePropValue_(i,u)},init:function(u){return s.has(this)||o(this,u),u}}}var Zo="true",Wo=$i();function $i(e){return{annotationType_:Zo,options_:e,make_:Ho,extend_:Jo,decorate_20223_:Xo}}function Ho(e,t,r,n){var i,s;if(r.get)return Ht.make_(e,t,r,n);if(r.set){var o=ut(r.set)?r.set:He(t.toString(),r.set);return n===e.target_?e.defineProperty_(t,{configurable:h.safeDescriptors?e.isPlainObject_:!0,set:o})===null?0:2:(je(n,t,{configurable:!0,set:o}),2)}if(n!==e.target_&&typeof r.value=="function"){var a;if(Oi(r.value)){var u,f=(u=this.options_)!=null&&u.autoBind?ft.bound:ft;return f.make_(e,t,r,n)}var c=(a=this.options_)!=null&&a.autoBind?mt.bound:mt;return c.make_(e,t,r,n)}var _=((i=this.options_)==null?void 0:i.deep)===!1?H.ref:H;if(typeof r.value=="function"&&(s=this.options_)!=null&&s.autoBind){var b;r.value=r.value.bind((b=e.proxy_)!=null?b:e.target_)}return _.make_(e,t,r,n)}function Jo(e,t,r,n){var i,s;if(r.get)return Ht.extend_(e,t,r,n);if(r.set)return e.defineProperty_(t,{configurable:h.safeDescriptors?e.isPlainObject_:!0,set:He(t.toString(),r.set)},n);if(typeof r.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;r.value=r.value.bind((o=e.proxy_)!=null?o:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?H.ref:H;return a.extend_(e,t,r,n)}function Xo(e,t){S("'"+this.annotationType_+"' cannot be used as a decorator")}var Yo="observable",Qo="observable.ref",ea="observable.shallow",ta="observable.struct",ji={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(ji);function er(e){return e||ji}var qr=wr(Yo),ra=wr(Qo,{enhancer:Or}),na=wr(ea,{enhancer:Po}),ia=wr(ta,{enhancer:Lo}),Mi=xe(qr);function tr(e){return e.deep===!0?ot:e.deep===!1?Or:oa(e.defaultDecorator)}function sa(e){var t;return e?(t=e.defaultDecorator)!=null?t:$i(e):void 0}function oa(e){var t,r;return e&&(t=(r=e.options_)==null?void 0:r.enhancer)!=null?t:ot}function Ti(e,t,r){if(Zt(t))return qr.decorate_20223_(e,t);if(it(t)){Ft(e,t,qr);return}return Pr(e)?e:Ve(e)?H.object(e,t,r):Array.isArray(e)?H.array(e,t):At(e)?H.map(e,t):Ne(e)?H.set(e,t):typeof e=="object"&&e!==null?e:H.box(e,t)}mi(Ti,Mi);var aa={box:function(t,r){var n=er(r);return new Fe(t,tr(n),n.name,!0,n.equals)},array:function(t,r){var n=er(r);return(h.useProxies===!1||n.proxy===!1?Su:bu)(t,tr(n),n.name)},map:function(t,r){var n=er(r);return new dn(t,tr(n),n.name)},set:function(t,r){var n=er(r);return new _n(t,tr(n),n.name)},object:function(t,r,n){return Ye(function(){return ln(h.useProxies===!1||n?.proxy===!1?lt({},n):hu({},n),t,r)})},ref:xe(ra),shallow:xe(na),deep:Mi,struct:xe(ia)},H=mi(Ti,aa),Ni="computed",ua="computed.struct",Ur=sn(Ni),fa=sn(ua,{equals:st.structural}),Ht=function(t,r){if(Zt(r))return Ur.decorate_20223_(t,r);if(it(r))return Ft(t,r,Ur);if(Ve(t))return xe(sn(Ni,t));var n=Ve(r)?r:{};return n.get=t,n.name||(n.name=t.name||""),new Ae(n)};Object.assign(Ht,Ur);Ht.struct=xe(fa);var In,Dn,dr=0,ca=1,la=(In=(Dn=hr(function(){},"name"))==null?void 0:Dn.configurable)!=null?In:!1,kn={value:"action",configurable:!0,writable:!1,enumerable:!1};function He(e,t,r,n){r===void 0&&(r=!1);function i(){return Bi(e,r,t,n||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return t.toString()},la&&(kn.value=e,je(i,"name",kn)),i}function Bi(e,t,r,n,i){var s=zi(e,t);try{return r.apply(n,i)}catch(o){throw s.error_=o,o}finally{Ii(s)}}function zi(e,t,r,n){var i=!1,s=0,o=h.trackingDerivation,a=!t||!o;ae();var u=h.allowStateChanges;a&&(ct(),u=Ar(!0));var f=Er(!0),c={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:u,prevAllowStateReads_:f,notifySpy_:i,startTime_:s,actionId_:ca++,parentActionId_:dr};return dr=c.actionId_,c}function Ii(e){dr!==e.actionId_&&S(30),dr=e.parentActionId_,e.error_!==void 0&&(h.suppressReactionErrors=!0),Sr(e.prevAllowStateChanges_),vt(e.prevAllowStateReads_),ue(),e.runAsAction_&&ke(e.prevDerivation_),h.suppressReactionErrors=!1}function on(e,t){var r=Ar(e);try{return t()}finally{Sr(r)}}function Ar(e){var t=h.allowStateChanges;return h.allowStateChanges=e,t}function Sr(e){h.allowStateChanges=e}var Fe=(function(e){function t(n,i,s,o,a){var u;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=st.default),u=e.call(this,s)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=i,u.name_=s,u.equals=a,u.value_=i(n,void 0,s),u}Ei(t,e);var r=t.prototype;return r.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},r.set=function(i){i=this.prepareNewValue_(i),i!==h.UNCHANGED&&this.setNewValue_(i)},r.prepareNewValue_=function(i){if(be(this)){var s=ve(this,{object:this,type:Me,newValue:i});if(!s)return h.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?h.UNCHANGED:i},r.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),Oe(this)&&we(this,{type:Me,object:this,newValue:i,oldValue:s})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(i){return Jt(this,i)},r.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:Me,newValue:this.value_,oldValue:void 0}),Xt(this,i)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return Si(this.get())},r[Symbol.toPrimitive]=function(){return this.valueOf()},t})(Xe),an=Je("ObservableValue",Fe),Ae=(function(){function e(r){this.dependenciesState_=N.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=N.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new gr(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=_r.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,r.get||S(31),this.derivation=r.get,this.name_=r.name||"ComputedValue",r.set&&(this.setter_=He("ComputedValue-setter",r.set)),this.equals_=r.equals||(r.compareStructural||r.struct?st.structural:st.default),this.scope_=r.context,this.requiresReaction_=r.requiresReaction,this.keepAlive_=!!r.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Oa(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},t.get=function(){if(this.isComputing&&S(32,this.name_,this.derivation),h.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Kr(this)&&(this.warnAboutUntrackedRead_(),ae(),this.value_=this.computeValue_(!1),ue());else if(Ui(this),Kr(this)){var n=h.trackingContext;this.keepAlive_&&!n&&(h.trackingContext=this),this.trackAndCompute()&&xa(this),h.trackingContext=n}var i=this.value_;if(or(i))throw i.cause;return i},t.set=function(n){if(this.setter_){this.isRunningSetter&&S(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,n)}finally{this.isRunningSetter=!1}}else S(34,this.name_)},t.trackAndCompute=function(){var n=this.value_,i=this.dependenciesState_===N.NOT_TRACKING_,s=this.computeValue_(!0),o=i||or(n)||or(s)||!this.equals_(n,s);return o&&(this.value_=s),o},t.computeValue_=function(n){this.isComputing=!0;var i=Ar(!1),s;if(n)s=Di(this,this.derivation,this.scope_);else if(h.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new gr(o)}return Sr(i),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(Fr(this),this.value_=void 0)},t.observe_=function(n,i){var s=this,o=!0,a=void 0;return fn(function(){var u=s.get();if(!o||i){var f=ct();n({observableKind:"computed",debugObjectName:s.name_,type:Me,object:s,newValue:u,oldValue:a}),ke(f)}o=!1,a=u})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Si(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},St(e,[{key:"isComputing",get:function(){return le(this.flags_,e.isComputingMask_)},set:function(n){this.flags_=he(this.flags_,e.isComputingMask_,n)}},{key:"isRunningSetter",get:function(){return le(this.flags_,e.isRunningSetterMask_)},set:function(n){this.flags_=he(this.flags_,e.isRunningSetterMask_,n)}},{key:"isBeingObserved",get:function(){return le(this.flags_,e.isBeingObservedMask_)},set:function(n){this.flags_=he(this.flags_,e.isBeingObservedMask_,n)}},{key:"isPendingUnobservation",get:function(){return le(this.flags_,e.isPendingUnobservationMask_)},set:function(n){this.flags_=he(this.flags_,e.isPendingUnobservationMask_,n)}},{key:"diffValue",get:function(){return le(this.flags_,e.diffValueMask_)?1:0},set:function(n){this.flags_=he(this.flags_,e.diffValueMask_,n===1)}}])})();Ae.isComputingMask_=1;Ae.isRunningSetterMask_=2;Ae.isBeingObservedMask_=4;Ae.isPendingUnobservationMask_=8;Ae.diffValueMask_=16;var at=Je("ComputedValue",Ae),N;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(N||(N={}));var _r;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(_r||(_r={}));var gr=function(t){this.cause=void 0,this.cause=t};function or(e){return e instanceof gr}function Kr(e){switch(e.dependenciesState_){case N.UP_TO_DATE_:return!1;case N.NOT_TRACKING_:case N.STALE_:return!0;case N.POSSIBLY_STALE_:{for(var t=Er(!0),r=ct(),n=e.observing_,i=n.length,s=0;s<i;s++){var o=n[s];if(at(o)){if(h.disableErrorBoundaries)o.get();else try{o.get()}catch{return ke(r),vt(t),!0}if(e.dependenciesState_===N.STALE_)return ke(r),vt(t),!0}}return ki(e),ke(r),vt(t),!1}}}function ha(){return h.trackingDerivation!==null}function Di(e,t,r){var n=Er(!0);ki(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++h.runId;var i=h.trackingDerivation;h.trackingDerivation=e,h.inBatch++;var s;if(h.disableErrorBoundaries===!0)s=t.call(r);else try{s=t.call(r)}catch(o){s=new gr(o)}return h.inBatch--,h.trackingDerivation=i,da(e),vt(n),s}function da(e){for(var t=e.observing_,r=e.observing_=e.newObserving_,n=N.UP_TO_DATE_,i=0,s=e.unboundDepsCount_,o=0;o<s;o++){var a=r[o];a.diffValue===0&&(a.diffValue=1,i!==o&&(r[i]=a),i++),a.dependenciesState_>n&&(n=a.dependenciesState_)}for(r.length=i,e.newObserving_=null,s=t.length;s--;){var u=t[s];u.diffValue===0&&Gi(u,e),u.diffValue=0}for(;i--;){var f=r[i];f.diffValue===1&&(f.diffValue=0,ya(f,e))}n!==N.UP_TO_DATE_&&(e.dependenciesState_=n,e.onBecomeStale_())}function Fr(e){var t=e.observing_;e.observing_=[];for(var r=t.length;r--;)Gi(t[r],e);e.dependenciesState_=N.NOT_TRACKING_}function un(e){var t=ct();try{return e()}finally{ke(t)}}function ct(){var e=h.trackingDerivation;return h.trackingDerivation=null,e}function ke(e){h.trackingDerivation=e}function Er(e){var t=h.allowStateReads;return h.allowStateReads=e,t}function vt(e){h.allowStateReads=e}function ki(e){if(e.dependenciesState_!==N.UP_TO_DATE_){e.dependenciesState_=N.UP_TO_DATE_;for(var t=e.observing_,r=t.length;r--;)t[r].lowestObserverState_=N.UP_TO_DATE_}}var _a=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],It=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ar=!0,Vi=!1,h=(function(){var e=yr();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ar=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new It().version&&(ar=!1),ar?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new It):(setTimeout(function(){Vi||S(35)},1),new It)})();function ga(){if((h.pendingReactions.length||h.inBatch||h.isRunningReactions)&&S(36),Vi=!0,ar){var e=yr();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),h=new It}}function ba(){return h}function va(){var e=new It;for(var t in e)_a.indexOf(t)===-1&&(h[t]=e[t]);h.allowStateChanges=!h.enforceActions}function pa(e){return e.observers_&&e.observers_.size>0}function ma(e){return e.observers_}function ya(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Gi(e,t){e.observers_.delete(t),e.observers_.size===0&&qi(e)}function qi(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,h.pendingUnobservations.push(e))}function ae(){h.inBatch++}function ue(){if(--h.inBatch===0){Fi();for(var e=h.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation=!1,r.observers_.size===0&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBUO()),r instanceof Ae&&r.suspend_())}h.pendingUnobservations=[]}}function Ui(e){var t=h.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&h.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&h.inBatch>0&&qi(e),!1)}function Ki(e){e.lowestObserverState_!==N.STALE_&&(e.lowestObserverState_=N.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===N.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=N.STALE_}))}function xa(e){e.lowestObserverState_!==N.STALE_&&(e.lowestObserverState_=N.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===N.POSSIBLY_STALE_?t.dependenciesState_=N.STALE_:t.dependenciesState_===N.UP_TO_DATE_&&(e.lowestObserverState_=N.UP_TO_DATE_)}))}function Oa(e){e.lowestObserverState_===N.UP_TO_DATE_&&(e.lowestObserverState_=N.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===N.UP_TO_DATE_&&(t.dependenciesState_=N.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Te=(function(){function e(r,n,i,s){r===void 0&&(r="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=N.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=_r.NONE,this.name_=r,this.onInvalidate_=n,this.errorHandler_=i,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,h.pendingReactions.push(this),Fi())},t.runReaction_=function(){if(!this.isDisposed){ae(),this.isScheduled=!1;var n=h.trackingContext;if(h.trackingContext=this,Kr(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}h.trackingContext=n,ue()}},t.track=function(n){if(!this.isDisposed){ae(),this.isRunning=!0;var i=h.trackingContext;h.trackingContext=this;var s=Di(this,n,void 0);h.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Fr(this),or(s)&&this.reportExceptionInDerivation_(s.cause),ue()}},t.reportExceptionInDerivation_=function(n){var i=this;if(this.errorHandler_){this.errorHandler_(n,this);return}if(h.disableErrorBoundaries)throw n;var s="[mobx] uncaught error in '"+this+"'";h.suppressReactionErrors||console.error(s,n),h.globalReactionErrorHandlers.forEach(function(o){return o(n,i)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(ae(),Fr(this),ue()))},t.getDisposer_=function(n){var i=this,s=function o(){i.dispose(),n==null||n.removeEventListener==null||n.removeEventListener("abort",o)};return n==null||n.addEventListener==null||n.addEventListener("abort",s),s[v]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(s[Symbol.dispose]=s),s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(n){},St(e,[{key:"isDisposed",get:function(){return le(this.flags_,e.isDisposedMask_)},set:function(n){this.flags_=he(this.flags_,e.isDisposedMask_,n)}},{key:"isScheduled",get:function(){return le(this.flags_,e.isScheduledMask_)},set:function(n){this.flags_=he(this.flags_,e.isScheduledMask_,n)}},{key:"isTrackPending",get:function(){return le(this.flags_,e.isTrackPendingMask_)},set:function(n){this.flags_=he(this.flags_,e.isTrackPendingMask_,n)}},{key:"isRunning",get:function(){return le(this.flags_,e.isRunningMask_)},set:function(n){this.flags_=he(this.flags_,e.isRunningMask_,n)}},{key:"diffValue",get:function(){return le(this.flags_,e.diffValueMask_)?1:0},set:function(n){this.flags_=he(this.flags_,e.diffValueMask_,n===1)}}])})();Te.isDisposedMask_=1;Te.isScheduledMask_=2;Te.isTrackPendingMask_=4;Te.isRunningMask_=8;Te.diffValueMask_=16;function wa(e){return h.globalReactionErrorHandlers.push(e),function(){var t=h.globalReactionErrorHandlers.indexOf(e);t>=0&&h.globalReactionErrorHandlers.splice(t,1)}}var Aa=100,Zr=function(t){return t()};function Fi(){h.inBatch>0||h.isRunningReactions||Zr(Sa)}function Sa(){h.isRunningReactions=!0;for(var e=h.pendingReactions,t=0;e.length>0;){++t===Aa&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction_()}h.isRunningReactions=!1}var br=Je("Reaction",Te);function Ea(e){var t=Zr;Zr=function(n){return e(function(){return t(n)})}}function Dt(){return!1}function Zi(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Wi="action",Ra="action.bound",Hi="autoAction",Pa="autoAction.bound",Ji="<unnamed action>",Wr=Wt(Wi),La=Wt(Ra,{bound:!0}),Hr=Wt(Hi,{autoAction:!0}),Ca=Wt(Pa,{autoAction:!0,bound:!0});function Xi(e){var t=function(n,i){if(de(n))return He(n.name||Ji,n,e);if(de(i))return He(n,i,e);if(Zt(i))return(e?Hr:Wr).decorate_20223_(n,i);if(it(i))return Ft(n,i,e?Hr:Wr);if(it(n))return xe(Wt(e?Hi:Wi,{name:n,autoAction:e}))};return t}var ye=Xi(!1);Object.assign(ye,Wr);var mt=Xi(!0);Object.assign(mt,Hr);ye.bound=xe(La);mt.bound=xe(Ca);function Vn(e){return Bi(e.name||Ji,!1,e,this,void 0)}function ut(e){return de(e)&&e.isMobxAction===!0}function fn(e,t){var r,n,i,s;t===void 0&&(t=tn);var o=(r=(n=t)==null?void 0:n.name)!=null?r:"Autorun",a=!t.scheduler&&!t.delay,u;if(a)u=new Te(o,function(){this.track(_)},t.onError,t.requiresObservable);else{var f=Yi(t),c=!1;u=new Te(o,function(){c||(c=!0,f(function(){c=!1,u.isDisposed||u.track(_)}))},t.onError,t.requiresObservable)}function _(){e(u)}return(i=t)!=null&&(i=i.signal)!=null&&i.aborted||u.schedule_(),u.getDisposer_((s=t)==null?void 0:s.signal)}var $a=function(t){return t()};function Yi(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:$a}function ja(e,t,r){var n,i,s;r===void 0&&(r=tn);var o=(n=r.name)!=null?n:"Reaction",a=ye(o,r.onError?Ma(r.onError,t):t),u=!r.scheduler&&!r.delay,f=Yi(r),c=!0,_=!1,b,C=r.compareStructural?st.structural:r.equals||st.default,x=new Te(o,function(){c||u?j():_||(_=!0,f(j))},r.onError,r.requiresObservable);function j(){if(_=!1,!x.isDisposed){var E=!1,O=b;x.track(function(){var d=on(!1,function(){return e(x)});E=c||!C(b,d),b=d}),(c&&r.fireImmediately||!c&&E)&&a(b,O,x),c=!1}}return(i=r)!=null&&(i=i.signal)!=null&&i.aborted||x.schedule_(),x.getDisposer_((s=r)==null?void 0:s.signal)}function Ma(e,t){return function(){try{return t.apply(this,arguments)}catch(r){e.call(this,r)}}}var Ta="onBO",Na="onBUO";function Qi(e,t,r){return es(Ta,e,t,r)}function cn(e,t,r){return es(Na,e,t,r)}function es(e,t,r,n){var i=typeof n=="function"?Ge(t,r):Ge(t),s=de(n)?n:r,o=e+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}var Ba="never",rr="always",za="observed";function Ia(e){e.isolateGlobalState===!0&&ga();var t=e.useProxies,r=e.enforceActions;if(t!==void 0&&(h.useProxies=t===rr?!0:t===Ba?!1:typeof Proxy<"u"),t==="ifavailable"&&(h.verifyProxies=!0),r!==void 0){var n=r===rr?rr:r===za;h.enforceActions=n,h.allowStateChanges=!(n===!0||n===rr)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in e&&(h[i]=!!e[i])}),h.allowStateReads=!h.observableRequiresReaction,e.reactionScheduler&&Ea(e.reactionScheduler)}function ln(e,t,r,n){var i=po(t);return Ye(function(){var s=lt(e,n)[v];pt(i).forEach(function(o){s.extend_(o,i[o],r&&o in r?r[o]:!0)})}),e}function Da(e,t){return ts(Ge(e,t))}function ts(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=Va(e.observing_).map(ts)),t}function ka(e,t){return rs(Ge(e,t))}function rs(e){var t={name:e.name_};return pa(e)&&(t.observers=Array.from(ma(e)).map(rs)),t}function Va(e){return Array.from(new Set(e))}var Ga=0;function Rr(){this.message="FLOW_CANCELLED"}Rr.prototype=Object.create(Error.prototype);function qa(e){return e instanceof Rr}var Nr=Li("flow"),Ua=Li("flow.bound",{bound:!0}),ft=Object.assign(function(t,r){if(Zt(r))return Nr.decorate_20223_(t,r);if(it(r))return Ft(t,r,Nr);var n=t,i=n.name||"<unnamed flow>",s=function(){var a=this,u=arguments,f=++Ga,c=ye(i+" - runid: "+f+" - init",n).apply(a,u),_,b=void 0,C=new Promise(function(x,j){var E=0;_=j;function O(y){b=void 0;var w;try{w=ye(i+" - runid: "+f+" - yield "+E++,c.next).call(c,y)}catch(L){return j(L)}g(w)}function d(y){b=void 0;var w;try{w=ye(i+" - runid: "+f+" - yield "+E++,c.throw).call(c,y)}catch(L){return j(L)}g(w)}function g(y){if(de(y?.then)){y.then(g,j);return}return y.done?x(y.value):(b=Promise.resolve(y.value),b.then(O,d))}O(void 0)});return C.cancel=ye(i+" - runid: "+f+" - cancel",function(){try{b&&Gn(b);var x=c.return(void 0),j=Promise.resolve(x.value);j.then(gt,gt),Gn(j),_(new Rr)}catch(E){_(E)}}),C};return s.isMobXFlow=!0,s},Nr);ft.bound=xe(Ua);function Gn(e){de(e.cancel)&&e.cancel()}function Ka(e){return e}function yt(e){return e?.isMobXFlow===!0}function Fa(e,t,r){var n;return re(e)||fe(e)||an(e)?n=qe(e):te(e)&&(n=qe(e,t)),n.dehancer=typeof t=="function"?t:r,function(){n.dehancer=void 0}}function Za(e,t,r){return de(r)?Ha(e,t,r):Wa(e,t)}function Wa(e,t){return qe(e).intercept_(t)}function Ha(e,t,r){return qe(e,t).intercept_(r)}function ns(e,t){if(t===void 0)return at(e);if(te(e)===!1||!e[v].values_.has(t))return!1;var r=Ge(e,t);return at(r)}function Ja(e){return ns(e)}function Xa(e,t){return ns(e,t)}function is(e,t){return e?t!==void 0?te(e)?e[v].values_.has(t):!1:te(e)||!!e[v]||rn(e)||br(e)||at(e):!1}function Pr(e){return is(e)}function Ya(e,t){return is(e,t)}function Vt(e){if(te(e))return e[v].keys_();if(re(e)||J(e))return Array.from(e.keys());if(fe(e))return e.map(function(t,r){return r});S(5)}function Qa(e){if(te(e))return Vt(e).map(function(t){return e[t]});if(re(e))return Vt(e).map(function(t){return e.get(t)});if(J(e))return Array.from(e.values());if(fe(e))return e.slice();S(6)}function eu(e){if(te(e))return Vt(e).map(function(t){return[t,e[t]]});if(re(e))return Vt(e).map(function(t){return[t,e.get(t)]});if(J(e))return Array.from(e.entries());if(fe(e))return e.map(function(t,r){return[r,t]});S(7)}function ss(e,t,r){if(arguments.length===2&&!J(e)){ae();var n=t;try{for(var i in n)ss(e,i,n[i])}finally{ue()}return}te(e)?e[v].set_(t,r):re(e)?e.set(t,r):J(e)?e.add(t):fe(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&S("Invalid index: '"+t+"'"),ae(),t>=e.length&&(e.length=t+1),e[t]=r,ue()):S(8)}function tu(e,t){te(e)?e[v].delete_(t):re(e)||J(e)?e.delete(t):fe(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):S(9)}function os(e,t){if(te(e))return e[v].has_(t);if(re(e))return e.has(t);if(J(e))return e.has(t);if(fe(e))return t>=0&&t<e.length;S(10)}function ru(e,t){if(os(e,t)){if(te(e))return e[v].get_(t);if(re(e))return e.get(t);if(fe(e))return e[t];S(11)}}function nu(e,t,r){if(te(e))return e[v].defineProperty_(t,r);S(39)}function as(e){if(te(e))return e[v].ownKeys_();S(38)}function iu(e,t,r,n){return de(r)?ou(e,t,r,n):su(e,t,r)}function su(e,t,r){return qe(e).observe_(t,r)}function ou(e,t,r,n){return qe(e,t).observe_(r,n)}function nr(e,t,r){return e.set(t,r),r}function _t(e,t){if(e==null||typeof e!="object"||e instanceof Date||!Pr(e))return e;if(an(e)||at(e))return _t(e.get(),t);if(t.has(e))return t.get(e);if(fe(e)){var r=nr(t,e,new Array(e.length));return e.forEach(function(o,a){r[a]=_t(o,t)}),r}if(J(e)){var n=nr(t,e,new Set);return e.forEach(function(o){n.add(_t(o,t))}),n}if(re(e)){var i=nr(t,e,new Map);return e.forEach(function(o,a){i.set(a,_t(o,t))}),i}else{var s=nr(t,e,{});return as(e).forEach(function(o){Ut.propertyIsEnumerable.call(e,o)&&(s[o]=_t(e[o],t))}),s}}function au(e,t){return _t(e,new Map)}function uu(){}function Ce(e,t){t===void 0&&(t=void 0),ae();try{return e.apply(t)}finally{ue()}}function fu(e,t,r){return arguments.length===1||t&&typeof t=="object"?cu(e,t):us(e,t,r||{})}function us(e,t,r){var n;if(typeof r.timeout=="number"){var i=new Error("WHEN_TIMEOUT");n=setTimeout(function(){if(!o[v].isDisposed)if(o(),r.onError)r.onError(i);else throw i},r.timeout)}r.name="When";var s=He("When-effect",t),o=fn(function(a){var u=on(!1,e);u&&(a.dispose(),n&&clearTimeout(n),s())},r);return o}function cu(e,t){var r;if(t!=null&&(r=t.signal)!=null&&r.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var n,i,s=new Promise(function(o,a){var u,f=us(e,o,We({},t,{onError:a}));n=function(){f(),a(new Error("WHEN_CANCELLED"))},i=function(){f(),a(new Error("WHEN_ABORTED"))},t==null||(u=t.signal)==null||u.addEventListener==null||u.addEventListener("abort",i)}).finally(function(){var o;return t==null||(o=t.signal)==null||o.removeEventListener==null?void 0:o.removeEventListener("abort",i)});return s.cancel=n,s}function dt(e){return e[v]}var lu={has:function(t,r){return dt(t).has_(r)},get:function(t,r){return dt(t).get_(r)},set:function(t,r,n){var i;return it(r)?(i=dt(t).set_(r,n,!0))!=null?i:!0:!1},deleteProperty:function(t,r){var n;return it(r)?(n=dt(t).delete_(r,!0))!=null?n:!0:!1},defineProperty:function(t,r,n){var i;return(i=dt(t).defineProperty_(r,n))!=null?i:!0},ownKeys:function(t){return dt(t).ownKeys_()},preventExtensions:function(t){S(13)}};function hu(e,t){var r,n;return yi(),e=lt(e,t),(n=(r=e[v]).proxy_)!=null?n:r.proxy_=new Proxy(e,lu)}function be(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Jt(e,t){var r=e.interceptors_||(e.interceptors_=[]);return r.push(t),xi(function(){var n=r.indexOf(t);n!==-1&&r.splice(n,1)})}function ve(e,t){var r=ct();try{for(var n=[].concat(e.interceptors_||[]),i=0,s=n.length;i<s&&(t=n[i](t),t&&!t.type&&S(14),!!t);i++);return t}finally{ke(r)}}function Oe(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Xt(e,t){var r=e.changeListeners_||(e.changeListeners_=[]);return r.push(t),xi(function(){var n=r.indexOf(t);n!==-1&&r.splice(n,1)})}function we(e,t){var r=ct(),n=e.changeListeners_;if(n){n=n.slice();for(var i=0,s=n.length;i<s;i++)n[i](t);ke(r)}}function fs(e,t,r){return Ye(function(){var n,i=lt(e,r)[v];(n=t)!=null||(t=wo(e)),pt(t).forEach(function(s){return i.make_(s,t[s])})}),e}var Br=Symbol("mobx-keys");function du(e,t,r){return Ve(e)?ln(e,e,t,r):(Ye(function(){var n=lt(e,r)[v];if(!e[Br]){var i=Object.getPrototypeOf(e),s=new Set([].concat(pt(e),pt(i)));s.delete("constructor"),s.delete(v),Kt(i,Br,s)}e[Br].forEach(function(o){return n.make_(o,t&&o in t?t[o]:!0)})}),e)}var qn="splice",Me="update",_u=1e4,gu={get:function(t,r){var n=t[v];return r===v?n:r==="length"?n.getArrayLength_():typeof r=="string"&&!isNaN(r)?n.get_(parseInt(r)):De(vr,r)?vr[r]:t[r]},set:function(t,r,n){var i=t[v];return r==="length"&&i.setArrayLength_(n),typeof r=="symbol"||isNaN(r)?t[r]=n:i.set_(parseInt(r),n),!0},preventExtensions:function(){S(15)}},hn=(function(){function e(r,n,i,s){r===void 0&&(r="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new Xe(r),this.enhancer_=function(o,a){return n(o,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},t.dehanceValues_=function(n){return this.dehancer!==void 0&&n.length>0?n.map(this.dehancer):n},t.intercept_=function(n){return Jt(this,n)},t.observe_=function(n,i){return i===void 0&&(i=!1),i&&n({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Xt(this,n)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(n){(typeof n!="number"||isNaN(n)||n<0)&&S("Out of range: "+n);var i=this.values_.length;if(n!==i)if(n>i){for(var s=new Array(n-i),o=0;o<n-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(n,i-n)},t.updateArrayLength_=function(n,i){n!==this.lastKnownLength_&&S(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&_s(n+i+1)},t.spliceWithArray_=function(n,i,s){var o=this,a=this.values_.length;if(n===void 0?n=0:n>a?n=a:n<0&&(n=Math.max(0,a+n)),arguments.length===1?i=a-n:i==null?i=0:i=Math.max(0,Math.min(i,a-n)),s===void 0&&(s=Vr),be(this)){var u=ve(this,{object:this.proxy_,type:qn,index:n,removedCount:i,added:s});if(!u)return Vr;i=u.removedCount,s=u.added}if(s=s.length===0?s:s.map(function(_){return o.enhancer_(_,void 0)}),this.legacyMode_){var f=s.length-i;this.updateArrayLength_(a,f)}var c=this.spliceItemsIntoValues_(n,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(n,s,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function(n,i,s){if(s.length<_u){var o;return(o=this.values_).splice.apply(o,[n,i].concat(s))}else{var a=this.values_.slice(n,n+i),u=this.values_.slice(n+i);this.values_.length+=s.length-i;for(var f=0;f<s.length;f++)this.values_[n+f]=s[f];for(var c=0;c<u.length;c++)this.values_[n+s.length+c]=u[c];return a}},t.notifyArrayChildUpdate_=function(n,i,s){var o=!this.owned_&&Dt(),a=Oe(this),u=a||o?{observableKind:"array",object:this.proxy_,type:Me,debugObjectName:this.atom_.name_,index:n,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&we(this,u)},t.notifyArraySplice_=function(n,i,s){var o=!this.owned_&&Dt(),a=Oe(this),u=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:qn,index:n,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&we(this,u)},t.get_=function(n){if(this.legacyMode_&&n>=this.values_.length){console.warn("[mobx] Out of bounds read: "+n);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[n])},t.set_=function(n,i){var s=this.values_;if(this.legacyMode_&&n>s.length&&S(17,n,s.length),n<s.length){var o=s[n];if(be(this)){var a=ve(this,{type:Me,object:this.proxy_,index:n,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var u=i!==o;u&&(s[n]=i,this.notifyArrayChildUpdate_(n,i,o))}else{for(var f=new Array(n+1-s.length),c=0;c<f.length-1;c++)f[c]=void 0;f[f.length-1]=i,this.spliceWithArray_(s.length,0,f)}},e})();function bu(e,t,r,n){return r===void 0&&(r="ObservableArray"),n===void 0&&(n=!1),yi(),Ye(function(){var i=new hn(r,t,n,!1);wi(i.values_,v,i);var s=new Proxy(i.values_,gu);return i.proxy_=s,e&&e.length&&i.spliceWithArray_(0,0,e),s})}var vr={clear:function(){return this.splice(0)},replace:function(t){var r=this[v];return r.spliceWithArray_(0,r.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var o=this[v];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,r)}return o.spliceWithArray_(t,r,i)},spliceWithArray:function(t,r,n){return this[v].spliceWithArray_(t,r,n)},push:function(){for(var t=this[v],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,n),t.values_.length},pop:function(){return this.splice(Math.max(this[v].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[v],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.spliceWithArray_(0,0,n),t.values_.length},reverse:function(){return h.trackingDerivation&&S(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){h.trackingDerivation&&S(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var r=this[v],n=r.dehanceValues_(r.values_).indexOf(t);return n>-1?(this.splice(n,1),!0):!1}};D("at",_e);D("concat",_e);D("flat",_e);D("includes",_e);D("indexOf",_e);D("join",_e);D("lastIndexOf",_e);D("slice",_e);D("toString",_e);D("toLocaleString",_e);D("toSorted",_e);D("toSpliced",_e);D("with",_e);D("every",Ee);D("filter",Ee);D("find",Ee);D("findIndex",Ee);D("findLast",Ee);D("findLastIndex",Ee);D("flatMap",Ee);D("forEach",Ee);D("map",Ee);D("some",Ee);D("toReversed",Ee);D("reduce",cs);D("reduceRight",cs);function D(e,t){typeof Array.prototype[e]=="function"&&(vr[e]=t(e))}function _e(e){return function(){var t=this[v];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_);return r[e].apply(r,arguments)}}function Ee(e){return function(t,r){var n=this,i=this[v];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[e](function(o,a){return t.call(r,o,a,n)})}}function cs(e){return function(){var t=this,r=this[v];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,t)},n[e].apply(n,arguments)}}var vu=Je("ObservableArrayAdministration",hn);function fe(e){return xr(e)&&vu(e[v])}var pu={},Ke="add",pr="delete",dn=(function(){function e(r,n,i){var s=this;n===void 0&&(n=ot),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[v]=pu,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=n,this.name_=i,de(Map)||S(18),Ye(function(){s.keysAtom_=nn("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,r&&s.merge(r)})}var t=e.prototype;return t.has_=function(n){return this.data_.has(n)},t.has=function(n){var i=this;if(!h.trackingDerivation)return this.has_(n);var s=this.hasMap_.get(n);if(!s){var o=s=new Fe(this.has_(n),Or,"ObservableMap.key?",!1);this.hasMap_.set(n,o),cn(o,function(){return i.hasMap_.delete(n)})}return s.get()},t.set=function(n,i){var s=this.has_(n);if(be(this)){var o=ve(this,{type:s?Me:Ke,object:this,newValue:i,name:n});if(!o)return this;i=o.newValue}return s?this.updateValue_(n,i):this.addValue_(n,i),this},t.delete=function(n){var i=this;if(be(this)){var s=ve(this,{type:pr,object:this,name:n});if(!s)return!1}if(this.has_(n)){var o=Dt(),a=Oe(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:pr,object:this,oldValue:this.data_.get(n).value_,name:n}:null;return Ce(function(){var f;i.keysAtom_.reportChanged(),(f=i.hasMap_.get(n))==null||f.setNewValue_(!1);var c=i.data_.get(n);c.setNewValue_(void 0),i.data_.delete(n)}),a&&we(this,u),!0}return!1},t.updateValue_=function(n,i){var s=this.data_.get(n);if(i=s.prepareNewValue_(i),i!==h.UNCHANGED){var o=Dt(),a=Oe(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:Me,object:this,oldValue:s.value_,name:n,newValue:i}:null;s.setNewValue_(i),a&&we(this,u)}},t.addValue_=function(n,i){var s=this;Ce(function(){var f,c=new Fe(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(n,c),i=c.value_,(f=s.hasMap_.get(n))==null||f.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=Dt(),a=Oe(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:Ke,object:this,name:n,newValue:i}:null;a&&we(this,u)},t.get=function(n){return this.has(n)?this.dehanceValue_(this.data_.get(n).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var n=this,i=this.keys();return Un({next:function(){var o=i.next(),a=o.done,u=o.value;return{done:a,value:a?void 0:n.get(u)}}})},t.entries=function(){var n=this,i=this.keys();return Un({next:function(){var o=i.next(),a=o.done,u=o.value;return{done:a,value:a?void 0:[u,n.get(u)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(n,i){for(var s=bt(this),o;!(o=s()).done;){var a=o.value,u=a[0],f=a[1];n.call(i,f,u,this)}},t.merge=function(n){var i=this;return re(n)&&(n=new Map(n)),Ce(function(){Ve(n)?vo(n).forEach(function(s){return i.set(s,n[s])}):Array.isArray(n)?n.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):At(n)?(bo(n)||S(19,n),n.forEach(function(s,o){return i.set(o,s)})):n!=null&&S(20,n)}),this},t.clear=function(){var n=this;Ce(function(){un(function(){for(var i=bt(n.keys()),s;!(s=i()).done;){var o=s.value;n.delete(o)}})})},t.replace=function(n){var i=this;return Ce(function(){for(var s=mu(n),o=new Map,a=!1,u=bt(i.data_.keys()),f;!(f=u()).done;){var c=f.value;if(!s.has(c)){var _=i.delete(c);if(_)a=!0;else{var b=i.data_.get(c);o.set(c,b)}}}for(var C=bt(s.entries()),x;!(x=C()).done;){var j=x.value,E=j[0],O=j[1],d=i.data_.has(E);if(i.set(E,O),i.data_.has(E)){var g=i.data_.get(E);o.set(E,g),d||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var y=i.data_.keys(),w=o.keys(),L=y.next(),F=w.next();!L.done;){if(L.value!==F.value){i.keysAtom_.reportChanged();break}L=y.next(),F=w.next()}i.data_=o}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(n,i){return Xt(this,n)},t.intercept_=function(n){return Jt(this,n)},St(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),re=Je("ObservableMap",dn);function Un(e){return e[Symbol.toStringTag]="MapIterator",vn(e)}function mu(e){if(At(e)||re(e))return e;if(Array.isArray(e))return new Map(e);if(Ve(e)){var t=new Map;for(var r in e)t.set(r,e[r]);return t}else return S(21,e)}var yu={},_n=(function(){function e(r,n,i){var s=this;n===void 0&&(n=ot),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[v]=yu,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,de(Set)||S(22),this.enhancer_=function(o,a){return n(o,a,i)},Ye(function(){s.atom_=nn(s.name_),r&&s.replace(r)})}var t=e.prototype;return t.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},t.clear=function(){var n=this;Ce(function(){un(function(){for(var i=bt(n.data_.values()),s;!(s=i()).done;){var o=s.value;n.delete(o)}})})},t.forEach=function(n,i){for(var s=bt(this),o;!(o=s()).done;){var a=o.value;n.call(i,a,a,this)}},t.add=function(n){var i=this;if(be(this)){var s=ve(this,{type:Ke,object:this,newValue:n});if(!s)return this;n=s.newValue}if(!this.has(n)){Ce(function(){i.data_.add(i.enhancer_(n,void 0)),i.atom_.reportChanged()});var o=!1,a=Oe(this),u=a||o?{observableKind:"set",debugObjectName:this.name_,type:Ke,object:this,newValue:n}:null;a&&we(this,u)}return this},t.delete=function(n){var i=this;if(be(this)){var s=ve(this,{type:pr,object:this,oldValue:n});if(!s)return!1}if(this.has(n)){var o=!1,a=Oe(this),u=a||o?{observableKind:"set",debugObjectName:this.name_,type:pr,object:this,oldValue:n}:null;return Ce(function(){i.atom_.reportChanged(),i.data_.delete(n)}),a&&we(this,u),!0}return!1},t.has=function(n){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(n))},t.entries=function(){var n=this.values();return Kn({next:function(){var s=n.next(),o=s.value,a=s.done;return a?{value:void 0,done:a}:{value:[o,o],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var n=this,i=this.data_.values();return Kn({next:function(){var o=i.next(),a=o.value,u=o.done;return u?{value:void 0,done:u}:{value:n.dehanceValue_(a),done:u}}})},t.intersection=function(n){if(Ne(n)&&!J(n))return n.intersection(this);var i=new Set(this);return i.intersection(n)},t.union=function(n){if(Ne(n)&&!J(n))return n.union(this);var i=new Set(this);return i.union(n)},t.difference=function(n){return new Set(this).difference(n)},t.symmetricDifference=function(n){if(Ne(n)&&!J(n))return n.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(n)},t.isSubsetOf=function(n){return new Set(this).isSubsetOf(n)},t.isSupersetOf=function(n){return new Set(this).isSupersetOf(n)},t.isDisjointFrom=function(n){if(Ne(n)&&!J(n))return n.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(n)},t.replace=function(n){var i=this;return J(n)&&(n=new Set(n)),Ce(function(){Array.isArray(n)?(i.clear(),n.forEach(function(s){return i.add(s)})):Ne(n)?(i.clear(),n.forEach(function(s){return i.add(s)})):n!=null&&S("Cannot initialize set from "+n)}),this},t.observe_=function(n,i){return Xt(this,n)},t.intercept_=function(n){return Jt(this,n)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},St(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),J=Je("ObservableSet",_n);function Kn(e){return e[Symbol.toStringTag]="SetIterator",vn(e)}var Fn=Object.create(null),Zn="remove",ls=(function(){function e(r,n,i,s){n===void 0&&(n=new Map),s===void 0&&(s=Wo),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=r,this.values_=n,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new Xe("ObservableObject.keys"),this.isPlainObject_=Ve(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(n){return this.values_.get(n).get()},t.setObservablePropValue_=function(n,i){var s=this.values_.get(n);if(s instanceof Ae)return s.set(i),!0;if(be(this)){var o=ve(this,{type:Me,object:this.proxy_||this.target_,name:n,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==h.UNCHANGED){var a=Oe(this),u=!1,f=a||u?{type:Me,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:n,newValue:i}:null;s.setNewValue_(i),a&&we(this,f)}return!0},t.get_=function(n){return h.trackingDerivation&&!De(this.target_,n)&&this.has_(n),this.target_[n]},t.set_=function(n,i,s){return s===void 0&&(s=!1),De(this.target_,n)?this.values_.has(n)?this.setObservablePropValue_(n,i):s?Reflect.set(this.target_,n,i):(this.target_[n]=i,!0):this.extend_(n,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(n){if(!h.trackingDerivation)return n in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(n);return i||(i=new Fe(n in this.target_,Or,"ObservableObject.key?",!1),this.pendingKeys_.set(n,i)),i.get()},t.make_=function(n,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(n in this.target_)){var s;if((s=this.target_[$e])!=null&&s[n])return;S(1,i.annotationType_,this.name_+"."+n.toString())}for(var o=this.target_;o&&o!==Ut;){var a=hr(o,n);if(a){var u=i.make_(this,n,a,o);if(u===0)return;if(u===1)break}o=Object.getPrototypeOf(o)}Hn(this,i,n)}},t.extend_=function(n,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(n,i,o);var a=s.extend_(this,n,i,o);return a&&Hn(this,s,n),a},t.defineProperty_=function(n,i,s){s===void 0&&(s=!1);try{ae();var o=this.delete_(n);if(!o)return o;if(be(this)){var a=ve(this,{object:this.proxy_||this.target_,name:n,type:Ke,newValue:i.value});if(!a)return null;var u=a.newValue;i.value!==u&&(i=We({},i,{value:u}))}if(s){if(!Reflect.defineProperty(this.target_,n,i))return!1}else je(this.target_,n,i);this.notifyPropertyAddition_(n,i.value)}finally{ue()}return!0},t.defineObservableProperty_=function(n,i,s,o){o===void 0&&(o=!1);try{ae();var a=this.delete_(n);if(!a)return a;if(be(this)){var u=ve(this,{object:this.proxy_||this.target_,name:n,type:Ke,newValue:i});if(!u)return null;i=u.newValue}var f=Wn(n),c={configurable:h.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:f.get,set:f.set};if(o){if(!Reflect.defineProperty(this.target_,n,c))return!1}else je(this.target_,n,c);var _=new Fe(i,s,"ObservableObject.key",!1);this.values_.set(n,_),this.notifyPropertyAddition_(n,_.value_)}finally{ue()}return!0},t.defineComputedProperty_=function(n,i,s){s===void 0&&(s=!1);try{ae();var o=this.delete_(n);if(!o)return o;if(be(this)){var a=ve(this,{object:this.proxy_||this.target_,name:n,type:Ke,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var u=Wn(n),f={configurable:h.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,n,f))return!1}else je(this.target_,n,f);this.values_.set(n,new Ae(i)),this.notifyPropertyAddition_(n,void 0)}finally{ue()}return!0},t.delete_=function(n,i){if(i===void 0&&(i=!1),!De(this.target_,n))return!0;if(be(this)){var s=ve(this,{object:this.proxy_||this.target_,name:n,type:Zn});if(!s)return null}try{var o;ae();var a=Oe(this),u=!1,f=this.values_.get(n),c=void 0;if(!f&&(a||u)){var _;c=(_=hr(this.target_,n))==null?void 0:_.value}if(i){if(!Reflect.deleteProperty(this.target_,n))return!1}else delete this.target_[n];if(f&&(this.values_.delete(n),f instanceof Fe&&(c=f.value_),Ki(f)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(n))==null||o.set(n in this.target_),a||u){var b={type:Zn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:c,name:n};a&&we(this,b)}}finally{ue()}return!0},t.observe_=function(n,i){return Xt(this,n)},t.intercept_=function(n){return Jt(this,n)},t.notifyPropertyAddition_=function(n,i){var s,o=Oe(this),a=!1;if(o||a){var u=o||a?{type:Ke,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:n,newValue:i}:null;o&&we(this,u)}(s=this.pendingKeys_)==null||(s=s.get(n))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),pt(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function lt(e,t){var r;if(De(e,v))return e;var n=(r=t?.name)!=null?r:"ObservableObject",i=new ls(e,new Map,String(n),sa(t));return Kt(e,v,i),e}var xu=Je("ObservableObjectAdministration",ls);function Wn(e){return Fn[e]||(Fn[e]={get:function(){return this[v].getObservablePropValue_(e)},set:function(r){return this[v].setObservablePropValue_(e,r)}})}function te(e){return xr(e)?xu(e[v]):!1}function Hn(e,t,r){var n;(n=e.target_[$e])==null||delete n[r]}var Ou=ds(0),zr=0,hs=function(){};function wu(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}wu(hs,Array.prototype);var gn=(function(e){function t(n,i,s,o){var a;return s===void 0&&(s="ObservableArray"),o===void 0&&(o=!1),a=e.call(this)||this,Ye(function(){var u=new hn(s,i,o,!0);u.proxy_=a,wi(a,v,u),n&&n.length&&a.spliceWithArray(0,0,n),Object.defineProperty(a,"0",Ou)}),a}Ei(t,e);var r=t.prototype;return r.concat=function(){this[v].atom_.reportObserved();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return fe(a)?a.slice():a}))},r[Symbol.iterator]=function(){var n=this,i=0;return vn({next:function(){return i<n.length?{value:n[i++],done:!1}:{done:!0,value:void 0}}})},St(t,[{key:"length",get:function(){return this[v].getArrayLength_()},set:function(i){this[v].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(hs);Object.entries(vr).forEach(function(e){var t=e[0],r=e[1];t!=="concat"&&Kt(gn.prototype,t,r)});function ds(e){return{enumerable:!1,configurable:!0,get:function(){return this[v].get_(e)},set:function(r){this[v].set_(e,r)}}}function Au(e){je(gn.prototype,""+e,ds(e))}function _s(e){if(e>zr){for(var t=zr;t<e+100;t++)Au(t);zr=e}}_s(1e3);function Su(e,t,r){return new gn(e,t,r)}function Ge(e,t){if(typeof e=="object"&&e!==null){if(fe(e))return t!==void 0&&S(23),e[v].atom_;if(J(e))return e.atom_;if(re(e)){if(t===void 0)return e.keysAtom_;var r=e.data_.get(t)||e.hasMap_.get(t);return r||S(25,t,mr(e)),r}if(te(e)){if(!t)return S(26);var n=e[v].values_.get(t);return n||S(27,t,mr(e)),n}if(rn(e)||at(e)||br(e))return e}else if(de(e)&&br(e[v]))return e[v];S(28)}function qe(e,t){if(e||S(29),t!==void 0)return qe(Ge(e,t));if(rn(e)||at(e)||br(e)||re(e)||J(e))return e;if(e[v])return e[v];S(24,e)}function mr(e,t){var r;if(t!==void 0)r=Ge(e,t);else{if(ut(e))return e.name;te(e)||re(e)||J(e)?r=qe(e):r=Ge(e)}return r.name_}function Ye(e){var t=ct(),r=Ar(!0);ae();try{return e()}finally{ue(),Sr(r),ke(t)}}var Jn=Ut.toString;function bn(e,t,r){return r===void 0&&(r=-1),Jr(e,t,r)}function Jr(e,t,r,n,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var o=Jn.call(e);if(o!==Jn.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":r>=0&&r++;break}e=Xn(e),t=Xn(t);var a=o==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var u=e.constructor,f=t.constructor;if(u!==f&&!(de(u)&&u instanceof u&&de(f)&&f instanceof f)&&"constructor"in e&&"constructor"in t)return!1}if(r===0)return!1;r<0&&(r=-1),n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),a){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!Jr(e[c],t[c],r-1,n,i))return!1}else{var _=Object.keys(e),b=_.length;if(Object.keys(t).length!==b)return!1;for(var C=0;C<b;C++){var x=_[C];if(!(De(t,x)&&Jr(e[x],t[x],r-1,n,i)))return!1}}return n.pop(),i.pop(),!0}function Xn(e){return fe(e)?e.slice():At(e)||re(e)||Ne(e)||J(e)?Array.from(e.entries()):e}var Yn,Eu=((Yn=yr().Iterator)==null?void 0:Yn.prototype)||{};function vn(e){return e[Symbol.iterator]=Ru,Object.assign(Object.create(Eu),e)}function Ru(){return this}["Symbol","Map","Set"].forEach(function(e){var t=yr();typeof t[e]>"u"&&S("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Zi,extras:{getDebugName:mr},$mobx:v});const xc=Object.freeze(Object.defineProperty({__proto__:null,$mobx:v,FlowCancellationError:Rr,ObservableMap:dn,ObservableSet:_n,Reaction:Te,_allowStateChanges:on,_allowStateChangesInsideComputed:Vn,_allowStateReadsEnd:vt,_allowStateReadsStart:Er,_autoAction:mt,_endAction:Ii,_getAdministration:qe,_getGlobalState:ba,_interceptReads:Fa,_isComputingDerivation:ha,_resetGlobalState:va,_startAction:zi,action:ye,autorun:fn,comparer:st,computed:Ht,configure:Ia,createAtom:nn,defineProperty:nu,entries:eu,extendObservable:ln,flow:ft,flowResult:Ka,get:ru,getAtom:Ge,getDebugName:mr,getDependencyTree:Da,getObserverTree:ka,has:os,intercept:Za,isAction:ut,isBoxedObservable:an,isComputed:Ja,isComputedProp:Xa,isFlow:yt,isFlowCancellationError:qa,isObservable:Pr,isObservableArray:fe,isObservableMap:re,isObservableObject:te,isObservableProp:Ya,isObservableSet:J,keys:Vt,makeAutoObservable:du,makeObservable:fs,observable:H,observe:iu,onBecomeObserved:Qi,onBecomeUnobserved:cn,onReactionError:wa,override:Co,ownKeys:as,reaction:ja,remove:tu,runInAction:Vn,set:ss,spy:Zi,toJS:au,trace:uu,transaction:Ce,untracked:un,values:Qa,when:fu},Symbol.toStringTag,{value:"Module"}));class Oc extends nt{constructor(t){super(t),fs(this,{_m:H,set:ye,delete:ye,clear:ye})}}const wc=e=>{const t=lr.createContext(void 0),r=()=>lr.useContext(t);return{ctx:t,use:()=>Zs(r(),()=>`"${e}" is not provided`),useIfProvided:r,provider:t.Provider}};function Pu(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}class gs{constructor(){ge(this,"callback",null);ge(this,"ref",{observer:()=>this.observer,_current:null,get current(){return this._current},set current(t){this._current!==t&&(this._current&&this.observer().unobserve(this._current),this._current=t,t&&this.observer().observe(t))}})}setCallback(t){this.callback=t}get observer(){return new ResizeObserver(t=>this.observed(t))}observed(t){if(!this.callback)return;const r=t.find(n=>n.target===this.ref.current);r&&this.callback(r)}destroy(){this.ref.current=null}}Pu([Ot],gs.prototype,"observer",null);const Ac=e=>{const t=lr.useRef(void 0);return t.current||(t.current=new gs),t.current.callback=e,lr.useEffect(()=>()=>{t.current&&(t.current.destroy(),t.current=void 0)},[]),t.current};const{abs:xt,atan2:bs,cos:rt,floor:Lu,log:ze,min:vs,max:pn,round:Q,sign:Qn,sin:Cu,sqrt:ur,cbrt:$u,PI:Le,hypot:ps}=Math;function ee(e,t,r){return e+(t-e)*r}function ju(e,t,r){return(r-e)/(t-e)}function X(e,t=0,r=1){return e<t?t:e>r?r:e}function Ir(e,t,r,n=1e-8){let i=t,s;for(;r--&&xt(s=e(i))>n;){const o=(e(i+n)-s)/n;console.log("fx / dfdx",s/o,"fx",s,"x",i),i=i-s/o}return i}function Mu(e,t,r,n){let i=e(t);for(;n--;){const s=(t+r)/2,o=e(s);Qn(i)==Qn(o)?(t=s,i=o):r=s}return(t+r)/2}const Xr=Le/180,mn=180/Le;function Gt(...e){return e[0]instanceof Se?e[0]:e.length>1&&typeof e[e.length-1]=="string"?Ze(e.slice(0,e.length-1),e[e.length-1]):Array.isArray(e[0])?Ze(e[0]):Ze(e)}class Se{constructor(t,r,n,i=1){this.r=t,this.g=r,this.b=n,this.a=i}mix(t,r,n="rgb"){return fr(this,t,r,n)}rgb(t=!0,r=!0){const n=a=>(t&&(a=Q(a)),r&&(a=X(a,0,255)),a),{r:i,g:s,b:o}=this;return[n(i),n(s),n(o)]}rgba(t=!0,r=!0){const n=u=>(t&&(u=Q(u)),r&&(u=X(u,0,255)),u),{r:i,g:s,b:o,a}=this;return[n(i),n(s),n(o),a]}hex(t="rgb"){const{r,g:n,b:i,a:s}=this;return Du(r,n,i,s,t)}hsl(){const{r:t,g:r,b:n}=this;return nf(t,r,n)}hsv(){const{r:t,g:r,b:n}=this;return of(t,r,n)}hcg(){const{r:t,g:r,b:n}=this;return uf(t,r,n)}css(t="rgb"){if(t=="rgb"){const{r,g:n,b:i,a:s}=this;return Zu(r,n,i,s)}else{if(t=="hsl")return Wu(this.hsl(),this.alpha());throw new Error}}name(t=!1){const r=this.num(),n=Object.keys(Ie).find(i=>Ie[i]==r);if(!n&&t){const[i,s,o]=this.lab();return gf(Object.keys(Ie),a=>{const[u,f,c]=ms(Ie[a]).lab();return-ps(i-u,s-f,o-c)})}return n}cmyk(){const{r:t,g:r,b:n}=this;return Qu(t,r,n)}gl(){const{r:t,g:r,b:n,a:i}=this;return[t/255,r/255,n/255,i]}luminance(t){const{r,g:n,b:i,a:s}=this,[,o]=Yr(r,n,i);if(t===void 0)return o;const a=(u,f,c)=>(c-u)/(f-u);return t>o?fr(this,ti,a(o,1,t),"xyz").alpha(s):fr(ei,this,a(0,o,t),"xyz").alpha(s)}temperature(){const{r:t,g:r,b:n}=this;return rf(t,r,n)}set(t,r){const[n,i]=t.split("."),s=this[n](),o=n.indexOf(i);if(o==-1)throw new Error("invalid channel");return s[o]=typeof r=="number"?r:r(s[o]),Gt(s,n).alpha(this.a)}clipped(){const{r:t,g:r,b:n}=this;return!(0<=t&&t<=255&&0<=r&&r<=255&&0<=n&&n<=255)}textColor(){return this.luminance()>.5?ei:ti}alpha(t){if(t===void 0)return this.a;const{r,g:n,b:i}=this;return ni(r,n,i,t)}darker(t=1){const[r,n,i]=this.lab();return Bu(r-ai*t,n,i,this.alpha())}brighter(t=1){return this.darker(-t)}saturate(t=1){const[r,n,i]=this.lch();return Nu(r,pn(0,n+t*ai),i,this.alpha())}desaturate(t=1){return this.saturate(-t)}premultiplied(){const{r:t,g:r,b:n,a:i}=this;return ni(t*i,r*i,n*i,i)}hsi(){const{r:t,g:r,b:n}=this;return _f(t,r,n)}lab(){const{r:t,g:r,b:n}=this;return Ps(t,r,n)}num(t="rgb"){const{r,g:n,b:i,a:s}=this;return ku(r,n,i,s,t)}lch(){const{r:t,g:r,b:n}=this;return Yu(t,r,n)}xyz(){const{r:t,g:r,b:n}=this;return Yr(t,r,n)}equals(t){const{r,g:n,b:i,a:s}=this,{r:o,g:a,b:u,a:f}=t;return r==o&&n==a&&i==u&&s==f}hashCode(){return this.num("rgba")}toSource(){const{r:t,g:r,b:n,a:i}=this;return"chroma.rgb("+t+", "+r+", "+n+(i===1?")":", "+i+")")}}Se.prototype.toString=Se.prototype.css;Se.prototype.kelvin=Se.prototype.temperature;const ei=new Se(0,0,0,1),ti=new Se(255,255,255,1),Tu={OrRd:[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072],PuBu:[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496],BuPu:[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347],Oranges:[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060],BuGn:[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435],YlOrBr:[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150],YlGn:[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705],Reds:[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221],RdPu:[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234],Greens:[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435],YlGnBu:[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800],Purples:[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893],GnBu:[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801],Greys:[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0],YlOrRd:[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646],PuRd:[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239],Blues:[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683],PuBuGn:[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510],Viridis:[4456788,4728695,4147850,3237774,2524047,2071946,7130714,11984427,16705573],Spectral:[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770],RdYlGn:[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679],RdBu:[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065],PiYG:[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529],PRGn:[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435],RdYlBu:[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237],BrBG:[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408],RdGy:[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618],PuOr:[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195],Set2:[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947],Accent:[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886],Set1:[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329],Set3:[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463],Dark2:[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886],Paired:[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696],Pastel2:[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772],Pastel1:[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906]},Ie={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflower:6591981,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,laserlemon:16777044,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrod:16448210,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,maroon2:8323072,maroon3:11546720,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,purple2:8323199,purple3:10494192,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fr(e,t,r=.5,n="rgb"){const i=Gt(e),s=Gt(t),o=pe[n]&&pe[n](i,s,r,n);if(!o)throw new Error("color mode "+n+" is not supported");return o.alpha(ee(i.alpha(),s.alpha(),r))}function Sc(e){const[t,r,n,i]=Os(e);return new Se(t,r,n,i)}function Nu(...e){return Ze(e,"lch")}function ri(...e){return Ze(e,"hsl")}function Bu(...e){return Ze(e,"lab")}function ms(e){const[t,r,n]=Cr(e);return new Se(t,r,n)}function ni(...e){return Ze(e,"rgb")}function ii(...e){const t=(r=>t._at(r));return Object.getOwnPropertyNames(si.prototype).forEach(r=>t[r]=si.prototype[r]),Array.isArray(e[0])&&(e=e[0]),e.length==1&&typeof e[0]=="string"&&(e=Tu[e[0]]),t._init(typeof e[0]=="function"?e[0]:e.map(r=>Gt(r))),t}class si{classes(t){if(t===void 0)return this._classes;if(Array.isArray(t))this._classes=t,this.domain(t[0],t[t.length-1]);else{if(t%1!=0||t<1)throw new Error("invalid classes param");this._classes=ys(this.domain(),"e",t)}return this}domain(...t){if(t[0]===void 0)return typeof this._colors!="function"?this._pos.map(r=>ee(this._min,this._max,r)):[this._min,this._max];if(this._min=t[0],this._max=t[t.length-1],t.length==2)typeof this._colors!="function"&&(this._pos=this._colors.map((r,n)=>n/(this._colors.length-1)));else if(typeof this._colors!="function"&&t.length==this._colors.length)this._pos=t.map(r=>ju(this._min,this._max,r));else throw new Error("invalid domain "+t);return this}mode(t){return t===void 0?this._mode:(this._mode=t,this._resetCache(),this)}out(t){return this._out=t,this}correctLightness(t=!0){if(this._correctLightness!=t){this._resetCache();const r=this._colors;if(t&&typeof r!="function"){let n=0;for(let i=1;i<r.length;i++){const s=r[i].lab()[0]-r[i-1].lab()[0];if(n==0)n=s;else if(n*s<0)throw new Error("scale color lightnesses must be monotonic")}}}return this._correctLightness=t,this}padding(t,r=t){return t?(this._paddingLeft=t,this._paddingRight=r,this):[this._paddingLeft,this._paddingRight]}colors(t,r="hex"){let n;if(t===void 0)n=this._colors.slice();else if(t==1)n=[this._color((this._min+this._max)/2)];else if(t>1)n=Array.from({length:t},(i,s)=>this._color(ee(this._min,this._max,s/(t-1))));else{let i;this._classes&&this._classes.length>2?i=Array.from({length:this._classes.length-1},(s,o)=>(this._classes[o]+this._classes[o+1])*.5):i=this.domain(),n=i.map(s=>this._color(s))}return r!="color"?n.map(i=>i[r]()):n}cache(t){return t===void 0?!!this._cache:(this._cache=t?this._cache||new Map:void 0,this)}gamma(t){return t===void 0?this._gamma:(this._gamma=t,this)}_at(t){const r=this._color(t);return this._out?r[this._out]():r}_init(t){this._colors=t,typeof t!="function"&&(this._pos=t.map((r,n)=>n/(t.length-1))),this._mode="rgb",this.domain(0,1),this._paddingLeft=0,this._paddingRight=0,this._correctLightness=!1,this._cache=new Map,this._gamma=1}_getClass(t){return this._classes.findIndex(r=>t<=r)-1}_color(t,r=!1){let n;if(r)n=t;else{const o=this._min,a=this._max;this._classes&&this._classes.length>2?n=this._getClass(t)/(this._classes.length-2):a!==o?n=(t-o)/(a-o):n=1,this._correctLightness&&(n=this._tCorrectedLightness(n))}n=n**this._gamma,n=(this._paddingLeft+n)/(1+this._paddingLeft+this._paddingRight),n=X(n,0,1);const i=n,s=this._cache&&this._cache.get(i);if(s)return s;{let o;if(Array.isArray(this._colors))for(let a=0;a<this._pos.length;a++){const u=this._pos[a];if(n<=u){o=this._colors[a];break}if(n>=u&&a==this._pos.length-1){o=this._colors[a];break}if(n>u&&n<this._pos[a+1]){n=(n-u)/(this._pos[a+1]-u),o=fr(this._colors[a],this._colors[a+1],n,this._mode);break}}else o=this._colors(n);return this._cache&&this._cache.set(i,o),o}}_tCorrectedLightness(t){const r=this._color(0,!0).lab()[0],n=this._color(1,!0).lab()[0],i=ee(r,n,t);return Mu(s=>this._color(s,!0).lab()[0]-i,0,1,8)}_resetCache(){this._cache&&this._cache.clear()}}var oi;(function(e){function t(){return ii([ri(180,1,.9),ri(250,.7,.4)])}e.cool=t;function r(){return ii(["#000","#f00","#ff0","#fff"]).mode("rgb")}e.hot=r})(oi||(oi={}));function zu(e){const t={min:1/0,max:-1/0,sum:0,values:[],count:0};function r(n){n!=null&&!isNaN(n)&&(t.values.push(n),t.sum+=n,n<t.min&&(t.min=n),n>t.max&&(t.max=n),t.count+=1)}return e.forEach(n=>r(n)),t.domain=[t.min,t.max],t.limits=function(n,i){return ys(this,n,i)},t}function ys(e,t="e",r=7){const n=Array.isArray(e)?zu(e):e,{min:i,max:s,values:o}=n;if(o.sort((a,u)=>a-u),r==1)return[i,s];if(t.startsWith("c"))return[i,s];if(t.startsWith("e"))return Array.from({length:r+1},(a,u)=>ee(i,s,u/r));if(t.startsWith("l")){if(i<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*ze(i),u=Math.LOG10E*ze(s);return Array.from({length:r+1},(f,c)=>10**ee(a,u,c/r))}else{if(t.startsWith("q"))return Array.from({length:r+1},(a,u)=>{const f=(o.length-1)*u/r,c=Lu(f);return c==f?o[c]:ee(o[c],o[c+1],f-c)});if(t.startsWith("k")){const a=o.length,u=new Array(a),f=new Array(r);let c=!0,_=0,b=Array.from({length:r+1},(E,O)=>ee(i,s,O/r));do{f.fill(0);for(let O=0;O<o.length;O++){const d=o[O],g=Cs(b,y=>-xt(y-d));f[g]++,u[O]=g}const E=new Array(r).fill(0);for(let O=0;O<u.length;O++){const d=u[O];E[d]+=o[O]}for(let O=0;O<E.length;O++)E[O]/=f[O];c=E.some((O,d)=>O!=b[d]),b=E}while(_++<200&&c);const C=Array.from({length:r},()=>[]);for(let E=0;E<u.length;E++){const O=u[E];C[O].push(o[E])}const x=[];for(const E of C)x.push(E[0],E[E.length-1]);x.sort((E,O)=>E-O);const j=[];j.push(x[0]);for(let E=1;E<x.length;E+=2){const O=x[E];!isNaN(O)&&j.indexOf(O)==-1&&j.push(O)}return j}else throw new Error("unknown mode")}}const pe={},Z={};function Iu(e,t,r,n){const i=e[n](),s=t[n]();return Ze([ee(i[0],s[0],r),ee(i[1],s[1],r),ee(i[2],s[2],r),ee(e.alpha(),t.alpha(),r)],n)}pe.xyz=pe.rgb=pe.lab=Iu;pe.num=function(e,t,r){const n=e.num(),i=t.num();return ms(ee(n,i,r))};pe.lrgb=function(e,t,r){const[n,i,s,o]=e.rgba(!1,!1),[a,u,f,c]=t.rgba(!1,!1);return new Se(ur(n**2*(1-r)+a**2*r),ur(i**2*(1-r)+u**2*r),ur(s**2*(1-r)+f**2*r),ee(o,c,r))};function Ze(e,t){if(Array.isArray(e[0])&&(e=e[0]),!t)if(e.length==1&&e[0]in Ie)t="name";else if(e.length==1&&typeof e[0]=="string")t="css";else if(e.length==3)t="rgb";else if(e.length==4&&typeof e[3]=="number"&&e[3]>=0&&e[3]<=1)t="rgb";else if(e.length==1&&typeof e[0]=="number"&&e[0]>=0&&e[0]<=16777215)t="num";else throw new Error("could not guess mode. args "+JSON.stringify(e));const r=Z[t](...e);return new Se(r[0],r[1],r[2],r[3]!==void 0?r[3]:1)}function xs(e){let t;if(t=e.match(/^#?([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})?$/i))return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),t[4]?parseInt(t[4],16)/255:1];if(t=e.match(/^#?([A-F\d])([A-F\d])([A-F\d])([A-F\d])?$/i))return[parseInt(t[1],16)*17,parseInt(t[2],16)*17,parseInt(t[3],16)*17,t[4]?parseInt(t[4],16)*17/255:1];throw new Error("invalid hex color: "+e)}function Du(e,t,r,n,i="rgb"){e=X(Q(e),0,255),t=X(Q(t),0,255),r=X(Q(r),0,255);const o=(e<<16|t<<8|r).toString(16).padStart(6,"0"),a=Q(X(n)*255).toString(16).padStart(2,"0");return"#"+(i=="argb"?a+o:i=="rgba"?o+a:o)}Z.lrgb=Z.rgb;Z.hex=xs;Z.hsl=ws;function Lr(e){return(e%360+360)%360}Z.hsv=sf;function Cr(e){if(!(typeof e=="number"&&e>=0&&e<=16777215))throw new Error("unknown num color: "+e);const t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}function ku(e,t,r,n=1,i="rgb"){const s=Q(e)<<16|Q(t)<<8|Q(r);return i==="rgb"?s:i==="rgba"?s<<8|Q(n*255)<<24:Q(n*255)<<24|s}Z.num=Cr;const Et="\\s*",U="([+-]?(?:\\d*\\.?)?\\d+(?:[eE][+-]?\\d+)?)",Vu=new RegExp(["^rgba?\\(",U,",",U,",",U,"(?:,",U+"(%)?",")?\\)$"].join(Et),"i"),Gu=new RegExp(["^rgba?\\(",U,U,U,"(?:/",U+"(%)?",")?\\)$"].join(Et),"i"),qu=new RegExp(["^rgba?\\(",U+"%",",",U+"%",",",U+"%","(?:,",U+"(%)?",")?\\)$"].join(Et),"i"),Uu=new RegExp(["^rgba?\\(",U+"%",U+"%",U+"%","(?:/",U+"(%)?",")?\\)$"].join(Et),"i"),Ku=new RegExp(["^hsla?\\(",U+"(deg|rad|turn)?",",",U+"%",",",U+"%","(?:,",U+"(%)?",")?\\)$"].join(Et),"i"),Fu=new RegExp(["^hsla?\\(",U+"(deg|rad|turn)?\\s+"+U+"%",U+"%","(?:/",U+"(%)?",")?\\)$"].join(Et),"i");function Os(e){if(Ie&&Ie.hasOwnProperty(e))return Cr(Ie[e.toLowerCase()]);let t;if(t=e.match(Vu)||e.match(Gu))return[X(+t[1],0,255),X(+t[2],0,255),X(+t[3],0,255),t[4]?X(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(qu)||e.match(Uu))return[X(+t[1]/100)*255,X(+t[2]/100)*255,X(+t[3]/100)*255,t[4]?X(t[5]?+t[4]/100:+t[4]):1];if(t=e.match(Ku)||e.match(Fu)){const r={deg:1,rad:mn,turn:360},n=t[2]?t[2].toLowerCase():"deg";return ws((+t[1]*r[n]%360+360)%360,X(+t[3]/100),X(+t[4]/100),t[5]?X(t[6]?+t[5]/100:+t[5]):1)}else return xs(e)}function Zu(e,t,r,n=1){return n>=1?"rgb("+[e,t,r].map(Q).join(",")+")":"rgba("+[e,t,r].map(Q).join(",")+","+n+")"}function ir(e){return Q(e*100)/100}function Wu([e,t,r],n){const i=n<1?"hsla":"hsl";return i+"("+ir(e)+","+ir(t*100)+"%,"+ir(r*100)+"%"+(i=="hsla"?","+ir(n):"")+")"}Z.css=Os;Z.name=function(e){return Cr(Ie[e])};function Hu(e,t,r){return[e,rt(r*Xr)*t,Cu(r*Xr)*t]}function Ju(e,t,r,n=1){const[,i,s]=Hu(e,t,r);return As(e,i,s,n)}function Xu(e,t,r){const n=ps(t,r),i=(bs(r,t)*mn+360)%360;return[e,n,i]}function Yu(e,t,r){const[n,i,s]=Ps(e,t,r);return Xu(n,i,s)}Z.lch=Ju;function Qu(e,t,r){e/=255,t/=255,r/=255;const n=1-pn(e,t,r);if(n==1)return[0,0,0,1];const i=(1-e-n)/(1-n),s=(1-t-n)/(1-n),o=(1-r-n)/(1-n);return[i,s,o,n]}function ef(e,t,r,n,i=1){if(n==1)return[0,0,0,i];const s=255*(1-e)*(1-n),o=255*(1-t)*(1-n),a=255*(1-r)*(1-n);return[s,o,a,i]}Z.cmyk=ef;Z.gl=function(e,t,r,n=1){return[e*255,t*255,r*255,n]};function Dr(e){const t=e/255;return t<=.04045?t/12.92:((t+.055)/1.055)**2.4}function kr(e){return e<=.0031308?255*(12.92*e):255*((1+.055)*e**(1/2.4)-.055)}function tf(e){const t=e/100;let r,n,i;return t<66?(r=255,n=-155.25485562709179-.44596950469579133*(t-2)+104.49216199393888*ze(t-2),i=t<20?0:-254.76935184120902+.8274096064007395*(t-10)+115.67994401066147*ze(t-10)):(r=351.97690566805693+.114206453784165*(t-55)-40.25366309332127*ze(t-55),n=325.4494125711974+.07943456536662342*(t-50)-28.0852963507957*ze(t-50),i=255),[r,n,i]}Z.rgb=(...e)=>e;function rf(e,t,r){return console.log(r-e),t+r<158.61?(console.log("0 < t < 20"),Q(Ir(n=>t-(-155.25485562709179-.44596950469579133*(n-2)+104.49216199393888*ze(n-2)),15,4)*100)):r-e<0?(console.log("20 < t < 66"),Q(Ir(n=>r-(-254.76935184120902+.8274096064007395*(n-10)+115.67994401066147*ze(n-10)),43,4)*100)):(console.log("0 < t < 400, start= "+(-1.4*(e+t)+755)),Q(Ir(n=>e-(351.97690566805693+.114206453784165*(n-55)-40.25366309332127*ze(n-55)),-1.4*(e+t)+755,8)*100))}Z.temperature=Z.kelvin=Z.K=tf;function yn(e,t,r){const n=vs(e,t,r),i=pn(e,t,r),s=i-n;let o;return s==0?o=0:e==i?o=(t-r)/s+(t<r?6:0):t==i?o=2+(r-e)/s:o=4+(e-t)/s,[o*60,n,i]}function xn(e,t,r,n,i){const s=n*255,o=t*255+s,a=r*255+s;return e<60?[o,a,s,i]:e<120?[a,o,s,i]:e<180?[s,o,a,i]:e<240?[s,a,o,i]:e<300?[a,s,o,i]:[o,s,a,i]}function ws(e,t,r,n=1){e=Lr(e);const i=(1-xt(2*r-1))*t;return xn(e,i,i*(1-xt(e/60%2-1)),r-i/2,n)}function nf(e,t,r){const[n,i,s]=yn(e/255,t/255,r/255),o=(s+i)/2;let a;return s==i?a=0:a=o<.5?(s-i)/(s+i):(s-i)/(2-s-i),[n,a,o]}function sf(e,t,r,n=1){e=Lr(e);const i=r*t;return xn(e,i,i*(1-xt(e/60%2-1)),r-i,n)}function of(e,t,r){const[n,i,s]=yn(e,t,r),o=s-i,a=s/255,u=s==0?0:o/s;return[n,u,a]}function af(e,t,r,n=1){e=Lr(e);const i=r*(1-t);return xn(e,t,t*(1-xt(e/60%2-1)),i,n)}function uf(e,t,r){const[n,i,s]=yn(e,t,r),o=(s-i)/255,a=o<1?i/255/(1-o):0;return[n,o,a]}Z.hcg=af;function As(e,t,r,n=1){const[i,s,o]=ff(e,t,r);return Ls(i,s,o,n)}function ff(e,t,r){function n(i){return i>lf?i**3:Rs*(i-4/29)}return[Ss*n((e+16)/116+t/500),cr*n((e+16)/116),Es*n((e+16)/116-r/200)]}function cf(e,t,r){function n(i){return i>hf?$u(i):i/Rs+4/29}return[116*n(t/cr)-16,500*(n(e/Ss)-n(t/cr)),200*(n(t/cr)-n(r/Es))]}const ai=18,Ss=.95047,cr=1,Es=1.08883,lf=.206896552,Rs=.12841855,hf=.008856452;function Ps(e,t,r){const[n,i,s]=Yr(e,t,r);return cf(n,i,s)}function Yr(e,t,r){const n=Dr(e),i=Dr(t),s=Dr(r),o=.4124564*n+.3575761*i+.1804375*s,a=.2126729*n+.7151522*i+.072175*s,u=.0193339*n+.119192*i+.9503041*s;return[o,a,u]}function Ls(e,t,r,n=1){const i=3.2404542*e-1.5371385*t-.4985314*r,s=-.969266*e+1.8760108*t+.041556*r,o=.0556434*e-.2040259*t+1.0572252*r;return[kr(i),kr(s),kr(o),n]}Z.xyz=Ls;Z.lab=As;function df(e,t,r,n=1){let i,s,o,a=e*Xr;return a<2*Le/3?(o=(1-t)/3,i=(1+t*rt(a)/rt(Le/3-a))/3,s=1-(o+i)):a<4*Le/3?(a-=2*Le/3,i=(1-t)/3,s=(1+t*rt(a)/rt(Le/3-a))/3,o=1-(i+s)):(a-=4*Le/3,s=(1-t)/3,o=(1+t*rt(a)/rt(Le/3-a))/3,i=1-(s+o)),[3*r*i*255,3*r*s*255,3*r*o*255,n]}function _f(e,t,r){const n=e/255,i=t/255,s=r/255,o=(n+i+s)/3;if(n==i&&i==s)return[0,0,o];{const a=.5*(2*n-i-s),u=ur(3)/2*(i-s),f=bs(u,a),_=1-vs(n,i,s)/o;return[(f<0?2*Le+f:f)*mn,_,o]}}Z.hsi=df;pe.hsv=pe.hsl=pe.hsi=pe.lch=pe.hcg=function(t,r,n,i){const[s,o,a]=t[i](),[u,f,c]=r[i]();function _(b,C,x){const j=Lr(C-b+180)-180;return b+x*j}return Gt((i.charAt(0)=="h"?_:ee)(s,u,n),ee(o,f,n),(i.charAt(2)=="h"?_:ee)(a,c,n),i)};function Cs(e,t){let r=-1/0,n=-1;for(let i=0;i<e.length;i++){const s=t(e[i]);s>r&&(r=s,n=i)}return n}function gf(e,t){return e[Cs(e,t)]}function W(e,t,r){function n(a,u){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:u,constr:o,traits:new Set},enumerable:!1}),a._zod.traits.has(e))return;a._zod.traits.add(e),t(a,u);const f=o.prototype,c=Object.keys(f);for(let _=0;_<c.length;_++){const b=c[_];b in a||(a[b]=f[b].bind(a))}}const i=r?.Parent??Object;class s extends i{}Object.defineProperty(s,"name",{value:e});function o(a){var u;const f=r?.Parent?new s:this;n(f,a),(u=f._zod).deferred??(u.deferred=[]);for(const c of f._zod.deferred)c();return f}return Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>r?.Parent&&a instanceof r.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class kt extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const bf={};function Rt(e){return bf}function vf(e,t){return typeof t=="bigint"?t.toString():t}function pf(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}const ui=Symbol("evaluating");function Be(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==ui)return n===void 0&&(n=ui,n=r()),n},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}const $s="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function fi(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function mf(e){if(fi(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(fi(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function yf(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function ht(e){return{}}function Bt(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function zt(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function sr(e){return typeof e=="string"?e:e?.message}function Pt(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const i=sr(e.inst?._zod.def?.error?.(e))??sr(t?.error?.(e))??sr(r.customError?.(e))??sr(r.localeError?.(e))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}const js=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,vf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},xf=W("$ZodError",js),$r=W("$ZodError",js,{Parent:Error}),Of=e=>(t,r,n,i)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new kt;if(o.issues.length){const a=new(i?.Err??e)(o.issues.map(u=>Pt(u,s,Rt())));throw $s(a,i?.callee),a}return o.value},wf=Of($r),Af=e=>async(t,r,n,i)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new(i?.Err??e)(o.issues.map(u=>Pt(u,s,Rt())));throw $s(a,i?.callee),a}return o.value},Sf=Af($r),Ef=e=>(t,r,n)=>{const i=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise)throw new kt;return s.issues.length?{success:!1,error:new(e??xf)(s.issues.map(o=>Pt(o,i,Rt())))}:{success:!0,data:s.value}},Ms=Ef($r),Rf=e=>async(t,r,n)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>Pt(o,i,Rt())))}:{success:!0,data:s.value}},Ts=Rf($r),Pf=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Lf=/^-?\d+(?:\.\d+)?/,Cf=/^(?:true|false)$/i,$f=/^null$/i,jf={major:4,minor:1,patch:13},Ue=W("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=jf;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const i of n)for(const s of i._zod.onattach)s(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(o,a,u)=>{let f=Bt(o),c;for(const _ of a){if(_._zod.def.when){if(!_._zod.def.when(o))continue}else if(f)continue;const b=o.issues.length,C=_._zod.check(o);if(C instanceof Promise&&u?.async===!1)throw new kt;if(c||C instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await C,o.issues.length!==b&&(f||(f=Bt(o,b)))});else{if(o.issues.length===b)continue;f||(f=Bt(o,b))}}return c?c.then(()=>o):o},s=(o,a,u)=>{if(Bt(o))return o.aborted=!0,o;const f=i(a,n,u);if(f instanceof Promise){if(u.async===!1)throw new kt;return f.then(c=>e._zod.parse(c,u))}return e._zod.parse(f,u)};e._zod.run=(o,a)=>{if(a.skipChecks)return e._zod.parse(o,a);if(a.direction==="backward"){const f=e._zod.parse({value:o.value,issues:[]},{...a,skipChecks:!0});return f instanceof Promise?f.then(c=>s(c,o,a)):s(f,o,a)}const u=e._zod.parse(o,a);if(u instanceof Promise){if(a.async===!1)throw new kt;return u.then(f=>i(f,n,a))}return i(u,n,a)}}e["~standard"]={validate:i=>{try{const s=Ms(e,i);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return Ts(e,i).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),Mf=W("$ZodString",(e,t)=>{Ue.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Pf(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Tf=W("$ZodNumber",(e,t)=>{Ue.init(e,t),e._zod.pattern=e._zod.bag.pattern??Lf,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),r}}),Nf=W("$ZodBoolean",(e,t)=>{Ue.init(e,t),e._zod.pattern=Cf,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),r}}),Bf=W("$ZodNull",(e,t)=>{Ue.init(e,t),e._zod.pattern=$f,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{const i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),r}});function ci(e,t,r){e.issues.length&&t.issues.push(...zt(r,e.issues)),t.value[r]=e.value}const zf=W("$ZodArray",(e,t)=>{Ue.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);const s=[];for(let o=0;o<i.length;o++){const a=i[o],u=t.element._zod.run({value:a,issues:[]},n);u instanceof Promise?s.push(u.then(f=>ci(f,r,o))):ci(u,r,o)}return s.length?Promise.all(s).then(()=>r):r}});function li(e,t,r,n){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const i=e.filter(s=>!Bt(s));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(o=>Pt(o,n,Rt())))}),t)}const If=W("$ZodUnion",(e,t)=>{Ue.init(e,t),Be(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Be(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Be(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),Be(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>pf(s.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(r)return n(i,s);let o=!1;const a=[];for(const u of t.options){const f=u._zod.run({value:i.value,issues:[]},s);if(f instanceof Promise)a.push(f),o=!0;else{if(f.issues.length===0)return f;a.push(f)}}return o?Promise.all(a).then(u=>li(u,i,e,s)):li(a,i,e,s)}}),Df=W("$ZodRecord",(e,t)=>{Ue.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!mf(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),r;const s=[],o=t.keyType._zod.values;if(o){r.value={};const a=new Set;for(const f of o)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){a.add(typeof f=="number"?f.toString():f);const c=t.valueType._zod.run({value:i[f],issues:[]},n);c instanceof Promise?s.push(c.then(_=>{_.issues.length&&r.issues.push(...zt(f,_.issues)),r.value[f]=_.value})):(c.issues.length&&r.issues.push(...zt(f,c.issues)),r.value[f]=c.value)}let u;for(const f in i)a.has(f)||(u=u??[],u.push(f));u&&u.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:u})}else{r.value={};for(const a of Reflect.ownKeys(i)){if(a==="__proto__")continue;const u=t.keyType._zod.run({value:a,issues:[]},n);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(c=>Pt(c,n,Rt())),input:a,path:[a],inst:e}),r.value[u.value]=u.value;continue}const f=t.valueType._zod.run({value:i[a],issues:[]},n);f instanceof Promise?s.push(f.then(c=>{c.issues.length&&r.issues.push(...zt(a,c.issues)),r.value[u.value]=c.value})):(f.issues.length&&r.issues.push(...zt(a,f.issues)),r.value[u.value]=f.value)}}return s.length?Promise.all(s).then(()=>r):r}}),kf=W("$ZodLazy",(e,t)=>{Ue.init(e,t),Be(e._zod,"innerType",()=>t.getter()),Be(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),Be(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),Be(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),Be(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)});var hi;class Vf{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const i={...n,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Gf(){return new Vf}(hi=globalThis).__zod_globalRegistry??(hi.__zod_globalRegistry=Gf());function qf(e,t){return new e({type:"string",...ht()})}function Uf(e,t){return new e({type:"number",checks:[],...ht()})}function Kf(e,t){return new e({type:"boolean",...ht()})}function Ff(e,t){return new e({type:"null",...ht()})}const Qe=W("ZodMiniType",(e,t)=>{if(!e._zod)throw new Error("Uninitialized schema in ZodMiniType.");Ue.init(e,t),e.def=t,e.type=t.type,e.parse=(r,n)=>wf(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>Ms(e,r,n),e.parseAsync=async(r,n)=>Sf(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Ts(e,r,n),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>yf(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e))}),Zf=W("ZodMiniString",(e,t)=>{Mf.init(e,t),Qe.init(e,t)});function On(e){return qf(Zf)}const Wf=W("ZodMiniNumber",(e,t)=>{Tf.init(e,t),Qe.init(e,t)});function Hf(e){return Uf(Wf)}const Jf=W("ZodMiniBoolean",(e,t)=>{Nf.init(e,t),Qe.init(e,t)});function Xf(e){return Kf(Jf)}const Yf=W("ZodMiniNull",(e,t)=>{Bf.init(e,t),Qe.init(e,t)});function Qf(e){return Ff(Yf)}const ec=W("ZodMiniArray",(e,t)=>{zf.init(e,t),Qe.init(e,t)});function tc(e,t){return new ec({type:"array",element:e,...ht()})}const rc=W("ZodMiniUnion",(e,t)=>{If.init(e,t),Qe.init(e,t)});function Ns(e,t){return new rc({type:"union",options:e,...ht()})}const nc=W("ZodMiniRecord",(e,t)=>{Df.init(e,t),Qe.init(e,t)});function Bs(e,t,r){return new nc({type:"record",keyType:e,valueType:t,...ht()})}const ic=W("ZodMiniLazy",(e,t)=>{kf.init(e,t),Qe.init(e,t)});function sc(e){return new ic({type:"lazy",getter:e})}const oc=Ns([On(),Hf(),Xf(),Qf()]),Qr=sc(()=>Ns([oc,tc(Qr),Bs(On(),Qr)]));Bs(On(),Qr);export{v as $,Ia as A,Da as B,ut as C,ha as D,ba as E,cn as F,ln as G,Xa as H,qe as I,Ja as J,wc as K,mc as L,Oc as M,fn as N,dn as O,yc as P,hc as Q,Te as R,bc as S,dc as T,lc as U,_c as V,gc as W,vc as X,pc as Y,Ot as Z,Ac as _,ye as a,Gt as a0,Sc as a1,Zs as a2,cc as a3,du as a4,Qr as a5,Za as b,nn as c,iu as d,re as e,J as f,fc as g,ru as h,te as i,os as j,Vt as k,eu as l,xc as m,fe as n,H as o,Pr as p,au as q,tu as r,ss as s,Ce as t,un as u,Qa as v,Vn as w,Ht as x,ja as y,fs as z};
